var C=Object.defineProperty;var y=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(o,e,r)=>e in o?C(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r,b=(o,e)=>{for(var r in e||(e={}))M.call(e,r)&&g(o,r,e[r]);if(y)for(var r of y(e))R.call(e,r)&&g(o,r,e[r]);return o};var x=(o,e,r)=>(g(o,typeof e!="symbol"?e+"":e,r),r);import{u as _,r as c,j as f,a as n,C as N,T as I,v as P,b as O,O as k,f as w,R as A,H as z,c as H,d as p,e as $}from"./vendor.943528eb.js";const j=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function r(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(t){if(t.ep)return;t.ep=!0;const i=r(t);fetch(t.href,i)}};j();const B="modulepreload",S={},D="./",E=function(e,r){return!r||r.length===0?e():Promise.all(r.map(s=>{if(s=`${D}${s}`,s in S)return;S[s]=!0;const t=s.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${i}`))return;const a=document.createElement("link");if(a.rel=t?"stylesheet":B,t||(a.as="script",a.crossOrigin=""),a.href=s,document.head.appendChild(a),t)return new Promise((u,l)=>{a.addEventListener("load",u),a.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};const L=["vite-react-ts","vite-vue-ts"],W=(o,e)=>{o(`/sub-app/${e}`)},F=[{label:"Image Parser",icon:"pi pi-images",path:"image-parser"},{label:"Flow Chart",icon:"pi pi-sitemap",path:"flow-chart"}],X=(o,e)=>{o(`/tool/${e}`)},Y=[{label:"zt",icon:"pi pi-bolt",path:"zt"}],V=(o,e)=>{console.log("to misc: ",e)};class q{constructor(){x(this,"ref",null)}bind(e){this.ref=e}info(e,r,s=3e3){var t;(t=this.ref)==null||t.show({severity:"info",summary:r,detail:e,life:s})}success(e,r,s=3e3){var t;(t=this.ref)==null||t.show({severity:"success",summary:r,detail:e,life:s})}warn(e,r,s=3e3){var t;(t=this.ref)==null||t.show({severity:"warn",summary:r,detail:e,life:s})}error(e,r,s=3e3){var t;(t=this.ref)==null||t.show({severity:"error",summary:r,detail:e,life:s})}clear(){var e;(e=this.ref)==null||e.clear()}replyCancel(){this.info("Think twice before you press your mouse!")}}const K=new q,v=()=>K;function U(){const o=_(),e=v(),r=c.exports.useRef(null),s=[{label:"What do you want?",disabled:!0},{label:"Home",icon:"pi pi-home",command(){o("/")}},{label:"Sub App",icon:"pi pi-database",items:L.map(l=>({label:l,icon:"pi pi-book",command(){W(o,l)}}))},{label:"Tool",icon:"pi pi-box",items:F.map(l=>({label:l.label,icon:l.icon,command(){X(o,l.path)}}))},{label:"Misc",icon:"pi pi-hashtag",items:Y.map(l=>({label:l.label,icon:l.icon,command(){V(o,l.path)}}))},{label:"Star Me",icon:"pi pi-star",command:()=>{window.open("https://github.com/lopo12123/lopo12123","_blank")}},{label:"Noting",icon:"pi pi-power-off",command(){e.replyCancel()}}],[t,i]=c.exports.useState(!1),[a,u]=c.exports.useState(!1);return f("div",{children:[n("div",{className:"drag-controller",onContextMenu:l=>{var d;(d=r.current)==null||d.show(l)},children:n("div",{id:"navigate-menu","data-pr-tooltip":"you can drag me anywhere.",style:{position:"relative",width:a?"80px":"40px",height:"40px",marginLeft:a?"0":"20px",border:"dashed 1px #777777",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",transition:"ease 1s",overflow:"hidden"},onMouseEnter:()=>{t||u(!0)},onMouseLeave:()=>{t||u(!1)},children:a?f("span",{style:{color:"#777777",fontFamily:"Curlz MT",fontSize:"16px",fontWeight:"bold",lineHeight:"16px",whiteSpace:"nowrap"},children:["Right-Click ",n("br",{}),"Show Menu"]}):n("span",{className:"custom-rgb",style:{opacity:"0.5"},children:n("i",{className:"pi pi-cog pi-spin",style:{fontSize:"24px"}})})})}),n(N,{ref:r,model:s,onShow:()=>{i(!0)},onHide:()=>{i(!1),u(!1)}}),n(I,{target:"#navigate-menu",mouseTrack:!0,mouseTrackTop:20,position:"bottom"})]})}const T=o=>{const e=o.currentTarget,r=e.dataset.dragTarget,t=(o.path||o.composedPath&&o.composedPath()).find(d=>!!d.dataset.dragId&&d.dataset.dragId===r);if(!e||!r||!t)return;const i=o.clientX-t.offsetLeft,a=o.clientY-t.offsetTop,u=d=>{const h=d.clientX-i,m=d.clientY-a;h>0&&h<window.innerWidth-e.offsetWidth-10&&(t.style.left=h+"px"),m>0&&m<window.innerHeight-e.offsetHeight-10&&(t.style.top=m+"px")},l=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",l)},G=({innerEl:o,initPos:e})=>{const r=c.exports.useRef(null),s=P();return c.exports.useLayoutEffect(()=>{var i;const t=(i=r.current)==null?void 0:i.getElementsByClassName("drag-controller")[0];if(!t)throw new Error("No controller for this draggable element.");return t.dataset.dragTarget=s,t.style.cursor="grab",t.style.userSelect="none",t.addEventListener("mousedown",T),()=>{t.removeEventListener("mousedown",T)}},[]),n("div",{ref:r,"data-drag-id":s,style:b({position:"absolute",zIndex:"10000",width:"fit-content",height:"fit-content"},e),children:o})};function J(){const o=c.exports.useRef(null);return c.exports.useEffect(()=>(v().bind(o.current),()=>{v().bind(null)}),[]),f("div",{className:"App custom-cursor",style:{position:"relative",width:"100%",height:"100%"},children:[n(O,{ref:o}),n(G,{initPos:{right:"50px",top:"50px"},innerEl:n(U,{})},"test"),n(k,{})]})}const Q=()=>{const o=c.exports.useRef(null);return c.exports.useLayoutEffect(()=>{const e=new w.fabric.Canvas(o.current),r=new w.fabric.Rect({top:100,left:100,width:60,height:60,fill:"#cccccc"});e.add(r)},[]),n("div",{children:n("canvas",{ref:o})})},Z=c.exports.lazy(()=>E(()=>import("./ImageParser.f1e5432a.js"),["assets/ImageParser.f1e5432a.js","assets/vendor.943528eb.js"])),ee=c.exports.lazy(()=>E(()=>import("./FlowChart.4592c39c.js"),["assets/FlowChart.4592c39c.js","assets/vendor.943528eb.js"])),te="/lopo12123/packages/{SPA_NAME}/main.js";A.render(n(c.exports.StrictMode,{children:n(z,{children:n(c.exports.Suspense,{fallback:n("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:"loading"}),children:n(H,{children:f(p,{path:"/",element:n(J,{}),children:[n(p,{path:"",element:n(Q,{})}),f(p,{path:"tool",children:[n(p,{path:"image-parser",element:n(Z,{})}),n(p,{path:"flow-chart",element:n(ee,{})})]}),n(p,{path:"sub-app",children:L.map((o,e)=>n(p,{path:o,element:n($,{entryPath:te.replace("{SPA_NAME}",o)},o)},e))})]})})})})}),document.getElementById("root"));export{v as u};
