var A=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var a=(r,e,t)=>(A(r,e,"read from private field"),t?t.call(r):e.get(r)),p=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},l=(r,e,t,s)=>(A(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);import{_ as N,d as V,r as D,o as h,c,e as M,F as b,f as E,p as z,g as $,h as j,i as I,t as k,j as g,n as L,k as T}from"./index.4aff2891.js";var _,m,i,o;class q{constructor(e=9,t=9,s){p(this,_,0);p(this,m,0);p(this,i,[]);p(this,o,0);this.init_ground(e,t,s),this.init_mine()}get mine(){return a(this,o)}init_ground(e=10,t=10,s){e<9?e=9:e>30&&(e=30),t<9?t=9:t>30&&(t=30),l(this,_,e),l(this,m,t),l(this,i,new Array(t).fill(0).map(()=>new Array(e).fill(-5))),s?s<10?l(this,o,10):s>(e-1)*(t-1)?l(this,o,(e-1)*(t-1)):l(this,o,s):e+t<32?l(this,o,Math.floor(.13*e*t)):e+t<46?l(this,o,Math.floor(.19*e*t)):l(this,o,Math.floor(.25*e*t))}init_mine(){let e=a(this,o);const t=new Array(a(this,_)*a(this,m)).fill(0).map((f,u)=>u);let s;for(;e>0;)s=Math.floor(Math.random()*t.length),a(this,i)[Math.floor(t[s]/a(this,_))][t[s]%a(this,_)]=-6,t.splice(s,1),e-=1}count_around(e,t){let s=0;for(let f=Math.max(0,t-1);f<=Math.min(a(this,m)-1,t+1);f++)for(let u=Math.max(0,e-1);u<=Math.min(a(this,_)-1,e+1);u++)(a(this,i)[f][u]===-6||a(this,i)[f][u]===-4||a(this,i)[f][u]===-2)&&(s+=1);return s}dig(e,t){const s=a(this,i)[t][e];return s>=0||s===-3||s===-4||s===-1||s===-2?!1:s===-6?!0:(a(this,i)[t][e]=this.count_around(e,t),!1)}mark(e,t){const s=a(this,i)[t][e];s>=0||(s===-6?a(this,i)[t][e]=-4:s===-4?a(this,i)[t][e]=-2:s===-2?a(this,i)[t][e]=-6:s===-5?a(this,i)[t][e]=-3:s===-3?a(this,i)[t][e]=-1:s===-1&&(a(this,i)[t][e]=-5))}have_a_look(){return a(this,i).map(e=>[...e])}}_=new WeakMap,m=new WeakMap,i=new WeakMap,o=new WeakMap;const G=r=>(z("data-v-d0a864d8"),r=r(),$(),r),H={class:"mime-sweeper"},J=G(()=>M("div",{class:"banner-area"},[T(" mime-sweeper "),M("br")],-1)),K={class:"ground-area"},O={class:"ground-container"},P=["onClick","onContextmenu"],Q={key:0,class:"mark"},R={key:1,class:"mark"},U={key:3,class:"label"},W=V({setup(r){const e=D(!1),t=new q,s=D(t.have_a_look()),f=(d,v)=>{if(e.value){alert("\u5DF2\u7ED3\u675F");return}e.value=t.dig(d,v),s.value=t.have_a_look()},u=(d,v,w)=>{if(e.value){alert("\u5DF2\u7ED3\u675F");return}w.preventDefault(),t.mark(d,v),s.value=t.have_a_look()},B=d=>{switch(d){case 1:return"#ff0000";case 2:return"#ffa500";case 3:return"#ffff00";case 4:return"#008000";case 5:return"#2da0ff";case 6:return"#0000ff";case 7:return"#800080";case 8:return"#000000"}};return(d,v)=>(h(),c("div",H,[J,M("div",K,[M("div",O,[(h(!0),c(b,null,E(s.value,(w,F)=>(h(),c("div",{class:"row",key:"row-"+F},[(h(!0),c(b,null,E(w,(n,C)=>(h(),c("div",{class:j(["column",n<0?"uncheck":"checked"]),key:"col-"+C,onClick:I(S=>f(C,F),["left"]),onContextmenu:I(S=>u(C,F,S),["right"])},[n===-1||n===-2?(h(),c("span",Q,k("\u2753"))):g("",!0),n===-3||n===-4?(h(),c("span",R,k("\u{1F6A9}"))):g("",!0),n>=0?(h(),c("span",{key:2,class:"label",style:L(`color: ${B(n)}`)},k(n>0?n:"\xA0"),5)):g("",!0),e.value&&(n===-6||n===-4||n===-2)?(h(),c("span",U,k("\u{1F4A3}"))):g("",!0)],42,P))),128))]))),128))])])]))}});var Z=N(W,[["__scopeId","data-v-d0a864d8"]]);export{Z as default};
