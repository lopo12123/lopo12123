var hh=Object.defineProperty,dh=Object.defineProperties;var ph=Object.getOwnPropertyDescriptors;var qi=Object.getOwnPropertySymbols;var al=Object.prototype.hasOwnProperty,ll=Object.prototype.propertyIsEnumerable;var sl=(t,e,n)=>e in t?hh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qn=(t,e)=>{for(var n in e||(e={}))al.call(e,n)&&sl(t,n,e[n]);if(qi)for(var n of qi(e))ll.call(e,n)&&sl(t,n,e[n]);return t},mo=(t,e)=>dh(t,ph(e));var ul=(t,e)=>{var n={};for(var l in t)al.call(t,l)&&e.indexOf(l)<0&&(n[l]=t[l]);if(t!=null&&qi)for(var l of qi(t))e.indexOf(l)<0&&ll.call(t,l)&&(n[l]=t[l]);return n};var xm=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function gh(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var l=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:function(){return t[n]}})}),e}function Tm(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ae={exports:{}},de={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var cl=Object.getOwnPropertySymbols,mh=Object.prototype.hasOwnProperty,vh=Object.prototype.propertyIsEnumerable;function yh(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function _h(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var l=Object.getOwnPropertyNames(e).map(function(v){return e[v]});if(l.join("")!=="0123456789")return!1;var f={};return"abcdefghijklmnopqrst".split("").forEach(function(v){f[v]=v}),Object.keys(Object.assign({},f)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ku=_h()?Object.assign:function(t,e){for(var n,l=yh(t),f,v=1;v<arguments.length;v++){n=Object(arguments[v]);for(var C in n)mh.call(n,C)&&(l[C]=n[C]);if(cl){f=cl(n);for(var u=0;u<f.length;u++)vh.call(n,f[u])&&(l[f[u]]=n[f[u]])}}return l};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qs=Ku,zn=60103,qu=60106;de.Fragment=60107;de.StrictMode=60108;de.Profiler=60114;var Qu=60109,Zu=60110,Ju=60112;de.Suspense=60113;var ec=60115,tc=60116;if(typeof Symbol=="function"&&Symbol.for){var tt=Symbol.for;zn=tt("react.element"),qu=tt("react.portal"),de.Fragment=tt("react.fragment"),de.StrictMode=tt("react.strict_mode"),de.Profiler=tt("react.profiler"),Qu=tt("react.provider"),Zu=tt("react.context"),Ju=tt("react.forward_ref"),de.Suspense=tt("react.suspense"),ec=tt("react.memo"),tc=tt("react.lazy")}var fl=typeof Symbol=="function"&&Symbol.iterator;function Ch(t){return t===null||typeof t!="object"?null:(t=fl&&t[fl]||t["@@iterator"],typeof t=="function"?t:null)}function zi(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ic={};function Xn(t,e,n){this.props=t,this.context=e,this.refs=ic,this.updater=n||nc}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(zi(85));this.updater.enqueueSetState(this,t,e,"setState")};Xn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function rc(){}rc.prototype=Xn.prototype;function Zs(t,e,n){this.props=t,this.context=e,this.refs=ic,this.updater=n||nc}var Js=Zs.prototype=new rc;Js.constructor=Zs;Qs(Js,Xn.prototype);Js.isPureReactComponent=!0;var ea={current:null},oc=Object.prototype.hasOwnProperty,sc={key:!0,ref:!0,__self:!0,__source:!0};function ac(t,e,n){var l,f={},v=null,C=null;if(e!=null)for(l in e.ref!==void 0&&(C=e.ref),e.key!==void 0&&(v=""+e.key),e)oc.call(e,l)&&!sc.hasOwnProperty(l)&&(f[l]=e[l]);var u=arguments.length-2;if(u===1)f.children=n;else if(1<u){for(var i=Array(u),h=0;h<u;h++)i[h]=arguments[h+2];f.children=i}if(t&&t.defaultProps)for(l in u=t.defaultProps,u)f[l]===void 0&&(f[l]=u[l]);return{$$typeof:zn,type:t,key:v,ref:C,props:f,_owner:ea.current}}function Sh(t,e){return{$$typeof:zn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ta(t){return typeof t=="object"&&t!==null&&t.$$typeof===zn}function wh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hl=/\/+/g;function vo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wh(""+t.key):e.toString(36)}function fr(t,e,n,l,f){var v=typeof t;(v==="undefined"||v==="boolean")&&(t=null);var C=!1;if(t===null)C=!0;else switch(v){case"string":case"number":C=!0;break;case"object":switch(t.$$typeof){case zn:case qu:C=!0}}if(C)return C=t,f=f(C),t=l===""?"."+vo(C,0):l,Array.isArray(f)?(n="",t!=null&&(n=t.replace(hl,"$&/")+"/"),fr(f,e,n,"",function(h){return h})):f!=null&&(ta(f)&&(f=Sh(f,n+(!f.key||C&&C.key===f.key?"":(""+f.key).replace(hl,"$&/")+"/")+t)),e.push(f)),1;if(C=0,l=l===""?".":l+":",Array.isArray(t))for(var u=0;u<t.length;u++){v=t[u];var i=l+vo(v,u);C+=fr(v,e,n,i,f)}else if(i=Ch(t),typeof i=="function")for(t=i.call(t),u=0;!(v=t.next()).done;)v=v.value,i=l+vo(v,u++),C+=fr(v,e,n,i,f);else if(v==="object")throw e=""+t,Error(zi(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return C}function Qi(t,e,n){if(t==null)return t;var l=[],f=0;return fr(t,l,"","",function(v){return e.call(n,v,f++)}),l}function xh(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var lc={current:null};function St(){var t=lc.current;if(t===null)throw Error(zi(321));return t}var Th={ReactCurrentDispatcher:lc,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ea,IsSomeRendererActing:{current:!1},assign:Qs};de.Children={map:Qi,forEach:function(t,e,n){Qi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qi(t,function(){e++}),e},toArray:function(t){return Qi(t,function(e){return e})||[]},only:function(t){if(!ta(t))throw Error(zi(143));return t}};de.Component=Xn;de.PureComponent=Zs;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Th;de.cloneElement=function(t,e,n){if(t==null)throw Error(zi(267,t));var l=Qs({},t.props),f=t.key,v=t.ref,C=t._owner;if(e!=null){if(e.ref!==void 0&&(v=e.ref,C=ea.current),e.key!==void 0&&(f=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(i in e)oc.call(e,i)&&!sc.hasOwnProperty(i)&&(l[i]=e[i]===void 0&&u!==void 0?u[i]:e[i])}var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){u=Array(i);for(var h=0;h<i;h++)u[h]=arguments[h+2];l.children=u}return{$$typeof:zn,type:t.type,key:f,ref:v,props:l,_owner:C}};de.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Zu,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Qu,_context:t},t.Consumer=t};de.createElement=ac;de.createFactory=function(t){var e=ac.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:Ju,render:t}};de.isValidElement=ta;de.lazy=function(t){return{$$typeof:tc,_payload:{_status:-1,_result:t},_init:xh}};de.memo=function(t,e){return{$$typeof:ec,type:t,compare:e===void 0?null:e}};de.useCallback=function(t,e){return St().useCallback(t,e)};de.useContext=function(t,e){return St().useContext(t,e)};de.useDebugValue=function(){};de.useEffect=function(t,e){return St().useEffect(t,e)};de.useImperativeHandle=function(t,e,n){return St().useImperativeHandle(t,e,n)};de.useLayoutEffect=function(t,e){return St().useLayoutEffect(t,e)};de.useMemo=function(t,e){return St().useMemo(t,e)};de.useReducer=function(t,e,n){return St().useReducer(t,e,n)};de.useRef=function(t){return St().useRef(t)};de.useState=function(t){return St().useState(t)};de.version="17.0.2";ae.exports=de;var Fe=ae.exports,uc={exports:{}},et={},cc={exports:{}},fc={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,l,f;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;t.unstable_now=function(){return v.now()}}else{var C=Date,u=C.now();t.unstable_now=function(){return C.now()-u}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var i=null,h=null,d=function(){if(i!==null)try{var b=t.unstable_now();i(!0,b),i=null}catch(k){throw setTimeout(d,0),k}};e=function(b){i!==null?setTimeout(e,0,b):(i=b,setTimeout(d,0))},n=function(b,k){h=setTimeout(b,k)},l=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},f=t.unstable_forceFrameRate=function(){}}else{var s=window.setTimeout,a=window.clearTimeout;if(typeof console!="undefined"){var r=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof r!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var c=!1,g=null,o=-1,p=5,m=0;t.unstable_shouldYield=function(){return t.unstable_now()>=m},f=function(){},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<b?Math.floor(1e3/b):5};var y=new MessageChannel,_=y.port2;y.port1.onmessage=function(){if(g!==null){var b=t.unstable_now();m=b+p;try{g(!0,b)?_.postMessage(null):(c=!1,g=null)}catch(k){throw _.postMessage(null),k}}else c=!1},e=function(b){g=b,c||(c=!0,_.postMessage(null))},n=function(b,k){o=s(function(){b(t.unstable_now())},k)},l=function(){a(o),o=-1}}function S(b,k){var R=b.length;b.push(k);e:for(;;){var P=R-1>>>1,x=b[P];if(x!==void 0&&0<O(x,k))b[P]=k,b[R]=x,R=P;else break e}}function w(b){return b=b[0],b===void 0?null:b}function E(b){var k=b[0];if(k!==void 0){var R=b.pop();if(R!==k){b[0]=R;e:for(var P=0,x=b.length;P<x;){var L=2*(P+1)-1,M=b[L],W=L+1,I=b[W];if(M!==void 0&&0>O(M,R))I!==void 0&&0>O(I,M)?(b[P]=I,b[W]=R,P=W):(b[P]=M,b[L]=R,P=L);else if(I!==void 0&&0>O(I,R))b[P]=I,b[W]=R,P=W;else break e}}return k}return null}function O(b,k){var R=b.sortIndex-k.sortIndex;return R!==0?R:b.id-k.id}var A=[],j=[],V=1,G=null,$=3,Q=!1,K=!1,te=!1;function re(b){for(var k=w(j);k!==null;){if(k.callback===null)E(j);else if(k.startTime<=b)E(j),k.sortIndex=k.expirationTime,S(A,k);else break;k=w(j)}}function ne(b){if(te=!1,re(b),!K)if(w(A)!==null)K=!0,e(T);else{var k=w(j);k!==null&&n(ne,k.startTime-b)}}function T(b,k){K=!1,te&&(te=!1,l()),Q=!0;var R=$;try{for(re(k),G=w(A);G!==null&&(!(G.expirationTime>k)||b&&!t.unstable_shouldYield());){var P=G.callback;if(typeof P=="function"){G.callback=null,$=G.priorityLevel;var x=P(G.expirationTime<=k);k=t.unstable_now(),typeof x=="function"?G.callback=x:G===w(A)&&E(A),re(k)}else E(A);G=w(A)}if(G!==null)var L=!0;else{var M=w(j);M!==null&&n(ne,M.startTime-k),L=!1}return L}finally{G=null,$=R,Q=!1}}var D=f;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){K||Q||(K=!0,e(T))},t.unstable_getCurrentPriorityLevel=function(){return $},t.unstable_getFirstCallbackNode=function(){return w(A)},t.unstable_next=function(b){switch($){case 1:case 2:case 3:var k=3;break;default:k=$}var R=$;$=k;try{return b()}finally{$=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(b,k){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=$;$=b;try{return k()}finally{$=R}},t.unstable_scheduleCallback=function(b,k,R){var P=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?P+R:P):R=P,b){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=R+x,b={id:V++,callback:k,priorityLevel:b,startTime:R,expirationTime:x,sortIndex:-1},R>P?(b.sortIndex=R,S(j,b),w(A)===null&&b===w(j)&&(te?l():te=!0,n(ne,R-P))):(b.sortIndex=x,S(A,b),K||Q||(K=!0,e(T))),b},t.unstable_wrapCallback=function(b){var k=$;return function(){var R=$;$=k;try{return b.apply(this,arguments)}finally{$=R}}}})(fc);cc.exports=fc;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=ae.exports,Ce=Ku,Oe=cc.exports;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Qr)throw Error(Z(227));var hc=new Set,Pi={};function fn(t,e){jn(t,e),jn(t+"Capture",e)}function jn(t,e){for(Pi[t]=e,t=0;t<e.length;t++)hc.add(e[t])}var _t=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Eh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dl=Object.prototype.hasOwnProperty,pl={},gl={};function bh(t){return dl.call(gl,t)?!0:dl.call(pl,t)?!1:Eh.test(t)?gl[t]=!0:(pl[t]=!0,!1)}function Oh(t,e,n,l){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return l?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kh(t,e,n,l){if(e===null||typeof e=="undefined"||Oh(t,e,n,l))return!0;if(l)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function He(t,e,n,l,f,v,C){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=l,this.attributeNamespace=f,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=v,this.removeEmptyString=C}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new He(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var na=/[\-:]([a-z])/g;function ia(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(na,ia);Le[e]=new He(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(na,ia);Le[e]=new He(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(na,ia);Le[e]=new He(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function ra(t,e,n,l){var f=Le.hasOwnProperty(e)?Le[e]:null,v=f!==null?f.type===0:l?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");v||(kh(e,n,f,l)&&(n=null),l||f===null?bh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):f.mustUseProperty?t[f.propertyName]=n===null?f.type===3?!1:"":n:(e=f.attributeName,l=f.attributeNamespace,n===null?t.removeAttribute(e):(f=f.type,n=f===3||f===4&&n===!0?"":""+n,l?t.setAttributeNS(l,e,n):t.setAttribute(e,n))))}var hn=Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ci=60103,qt=60106,Et=60107,oa=60108,vi=60114,sa=60109,aa=60110,Zr=60112,yi=60113,wr=60120,Jr=60115,la=60116,ua=60121,ca=60128,dc=60129,fa=60130,$o=60131;if(typeof Symbol=="function"&&Symbol.for){var be=Symbol.for;ci=be("react.element"),qt=be("react.portal"),Et=be("react.fragment"),oa=be("react.strict_mode"),vi=be("react.profiler"),sa=be("react.provider"),aa=be("react.context"),Zr=be("react.forward_ref"),yi=be("react.suspense"),wr=be("react.suspense_list"),Jr=be("react.memo"),la=be("react.lazy"),ua=be("react.block"),be("react.scope"),ca=be("react.opaque.id"),dc=be("react.debug_trace_mode"),fa=be("react.offscreen"),$o=be("react.legacy_hidden")}var ml=typeof Symbol=="function"&&Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=ml&&t[ml]||t["@@iterator"],typeof t=="function"?t:null)}var yo;function fi(t){if(yo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yo=e&&e[1]||""}return`
`+yo+t}var _o=!1;function Zi(t,e){if(!t||_o)return"";_o=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(i){var l=i}Reflect.construct(t,[],e)}else{try{e.call()}catch(i){l=i}t.call(e.prototype)}else{try{throw Error()}catch(i){l=i}t()}}catch(i){if(i&&l&&typeof i.stack=="string"){for(var f=i.stack.split(`
`),v=l.stack.split(`
`),C=f.length-1,u=v.length-1;1<=C&&0<=u&&f[C]!==v[u];)u--;for(;1<=C&&0<=u;C--,u--)if(f[C]!==v[u]){if(C!==1||u!==1)do if(C--,u--,0>u||f[C]!==v[u])return`
`+f[C].replace(" at new "," at ");while(1<=C&&0<=u);break}}}finally{_o=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fi(t):""}function Ph(t){switch(t.tag){case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return fi("Suspense");case 19:return fi("SuspenseList");case 0:case 2:case 15:return t=Zi(t.type,!1),t;case 11:return t=Zi(t.type.render,!1),t;case 22:return t=Zi(t.type._render,!1),t;case 1:return t=Zi(t.type,!0),t;default:return""}}function bn(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Et:return"Fragment";case qt:return"Portal";case vi:return"Profiler";case oa:return"StrictMode";case yi:return"Suspense";case wr:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aa:return(t.displayName||"Context")+".Consumer";case sa:return(t._context.displayName||"Context")+".Provider";case Zr:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Jr:return bn(t.type);case ua:return bn(t._render);case la:e=t._payload,t=t._init;try{return bn(t(e))}catch{}}return null}function Nt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function pc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dh(t){var e=pc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),l=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var f=n.get,v=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return f.call(this)},set:function(C){l=""+C,v.call(this,C)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ji(t){t._valueTracker||(t._valueTracker=Dh(t))}function gc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),l="";return t&&(l=pc(t)?t.checked?"true":"false":t.value),t=l,t!==n?(e.setValue(t),!0):!1}function xr(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ko(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function vl(t,e){var n=e.defaultValue==null?"":e.defaultValue,l=e.checked!=null?e.checked:e.defaultChecked;n=Nt(e.value!=null?e.value:n),t._wrapperState={initialChecked:l,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mc(t,e){e=e.checked,e!=null&&ra(t,"checked",e,!1)}function qo(t,e){mc(t,e);var n=Nt(e.value),l=e.type;if(n!=null)l==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qo(t,e.type,n):e.hasOwnProperty("defaultValue")&&Qo(t,e.type,Nt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var l=e.type;if(!(l!=="submit"&&l!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Qo(t,e,n){(e!=="number"||xr(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Ah(t){var e="";return Qr.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Zo(t,e){return t=Ce({children:void 0},e),(e=Ah(e.children))&&(t.children=e),t}function On(t,e,n,l){if(t=t.options,e){e={};for(var f=0;f<n.length;f++)e["$"+n[f]]=!0;for(n=0;n<t.length;n++)f=e.hasOwnProperty("$"+t[n].value),t[n].selected!==f&&(t[n].selected=f),f&&l&&(t[n].defaultSelected=!0)}else{for(n=""+Nt(n),e=null,f=0;f<t.length;f++){if(t[f].value===n){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}e!==null||t[f].disabled||(e=t[f])}e!==null&&(e.selected=!0)}}function Jo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _l(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Nt(n)}}function vc(t,e){var n=Nt(e.value),l=Nt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),l!=null&&(t.defaultValue=""+l)}function Cl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var es={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function yc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ts(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var er,_c=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,l,f){MSApp.execUnsafeLocalFunction(function(){return t(e,n,l,f)})}:t}(function(t,e){if(t.namespaceURI!==es.svg||"innerHTML"in t)t.innerHTML=e;else{for(er=er||document.createElement("div"),er.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=er.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Di(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lh=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(t){Lh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_i[e]=_i[t]})});function Cc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_i.hasOwnProperty(t)&&_i[t]?(""+e).trim():e+"px"}function Sc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var l=n.indexOf("--")===0,f=Cc(n,e[n],l);n==="float"&&(n="cssFloat"),l?t.setProperty(n,f):t[n]=f}}var Rh=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ns(t,e){if(e){if(Rh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function is(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ha(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rs=null,kn=null,Pn=null;function Sl(t){if(t=Yi(t)){if(typeof rs!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=oo(e),rs(t.stateNode,t.type,e))}}function wc(t){kn?Pn?Pn.push(t):Pn=[t]:kn=t}function xc(){if(kn){var t=kn,e=Pn;if(Pn=kn=null,Sl(t),e)for(t=0;t<e.length;t++)Sl(e[t])}}function da(t,e){return t(e)}function Tc(t,e,n,l,f){return t(e,n,l,f)}function pa(){}var Ec=da,Qt=!1,Co=!1;function ga(){(kn!==null||Pn!==null)&&(pa(),xc())}function Mh(t,e,n){if(Co)return t(e,n);Co=!0;try{return Ec(t,e,n)}finally{Co=!1,ga()}}function Ai(t,e){var n=t.stateNode;if(n===null)return null;var l=oo(n);if(l===null)return null;n=l[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var os=!1;if(_t)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){os=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{os=!1}function Fh(t,e,n,l,f,v,C,u,i){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Ci=!1,Tr=null,Er=!1,ss=null,Ih={onError:function(t){Ci=!0,Tr=t}};function jh(t,e,n,l,f,v,C,u,i){Ci=!1,Tr=null,Fh.apply(Ih,arguments)}function Nh(t,e,n,l,f,v,C,u,i){if(jh.apply(this,arguments),Ci){if(Ci){var h=Tr;Ci=!1,Tr=null}else throw Error(Z(198));Er||(Er=!0,ss=h)}}function dn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wl(t){if(dn(t)!==t)throw Error(Z(188))}function Bh(t){var e=t.alternate;if(!e){if(e=dn(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,l=e;;){var f=n.return;if(f===null)break;var v=f.alternate;if(v===null){if(l=f.return,l!==null){n=l;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===n)return wl(f),t;if(v===l)return wl(f),e;v=v.sibling}throw Error(Z(188))}if(n.return!==l.return)n=f,l=v;else{for(var C=!1,u=f.child;u;){if(u===n){C=!0,n=f,l=v;break}if(u===l){C=!0,l=f,n=v;break}u=u.sibling}if(!C){for(u=v.child;u;){if(u===n){C=!0,n=v,l=f;break}if(u===l){C=!0,l=v,n=f;break}u=u.sibling}if(!C)throw Error(Z(189))}}if(n.alternate!==l)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function Oc(t){if(t=Bh(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function xl(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var kc,ma,Pc,Dc,as=!1,st=[],Pt=null,Dt=null,At=null,Li=new Map,Ri=new Map,ei=[],Tl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ls(t,e,n,l,f){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:f,targetContainers:[l]}}function El(t,e){switch(t){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ri.delete(e.pointerId)}}function ti(t,e,n,l,f,v){return t===null||t.nativeEvent!==v?(t=ls(e,n,l,f,v),e!==null&&(e=Yi(e),e!==null&&ma(e)),t):(t.eventSystemFlags|=l,e=t.targetContainers,f!==null&&e.indexOf(f)===-1&&e.push(f),t)}function Wh(t,e,n,l,f){switch(e){case"focusin":return Pt=ti(Pt,t,e,n,l,f),!0;case"dragenter":return Dt=ti(Dt,t,e,n,l,f),!0;case"mouseover":return At=ti(At,t,e,n,l,f),!0;case"pointerover":var v=f.pointerId;return Li.set(v,ti(Li.get(v)||null,t,e,n,l,f)),!0;case"gotpointercapture":return v=f.pointerId,Ri.set(v,ti(Ri.get(v)||null,t,e,n,l,f)),!0}return!1}function Hh(t){var e=Zt(t.target);if(e!==null){var n=dn(e);if(n!==null){if(e=n.tag,e===13){if(e=bc(n),e!==null){t.blockedOn=e,Dc(t.lanePriority,function(){Oe.unstable_runWithPriority(t.priority,function(){Pc(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ca(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Yi(n),e!==null&&ma(e),t.blockedOn=n,!1;e.shift()}return!0}function bl(t,e,n){hr(t)&&n.delete(e)}function Uh(){for(as=!1;0<st.length;){var t=st[0];if(t.blockedOn!==null){t=Yi(t.blockedOn),t!==null&&kc(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ca(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&st.shift()}Pt!==null&&hr(Pt)&&(Pt=null),Dt!==null&&hr(Dt)&&(Dt=null),At!==null&&hr(At)&&(At=null),Li.forEach(bl),Ri.forEach(bl)}function ni(t,e){t.blockedOn===e&&(t.blockedOn=null,as||(as=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Uh)))}function Ac(t){function e(f){return ni(f,t)}if(0<st.length){ni(st[0],t);for(var n=1;n<st.length;n++){var l=st[n];l.blockedOn===t&&(l.blockedOn=null)}}for(Pt!==null&&ni(Pt,t),Dt!==null&&ni(Dt,t),At!==null&&ni(At,t),Li.forEach(e),Ri.forEach(e),n=0;n<ei.length;n++)l=ei[n],l.blockedOn===t&&(l.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)Hh(n),n.blockedOn===null&&ei.shift()}function tr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cn={animationend:tr("Animation","AnimationEnd"),animationiteration:tr("Animation","AnimationIteration"),animationstart:tr("Animation","AnimationStart"),transitionend:tr("Transition","TransitionEnd")},So={},Lc={};_t&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function eo(t){if(So[t])return So[t];if(!Cn[t])return t;var e=Cn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lc)return So[t]=e[n];return t}var Rc=eo("animationend"),Mc=eo("animationiteration"),Fc=eo("animationstart"),Ic=eo("transitionend"),jc=new Map,va=new Map,zh=["abort","abort",Rc,"animationEnd",Mc,"animationIteration",Fc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ic,"transitionEnd","waiting","waiting"];function ya(t,e){for(var n=0;n<t.length;n+=2){var l=t[n],f=t[n+1];f="on"+(f[0].toUpperCase()+f.slice(1)),va.set(l,e),jc.set(l,f),fn(f,[l])}}var Xh=Oe.unstable_now;Xh();var me=8;function vn(t){if((1&t)!==0)return me=15,1;if((2&t)!==0)return me=14,2;if((4&t)!==0)return me=13,4;var e=24&t;return e!==0?(me=12,e):(t&32)!==0?(me=11,32):(e=192&t,e!==0?(me=10,e):(t&256)!==0?(me=9,256):(e=3584&t,e!==0?(me=8,e):(t&4096)!==0?(me=7,4096):(e=4186112&t,e!==0?(me=6,e):(e=62914560&t,e!==0?(me=5,e):t&67108864?(me=4,67108864):(t&134217728)!==0?(me=3,134217728):(e=805306368&t,e!==0?(me=2,e):(1073741824&t)!==0?(me=1,1073741824):(me=8,t))))))}function Yh(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Vh(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Z(358,t))}}function Mi(t,e){var n=t.pendingLanes;if(n===0)return me=0;var l=0,f=0,v=t.expiredLanes,C=t.suspendedLanes,u=t.pingedLanes;if(v!==0)l=v,f=me=15;else if(v=n&134217727,v!==0){var i=v&~C;i!==0?(l=vn(i),f=me):(u&=v,u!==0&&(l=vn(u),f=me))}else v=n&~C,v!==0?(l=vn(v),f=me):u!==0&&(l=vn(u),f=me);if(l===0)return 0;if(l=31-Bt(l),l=n&((0>l?0:1<<l)<<1)-1,e!==0&&e!==l&&(e&C)===0){if(vn(e),f<=me)return e;me=f}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=l;0<e;)n=31-Bt(e),f=1<<n,l|=t[n],e&=~f;return l}function Nc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function br(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=yn(24&~e),t===0?br(10,e):t;case 10:return t=yn(192&~e),t===0?br(8,e):t;case 8:return t=yn(3584&~e),t===0&&(t=yn(4186112&~e),t===0&&(t=512)),t;case 2:return e=yn(805306368&~e),e===0&&(e=268435456),e}throw Error(Z(358,t))}function yn(t){return t&-t}function wo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function to(t,e,n){t.pendingLanes|=e;var l=e-1;t.suspendedLanes&=l,t.pingedLanes&=l,t=t.eventTimes,e=31-Bt(e),t[e]=n}var Bt=Math.clz32?Math.clz32:Kh,Gh=Math.log,$h=Math.LN2;function Kh(t){return t===0?32:31-(Gh(t)/$h|0)|0}var qh=Oe.unstable_UserBlockingPriority,Qh=Oe.unstable_runWithPriority,dr=!0;function Zh(t,e,n,l){Qt||pa();var f=_a,v=Qt;Qt=!0;try{Tc(f,t,e,n,l)}finally{(Qt=v)||ga()}}function Jh(t,e,n,l){Qh(qh,_a.bind(null,t,e,n,l))}function _a(t,e,n,l){if(dr){var f;if((f=(e&4)===0)&&0<st.length&&-1<Tl.indexOf(t))t=ls(null,t,e,n,l),st.push(t);else{var v=Ca(t,e,n,l);if(v===null)f&&El(t,l);else{if(f){if(-1<Tl.indexOf(t)){t=ls(v,t,e,n,l),st.push(t);return}if(Wh(v,t,e,n,l))return;El(t,l)}Qc(t,e,l,null,n)}}}}function Ca(t,e,n,l){var f=ha(l);if(f=Zt(f),f!==null){var v=dn(f);if(v===null)f=null;else{var C=v.tag;if(C===13){if(f=bc(v),f!==null)return f;f=null}else if(C===3){if(v.stateNode.hydrate)return v.tag===3?v.stateNode.containerInfo:null;f=null}else v!==f&&(f=null)}}return Qc(t,e,l,f,n),null}var bt=null,Sa=null,pr=null;function Bc(){if(pr)return pr;var t,e=Sa,n=e.length,l,f="value"in bt?bt.value:bt.textContent,v=f.length;for(t=0;t<n&&e[t]===f[t];t++);var C=n-t;for(l=1;l<=C&&e[n-l]===f[v-l];l++);return pr=f.slice(t,1<l?1-l:void 0)}function gr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function Ol(){return!1}function Ge(t){function e(n,l,f,v,C){this._reactName=n,this._targetInst=f,this.type=l,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(v):v[u]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?nr:Ol,this.isPropagationStopped=Ol,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),e}var Yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Ge(Yn),Xi=Ce({},Yn,{view:0,detail:0}),ed=Ge(Xi),xo,To,ii,no=Ce({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(xo=t.screenX-ii.screenX,To=t.screenY-ii.screenY):To=xo=0,ii=t),xo)},movementY:function(t){return"movementY"in t?t.movementY:To}}),kl=Ge(no),td=Ce({},no,{dataTransfer:0}),nd=Ge(td),id=Ce({},Xi,{relatedTarget:0}),Eo=Ge(id),rd=Ce({},Yn,{animationName:0,elapsedTime:0,pseudoElement:0}),od=Ge(rd),sd=Ce({},Yn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ad=Ge(sd),ld=Ce({},Yn,{data:0}),Pl=Ge(ld),ud={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fd[t])?!!e[t]:!1}function xa(){return hd}var dd=Ce({},Xi,{key:function(t){if(t.key){var e=ud[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cd[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(t){return t.type==="keypress"?gr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pd=Ge(dd),gd=Ce({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=Ge(gd),md=Ce({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),vd=Ge(md),yd=Ce({},Yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_d=Ge(yd),Cd=Ce({},no,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sd=Ge(Cd),wd=[9,13,27,32],Ta=_t&&"CompositionEvent"in window,Si=null;_t&&"documentMode"in document&&(Si=document.documentMode);var xd=_t&&"TextEvent"in window&&!Si,Wc=_t&&(!Ta||Si&&8<Si&&11>=Si),Al=String.fromCharCode(32),Ll=!1;function Hc(t,e){switch(t){case"keyup":return wd.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sn=!1;function Td(t,e){switch(t){case"compositionend":return Uc(e);case"keypress":return e.which!==32?null:(Ll=!0,Al);case"textInput":return t=e.data,t===Al&&Ll?null:t;default:return null}}function Ed(t,e){if(Sn)return t==="compositionend"||!Ta&&Hc(t,e)?(t=Bc(),pr=Sa=bt=null,Sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wc&&e.locale!=="ko"?null:e.data;default:return null}}var bd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bd[t.type]:e==="textarea"}function zc(t,e,n,l){wc(l),e=Or(e,"onChange"),0<e.length&&(n=new wa("onChange","change",null,n,l),t.push({event:n,listeners:e}))}var wi=null,Fi=null;function Od(t){$c(t,0)}function io(t){var e=xn(t);if(gc(e))return t}function kd(t,e){if(t==="change")return e}var Xc=!1;if(_t){var bo;if(_t){var Oo="oninput"in document;if(!Oo){var Ml=document.createElement("div");Ml.setAttribute("oninput","return;"),Oo=typeof Ml.oninput=="function"}bo=Oo}else bo=!1;Xc=bo&&(!document.documentMode||9<document.documentMode)}function Fl(){wi&&(wi.detachEvent("onpropertychange",Yc),Fi=wi=null)}function Yc(t){if(t.propertyName==="value"&&io(Fi)){var e=[];if(zc(e,Fi,t,ha(t)),t=Od,Qt)t(e);else{Qt=!0;try{da(t,e)}finally{Qt=!1,ga()}}}}function Pd(t,e,n){t==="focusin"?(Fl(),wi=e,Fi=n,wi.attachEvent("onpropertychange",Yc)):t==="focusout"&&Fl()}function Dd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return io(Fi)}function Ad(t,e){if(t==="click")return io(e)}function Ld(t,e){if(t==="input"||t==="change")return io(e)}function Rd(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $e=typeof Object.is=="function"?Object.is:Rd,Md=Object.prototype.hasOwnProperty;function Ii(t,e){if($e(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),l=Object.keys(e);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++)if(!Md.call(e,n[l])||!$e(t[n[l]],e[n[l]]))return!1;return!0}function Il(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jl(t,e){var n=Il(t);t=0;for(var l;n;){if(n.nodeType===3){if(l=t+n.textContent.length,t<=e&&l>=e)return{node:n,offset:e-t};t=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Il(n)}}function Vc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Vc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nl(){for(var t=window,e=xr();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xr(t.document)}return e}function us(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Fd=_t&&"documentMode"in document&&11>=document.documentMode,wn=null,cs=null,xi=null,fs=!1;function Bl(t,e,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fs||wn==null||wn!==xr(l)||(l=wn,"selectionStart"in l&&us(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),xi&&Ii(xi,l)||(xi=l,l=Or(cs,"onSelect"),0<l.length&&(e=new wa("onSelect","select",null,e,n),t.push({event:e,listeners:l}),e.target=wn)))}ya("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);ya("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ya(zh,2);for(var Wl="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ko=0;ko<Wl.length;ko++)va.set(Wl[ko],0);jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gc=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Hl(t,e,n){var l=t.type||"unknown-event";t.currentTarget=n,Nh(l,e,void 0,t),t.currentTarget=null}function $c(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var l=t[n],f=l.event;l=l.listeners;e:{var v=void 0;if(e)for(var C=l.length-1;0<=C;C--){var u=l[C],i=u.instance,h=u.currentTarget;if(u=u.listener,i!==v&&f.isPropagationStopped())break e;Hl(f,u,h),v=i}else for(C=0;C<l.length;C++){if(u=l[C],i=u.instance,h=u.currentTarget,u=u.listener,i!==v&&f.isPropagationStopped())break e;Hl(f,u,h),v=i}}}if(Er)throw t=ss,Er=!1,ss=null,t}function ve(t,e){var n=Jc(e),l=t+"__bubble";n.has(l)||(qc(e,t,2,!1),n.add(l))}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Kc(t){t[Ul]||(t[Ul]=!0,hc.forEach(function(e){Gc.has(e)||zl(e,!1,t,null),zl(e,!0,t,null)}))}function zl(t,e,n,l){var f=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,v=n;if(t==="selectionchange"&&n.nodeType!==9&&(v=n.ownerDocument),l!==null&&!e&&Gc.has(t)){if(t!=="scroll")return;f|=2,v=l}var C=Jc(v),u=t+"__"+(e?"capture":"bubble");C.has(u)||(e&&(f|=4),qc(v,t,f,e),C.add(u))}function qc(t,e,n,l){var f=va.get(e);switch(f===void 0?2:f){case 0:f=Zh;break;case 1:f=Jh;break;default:f=_a}n=f.bind(null,e,n,t),f=void 0,!os||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(e,n,{capture:!0,passive:f}):t.addEventListener(e,n,!0):f!==void 0?t.addEventListener(e,n,{passive:f}):t.addEventListener(e,n,!1)}function Qc(t,e,n,l,f){var v=l;if((e&1)===0&&(e&2)===0&&l!==null)e:for(;;){if(l===null)return;var C=l.tag;if(C===3||C===4){var u=l.stateNode.containerInfo;if(u===f||u.nodeType===8&&u.parentNode===f)break;if(C===4)for(C=l.return;C!==null;){var i=C.tag;if((i===3||i===4)&&(i=C.stateNode.containerInfo,i===f||i.nodeType===8&&i.parentNode===f))return;C=C.return}for(;u!==null;){if(C=Zt(u),C===null)return;if(i=C.tag,i===5||i===6){l=v=C;continue e}u=u.parentNode}}l=l.return}Mh(function(){var h=v,d=ha(n),s=[];e:{var a=jc.get(t);if(a!==void 0){var r=wa,c=t;switch(t){case"keypress":if(gr(n)===0)break e;case"keydown":case"keyup":r=pd;break;case"focusin":c="focus",r=Eo;break;case"focusout":c="blur",r=Eo;break;case"beforeblur":case"afterblur":r=Eo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=nd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=vd;break;case Rc:case Mc:case Fc:r=od;break;case Ic:r=_d;break;case"scroll":r=ed;break;case"wheel":r=Sd;break;case"copy":case"cut":case"paste":r=ad;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=Dl}var g=(e&4)!==0,o=!g&&t==="scroll",p=g?a!==null?a+"Capture":null:a;g=[];for(var m=h,y;m!==null;){y=m;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,p!==null&&(_=Ai(m,p),_!=null&&g.push(ji(m,_,y)))),o)break;m=m.return}0<g.length&&(a=new r(a,c,null,n,d),s.push({event:a,listeners:g}))}}if((e&7)===0){e:{if(a=t==="mouseover"||t==="pointerover",r=t==="mouseout"||t==="pointerout",a&&(e&16)===0&&(c=n.relatedTarget||n.fromElement)&&(Zt(c)||c[Vn]))break e;if((r||a)&&(a=d.window===d?d:(a=d.ownerDocument)?a.defaultView||a.parentWindow:window,r?(c=n.relatedTarget||n.toElement,r=h,c=c?Zt(c):null,c!==null&&(o=dn(c),c!==o||c.tag!==5&&c.tag!==6)&&(c=null)):(r=null,c=h),r!==c)){if(g=kl,_="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(g=Dl,_="onPointerLeave",p="onPointerEnter",m="pointer"),o=r==null?a:xn(r),y=c==null?a:xn(c),a=new g(_,m+"leave",r,n,d),a.target=o,a.relatedTarget=y,_=null,Zt(d)===h&&(g=new g(p,m+"enter",c,n,d),g.target=y,g.relatedTarget=o,_=g),o=_,r&&c)t:{for(g=r,p=c,m=0,y=g;y;y=gn(y))m++;for(y=0,_=p;_;_=gn(_))y++;for(;0<m-y;)g=gn(g),m--;for(;0<y-m;)p=gn(p),y--;for(;m--;){if(g===p||p!==null&&g===p.alternate)break t;g=gn(g),p=gn(p)}g=null}else g=null;r!==null&&Xl(s,a,r,g,!1),c!==null&&o!==null&&Xl(s,o,c,g,!0)}}e:{if(a=h?xn(h):window,r=a.nodeName&&a.nodeName.toLowerCase(),r==="select"||r==="input"&&a.type==="file")var S=kd;else if(Rl(a))if(Xc)S=Ld;else{S=Dd;var w=Pd}else(r=a.nodeName)&&r.toLowerCase()==="input"&&(a.type==="checkbox"||a.type==="radio")&&(S=Ad);if(S&&(S=S(t,h))){zc(s,S,n,d);break e}w&&w(t,a,h),t==="focusout"&&(w=a._wrapperState)&&w.controlled&&a.type==="number"&&Qo(a,"number",a.value)}switch(w=h?xn(h):window,t){case"focusin":(Rl(w)||w.contentEditable==="true")&&(wn=w,cs=h,xi=null);break;case"focusout":xi=cs=wn=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,Bl(s,n,d);break;case"selectionchange":if(Fd)break;case"keydown":case"keyup":Bl(s,n,d)}var E;if(Ta)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Sn?Hc(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(Wc&&n.locale!=="ko"&&(Sn||O!=="onCompositionStart"?O==="onCompositionEnd"&&Sn&&(E=Bc()):(bt=d,Sa="value"in bt?bt.value:bt.textContent,Sn=!0)),w=Or(h,O),0<w.length&&(O=new Pl(O,t,null,n,d),s.push({event:O,listeners:w}),E?O.data=E:(E=Uc(n),E!==null&&(O.data=E)))),(E=xd?Td(t,n):Ed(t,n))&&(h=Or(h,"onBeforeInput"),0<h.length&&(d=new Pl("onBeforeInput","beforeinput",null,n,d),s.push({event:d,listeners:h}),d.data=E))}$c(s,e)})}function ji(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Or(t,e){for(var n=e+"Capture",l=[];t!==null;){var f=t,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=Ai(t,n),v!=null&&l.unshift(ji(t,v,f)),v=Ai(t,e),v!=null&&l.push(ji(t,v,f))),t=t.return}return l}function gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xl(t,e,n,l,f){for(var v=e._reactName,C=[];n!==null&&n!==l;){var u=n,i=u.alternate,h=u.stateNode;if(i!==null&&i===l)break;u.tag===5&&h!==null&&(u=h,f?(i=Ai(n,v),i!=null&&C.unshift(ji(n,i,u))):f||(i=Ai(n,v),i!=null&&C.push(ji(n,i,u)))),n=n.return}C.length!==0&&t.push({event:e,listeners:C})}function kr(){}var Po=null,Do=null;function Zc(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function hs(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,Id=typeof clearTimeout=="function"?clearTimeout:void 0;function Ea(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Dn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Vl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ao=0;function jd(t){return{$$typeof:ca,toString:t,valueOf:t}}var ro=Math.random().toString(36).slice(2),Ot="__reactFiber$"+ro,Pr="__reactProps$"+ro,Vn="__reactContainer$"+ro,Gl="__reactEvents$"+ro;function Zt(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vn]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vl(t);t!==null;){if(n=t[Ot])return n;t=Vl(t)}return e}t=n,n=t.parentNode}return null}function Yi(t){return t=t[Ot]||t[Vn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function oo(t){return t[Pr]||null}function Jc(t){var e=t[Gl];return e===void 0&&(e=t[Gl]=new Set),e}var ds=[],Tn=-1;function zt(t){return{current:t}}function ye(t){0>Tn||(t.current=ds[Tn],ds[Tn]=null,Tn--)}function we(t,e){Tn++,ds[Tn]=t.current,t.current=e}var Wt={},Ne=zt(Wt),Xe=zt(!1),an=Wt;function Nn(t,e){var n=t.type.contextTypes;if(!n)return Wt;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===e)return l.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in n)f[v]=e[v];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=f),f}function Ye(t){return t=t.childContextTypes,t!=null}function Dr(){ye(Xe),ye(Ne)}function $l(t,e,n){if(Ne.current!==Wt)throw Error(Z(168));we(Ne,e),we(Xe,n)}function ef(t,e,n){var l=t.stateNode;if(t=e.childContextTypes,typeof l.getChildContext!="function")return n;l=l.getChildContext();for(var f in l)if(!(f in t))throw Error(Z(108,bn(e)||"Unknown",f));return Ce({},n,l)}function mr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wt,an=Ne.current,we(Ne,t),we(Xe,Xe.current),!0}function Kl(t,e,n){var l=t.stateNode;if(!l)throw Error(Z(169));n?(t=ef(t,e,an),l.__reactInternalMemoizedMergedChildContext=t,ye(Xe),ye(Ne),we(Ne,t)):ye(Xe),we(Xe,n)}var ba=null,on=null,Nd=Oe.unstable_runWithPriority,Oa=Oe.unstable_scheduleCallback,ps=Oe.unstable_cancelCallback,Bd=Oe.unstable_shouldYield,ql=Oe.unstable_requestPaint,gs=Oe.unstable_now,Wd=Oe.unstable_getCurrentPriorityLevel,so=Oe.unstable_ImmediatePriority,tf=Oe.unstable_UserBlockingPriority,nf=Oe.unstable_NormalPriority,rf=Oe.unstable_LowPriority,of=Oe.unstable_IdlePriority,Lo={},Hd=ql!==void 0?ql:function(){},pt=null,vr=null,Ro=!1,Ql=gs(),Ie=1e4>Ql?gs:function(){return gs()-Ql};function Bn(){switch(Wd()){case so:return 99;case tf:return 98;case nf:return 97;case rf:return 96;case of:return 95;default:throw Error(Z(332))}}function sf(t){switch(t){case 99:return so;case 98:return tf;case 97:return nf;case 96:return rf;case 95:return of;default:throw Error(Z(332))}}function ln(t,e){return t=sf(t),Nd(t,e)}function Ni(t,e,n){return t=sf(t),Oa(t,e,n)}function ht(){if(vr!==null){var t=vr;vr=null,ps(t)}af()}function af(){if(!Ro&&pt!==null){Ro=!0;var t=0;try{var e=pt;ln(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),pt=null}catch(n){throw pt!==null&&(pt=pt.slice(t+1)),Oa(so,ht),n}finally{Ro=!1}}}var Ud=hn.ReactCurrentBatchConfig;function nt(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ar=zt(null),Lr=null,En=null,Rr=null;function ka(){Rr=En=Lr=null}function Pa(t){var e=Ar.current;ye(Ar),t.type._context._currentValue=e}function lf(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function An(t,e){Lr=t,Rr=En=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(rt=!0),t.firstContext=null)}function Ze(t,e){if(Rr!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Rr=t,e=1073741823),e={context:t,observedBits:e,next:null},En===null){if(Lr===null)throw Error(Z(308));En=e,Lr.dependencies={lanes:0,firstContext:e,responders:null}}else En=En.next=e;return t._currentValue}var Tt=!1;function Da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function uf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rt(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Zl(t,e){var n=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var f=null,v=null;if(n=n.firstBaseUpdate,n!==null){do{var C={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};v===null?f=v=C:v=v.next=C,n=n.next}while(n!==null);v===null?f=v=e:v=v.next=e}else f=v=e;n={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:l.shared,effects:l.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bi(t,e,n,l){var f=t.updateQueue;Tt=!1;var v=f.firstBaseUpdate,C=f.lastBaseUpdate,u=f.shared.pending;if(u!==null){f.shared.pending=null;var i=u,h=i.next;i.next=null,C===null?v=h:C.next=h,C=i;var d=t.alternate;if(d!==null){d=d.updateQueue;var s=d.lastBaseUpdate;s!==C&&(s===null?d.firstBaseUpdate=h:s.next=h,d.lastBaseUpdate=i)}}if(v!==null){s=f.baseState,C=0,d=h=i=null;do{u=v.lane;var a=v.eventTime;if((l&u)===u){d!==null&&(d=d.next={eventTime:a,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var r=t,c=v;switch(u=e,a=n,c.tag){case 1:if(r=c.payload,typeof r=="function"){s=r.call(a,s,u);break e}s=r;break e;case 3:r.flags=r.flags&-4097|64;case 0:if(r=c.payload,u=typeof r=="function"?r.call(a,s,u):r,u==null)break e;s=Ce({},s,u);break e;case 2:Tt=!0}}v.callback!==null&&(t.flags|=32,u=f.effects,u===null?f.effects=[v]:u.push(v))}else a={eventTime:a,lane:u,tag:v.tag,payload:v.payload,callback:v.callback,next:null},d===null?(h=d=a,i=s):d=d.next=a,C|=u;if(v=v.next,v===null){if(u=f.shared.pending,u===null)break;v=u.next,u.next=null,f.lastBaseUpdate=u,f.shared.pending=null}}while(1);d===null&&(i=s),f.baseState=i,f.firstBaseUpdate=h,f.lastBaseUpdate=d,Gi|=C,t.lanes=C,t.memoizedState=s}}function Jl(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var l=t[e],f=l.callback;if(f!==null){if(l.callback=null,l=n,typeof f!="function")throw Error(Z(191,f));f.call(l)}}}var cf=new Qr.Component().refs;function Mr(t,e,n,l){e=t.memoizedState,n=n(l,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ao={isMounted:function(t){return(t=t._reactInternals)?dn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var l=Ve(),f=Mt(t),v=Lt(l,f);v.payload=e,n!=null&&(v.callback=n),Rt(t,v),Ft(t,f,l)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var l=Ve(),f=Mt(t),v=Lt(l,f);v.tag=1,v.payload=e,n!=null&&(v.callback=n),Rt(t,v),Ft(t,f,l)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),l=Mt(t),f=Lt(n,l);f.tag=2,e!=null&&(f.callback=e),Rt(t,f),Ft(t,l,n)}};function eu(t,e,n,l,f,v,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,v,C):e.prototype&&e.prototype.isPureReactComponent?!Ii(n,l)||!Ii(f,v):!0}function ff(t,e,n){var l=!1,f=Wt,v=e.contextType;return typeof v=="object"&&v!==null?v=Ze(v):(f=Ye(e)?an:Ne.current,l=e.contextTypes,v=(l=l!=null)?Nn(t,f):Wt),e=new e(n,v),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ao,t.stateNode=e,e._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=v),e}function tu(t,e,n,l){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,l),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,l),e.state!==t&&ao.enqueueReplaceState(e,e.state,null)}function ms(t,e,n,l){var f=t.stateNode;f.props=n,f.state=t.memoizedState,f.refs=cf,Da(t);var v=e.contextType;typeof v=="object"&&v!==null?f.context=Ze(v):(v=Ye(e)?an:Ne.current,f.context=Nn(t,v)),Bi(t,n,f,l),f.state=t.memoizedState,v=e.getDerivedStateFromProps,typeof v=="function"&&(Mr(t,e,v,n),f.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(e=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),e!==f.state&&ao.enqueueReplaceState(f,f.state,null),Bi(t,n,f,l),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4)}var ir=Array.isArray;function ri(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var l=n.stateNode}if(!l)throw Error(Z(147,t));var f=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===f?e.ref:(e=function(v){var C=l.refs;C===cf&&(C=l.refs={}),v===null?delete C[f]:C[f]=v},e._stringRef=f,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function rr(t,e){if(t.type!=="textarea")throw Error(Z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function hf(t){function e(o,p){if(t){var m=o.lastEffect;m!==null?(m.nextEffect=p,o.lastEffect=p):o.firstEffect=o.lastEffect=p,p.nextEffect=null,p.flags=8}}function n(o,p){if(!t)return null;for(;p!==null;)e(o,p),p=p.sibling;return null}function l(o,p){for(o=new Map;p!==null;)p.key!==null?o.set(p.key,p):o.set(p.index,p),p=p.sibling;return o}function f(o,p){return o=Ut(o,p),o.index=0,o.sibling=null,o}function v(o,p,m){return o.index=m,t?(m=o.alternate,m!==null?(m=m.index,m<p?(o.flags=2,p):m):(o.flags=2,p)):p}function C(o){return t&&o.alternate===null&&(o.flags=2),o}function u(o,p,m,y){return p===null||p.tag!==6?(p=No(m,o.mode,y),p.return=o,p):(p=f(p,m),p.return=o,p)}function i(o,p,m,y){return p!==null&&p.elementType===m.type?(y=f(p,m.props),y.ref=ri(o,p,m),y.return=o,y):(y=Sr(m.type,m.key,m.props,null,o.mode,y),y.ref=ri(o,p,m),y.return=o,y)}function h(o,p,m,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Bo(m,o.mode,y),p.return=o,p):(p=f(p,m.children||[]),p.return=o,p)}function d(o,p,m,y,_){return p===null||p.tag!==7?(p=Fn(m,o.mode,y,_),p.return=o,p):(p=f(p,m),p.return=o,p)}function s(o,p,m){if(typeof p=="string"||typeof p=="number")return p=No(""+p,o.mode,m),p.return=o,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ci:return m=Sr(p.type,p.key,p.props,null,o.mode,m),m.ref=ri(o,null,p),m.return=o,m;case qt:return p=Bo(p,o.mode,m),p.return=o,p}if(ir(p)||Zn(p))return p=Fn(p,o.mode,m,null),p.return=o,p;rr(o,p)}return null}function a(o,p,m,y){var _=p!==null?p.key:null;if(typeof m=="string"||typeof m=="number")return _!==null?null:u(o,p,""+m,y);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ci:return m.key===_?m.type===Et?d(o,p,m.props.children,y,_):i(o,p,m,y):null;case qt:return m.key===_?h(o,p,m,y):null}if(ir(m)||Zn(m))return _!==null?null:d(o,p,m,y,null);rr(o,m)}return null}function r(o,p,m,y,_){if(typeof y=="string"||typeof y=="number")return o=o.get(m)||null,u(p,o,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ci:return o=o.get(y.key===null?m:y.key)||null,y.type===Et?d(p,o,y.props.children,_,y.key):i(p,o,y,_);case qt:return o=o.get(y.key===null?m:y.key)||null,h(p,o,y,_)}if(ir(y)||Zn(y))return o=o.get(m)||null,d(p,o,y,_,null);rr(p,y)}return null}function c(o,p,m,y){for(var _=null,S=null,w=p,E=p=0,O=null;w!==null&&E<m.length;E++){w.index>E?(O=w,w=null):O=w.sibling;var A=a(o,w,m[E],y);if(A===null){w===null&&(w=O);break}t&&w&&A.alternate===null&&e(o,w),p=v(A,p,E),S===null?_=A:S.sibling=A,S=A,w=O}if(E===m.length)return n(o,w),_;if(w===null){for(;E<m.length;E++)w=s(o,m[E],y),w!==null&&(p=v(w,p,E),S===null?_=w:S.sibling=w,S=w);return _}for(w=l(o,w);E<m.length;E++)O=r(w,o,E,m[E],y),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?E:O.key),p=v(O,p,E),S===null?_=O:S.sibling=O,S=O);return t&&w.forEach(function(j){return e(o,j)}),_}function g(o,p,m,y){var _=Zn(m);if(typeof _!="function")throw Error(Z(150));if(m=_.call(m),m==null)throw Error(Z(151));for(var S=_=null,w=p,E=p=0,O=null,A=m.next();w!==null&&!A.done;E++,A=m.next()){w.index>E?(O=w,w=null):O=w.sibling;var j=a(o,w,A.value,y);if(j===null){w===null&&(w=O);break}t&&w&&j.alternate===null&&e(o,w),p=v(j,p,E),S===null?_=j:S.sibling=j,S=j,w=O}if(A.done)return n(o,w),_;if(w===null){for(;!A.done;E++,A=m.next())A=s(o,A.value,y),A!==null&&(p=v(A,p,E),S===null?_=A:S.sibling=A,S=A);return _}for(w=l(o,w);!A.done;E++,A=m.next())A=r(w,o,E,A.value,y),A!==null&&(t&&A.alternate!==null&&w.delete(A.key===null?E:A.key),p=v(A,p,E),S===null?_=A:S.sibling=A,S=A);return t&&w.forEach(function(V){return e(o,V)}),_}return function(o,p,m,y){var _=typeof m=="object"&&m!==null&&m.type===Et&&m.key===null;_&&(m=m.props.children);var S=typeof m=="object"&&m!==null;if(S)switch(m.$$typeof){case ci:e:{for(S=m.key,_=p;_!==null;){if(_.key===S){switch(_.tag){case 7:if(m.type===Et){n(o,_.sibling),p=f(_,m.props.children),p.return=o,o=p;break e}break;default:if(_.elementType===m.type){n(o,_.sibling),p=f(_,m.props),p.ref=ri(o,_,m),p.return=o,o=p;break e}}n(o,_);break}else e(o,_);_=_.sibling}m.type===Et?(p=Fn(m.props.children,o.mode,y,m.key),p.return=o,o=p):(y=Sr(m.type,m.key,m.props,null,o.mode,y),y.ref=ri(o,p,m),y.return=o,o=y)}return C(o);case qt:e:{for(_=m.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(o,p.sibling),p=f(p,m.children||[]),p.return=o,o=p;break e}else{n(o,p);break}else e(o,p);p=p.sibling}p=Bo(m,o.mode,y),p.return=o,o=p}return C(o)}if(typeof m=="string"||typeof m=="number")return m=""+m,p!==null&&p.tag===6?(n(o,p.sibling),p=f(p,m),p.return=o,o=p):(n(o,p),p=No(m,o.mode,y),p.return=o,o=p),C(o);if(ir(m))return c(o,p,m,y);if(Zn(m))return g(o,p,m,y);if(S&&rr(o,m),typeof m=="undefined"&&!_)switch(o.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Z(152,bn(o.type)||"Component"))}return n(o,p)}}var Fr=hf(!0),df=hf(!1),Vi={},ct=zt(Vi),Wi=zt(Vi),Hi=zt(Vi);function Jt(t){if(t===Vi)throw Error(Z(174));return t}function vs(t,e){switch(we(Hi,e),we(Wi,t),we(ct,Vi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ts(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ts(e,t)}ye(ct),we(ct,e)}function Wn(){ye(ct),ye(Wi),ye(Hi)}function nu(t){Jt(Hi.current);var e=Jt(ct.current),n=ts(e,t.type);e!==n&&(we(Wi,t),we(ct,n))}function Aa(t){Wi.current===t&&(ye(ct),ye(Wi))}var Se=zt(0);function Ir(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mt=null,kt=null,ft=!1;function pf(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function iu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ys(t){if(ft){var e=kt;if(e){var n=e;if(!iu(t,e)){if(e=Dn(n.nextSibling),!e||!iu(t,e)){t.flags=t.flags&-1025|2,ft=!1,mt=t;return}pf(mt,n)}mt=t,kt=Dn(e.firstChild)}else t.flags=t.flags&-1025|2,ft=!1,mt=t}}function ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function or(t){if(t!==mt)return!1;if(!ft)return ru(t),ft=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!hs(e,t.memoizedProps))for(e=kt;e;)pf(t,e),e=Dn(e.nextSibling);if(ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Dn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=mt?Dn(t.stateNode.nextSibling):null;return!0}function Mo(){kt=mt=null,ft=!1}var Ln=[];function La(){for(var t=0;t<Ln.length;t++)Ln[t]._workInProgressVersionPrimary=null;Ln.length=0}var Ti=hn.ReactCurrentDispatcher,Qe=hn.ReactCurrentBatchConfig,Ui=0,xe=null,Me=null,De=null,jr=!1,Ei=!1;function Ue(){throw Error(Z(321))}function Ra(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$e(t[n],e[n]))return!1;return!0}function Ma(t,e,n,l,f,v){if(Ui=v,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ti.current=t===null||t.memoizedState===null?Xd:Yd,t=n(l,f),Ei){v=0;do{if(Ei=!1,!(25>v))throw Error(Z(301));v+=1,De=Me=null,e.updateQueue=null,Ti.current=Vd,t=n(l,f)}while(Ei)}if(Ti.current=Hr,e=Me!==null&&Me.next!==null,Ui=0,De=Me=xe=null,jr=!1,e)throw Error(Z(300));return t}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?xe.memoizedState=De=t:De=De.next=t,De}function pn(){if(Me===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=De===null?xe.memoizedState:De.next;if(e!==null)De=e,Me=t;else{if(t===null)throw Error(Z(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},De===null?xe.memoizedState=De=t:De=De.next=t}return De}function at(t,e){return typeof e=="function"?e(t):e}function oi(t){var e=pn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var l=Me,f=l.baseQueue,v=n.pending;if(v!==null){if(f!==null){var C=f.next;f.next=v.next,v.next=C}l.baseQueue=f=v,n.pending=null}if(f!==null){f=f.next,l=l.baseState;var u=C=v=null,i=f;do{var h=i.lane;if((Ui&h)===h)u!==null&&(u=u.next={lane:0,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null}),l=i.eagerReducer===t?i.eagerState:t(l,i.action);else{var d={lane:h,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null};u===null?(C=u=d,v=l):u=u.next=d,xe.lanes|=h,Gi|=h}i=i.next}while(i!==null&&i!==f);u===null?v=l:u.next=C,$e(l,e.memoizedState)||(rt=!0),e.memoizedState=l,e.baseState=v,e.baseQueue=u,n.lastRenderedState=l}return[e.memoizedState,n.dispatch]}function si(t){var e=pn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var l=n.dispatch,f=n.pending,v=e.memoizedState;if(f!==null){n.pending=null;var C=f=f.next;do v=t(v,C.action),C=C.next;while(C!==f);$e(v,e.memoizedState)||(rt=!0),e.memoizedState=v,e.baseQueue===null&&(e.baseState=v),n.lastRenderedState=v}return[v,l]}function ou(t,e,n){var l=e._getVersion;l=l(e._source);var f=e._workInProgressVersionPrimary;if(f!==null?t=f===l:(t=t.mutableReadLanes,(t=(Ui&t)===t)&&(e._workInProgressVersionPrimary=l,Ln.push(e))),t)return n(e._source);throw Ln.push(e),Error(Z(350))}function gf(t,e,n,l){var f=We;if(f===null)throw Error(Z(349));var v=e._getVersion,C=v(e._source),u=Ti.current,i=u.useState(function(){return ou(f,e,n)}),h=i[1],d=i[0];i=De;var s=t.memoizedState,a=s.refs,r=a.getSnapshot,c=s.source;s=s.subscribe;var g=xe;return t.memoizedState={refs:a,source:e,subscribe:l},u.useEffect(function(){a.getSnapshot=n,a.setSnapshot=h;var o=v(e._source);if(!$e(C,o)){o=n(e._source),$e(d,o)||(h(o),o=Mt(g),f.mutableReadLanes|=o&f.pendingLanes),o=f.mutableReadLanes,f.entangledLanes|=o;for(var p=f.entanglements,m=o;0<m;){var y=31-Bt(m),_=1<<y;p[y]|=o,m&=~_}}},[n,e,l]),u.useEffect(function(){return l(e._source,function(){var o=a.getSnapshot,p=a.setSnapshot;try{p(o(e._source));var m=Mt(g);f.mutableReadLanes|=m&f.pendingLanes}catch(y){p(function(){throw y})}})},[e,l]),$e(r,n)&&$e(c,e)&&$e(s,l)||(t={pending:null,dispatch:null,lastRenderedReducer:at,lastRenderedState:d},t.dispatch=h=ja.bind(null,xe,t),i.queue=t,i.baseQueue=null,d=ou(f,e,n),i.memoizedState=i.baseState=d),d}function mf(t,e,n){var l=pn();return gf(l,t,e,n)}function ai(t){var e=en();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:at,lastRenderedState:t},t=t.dispatch=ja.bind(null,xe,t),[e.memoizedState,t]}function Nr(t,e,n,l){return t={tag:t,create:e,destroy:n,deps:l,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(l=n.next,n.next=t,t.next=l,e.lastEffect=t)),t}function su(t){var e=en();return t={current:t},e.memoizedState=t}function Br(){return pn().memoizedState}function _s(t,e,n,l){var f=en();xe.flags|=t,f.memoizedState=Nr(1|e,n,void 0,l===void 0?null:l)}function Fa(t,e,n,l){var f=pn();l=l===void 0?null:l;var v=void 0;if(Me!==null){var C=Me.memoizedState;if(v=C.destroy,l!==null&&Ra(l,C.deps)){Nr(e,n,v,l);return}}xe.flags|=t,f.memoizedState=Nr(1|e,n,v,l)}function au(t,e){return _s(516,4,t,e)}function Wr(t,e){return Fa(516,4,t,e)}function vf(t,e){return Fa(4,2,t,e)}function yf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _f(t,e,n){return n=n!=null?n.concat([t]):null,Fa(4,2,yf.bind(null,e,t),n)}function Ia(){}function Cf(t,e){var n=pn();e=e===void 0?null:e;var l=n.memoizedState;return l!==null&&e!==null&&Ra(e,l[1])?l[0]:(n.memoizedState=[t,e],t)}function Sf(t,e){var n=pn();e=e===void 0?null:e;var l=n.memoizedState;return l!==null&&e!==null&&Ra(e,l[1])?l[0]:(t=t(),n.memoizedState=[t,e],t)}function zd(t,e){var n=Bn();ln(98>n?98:n,function(){t(!0)}),ln(97<n?97:n,function(){var l=Qe.transition;Qe.transition=1;try{t(!1),e()}finally{Qe.transition=l}})}function ja(t,e,n){var l=Ve(),f=Mt(t),v={lane:f,action:n,eagerReducer:null,eagerState:null,next:null},C=e.pending;if(C===null?v.next=v:(v.next=C.next,C.next=v),e.pending=v,C=t.alternate,t===xe||C!==null&&C===xe)Ei=jr=!0;else{if(t.lanes===0&&(C===null||C.lanes===0)&&(C=e.lastRenderedReducer,C!==null))try{var u=e.lastRenderedState,i=C(u,n);if(v.eagerReducer=C,v.eagerState=i,$e(i,u))return}catch{}finally{}Ft(t,f,l)}}var Hr={readContext:Ze,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useOpaqueIdentifier:Ue,unstable_isNewReconciler:!1},Xd={readContext:Ze,useCallback:function(t,e){return en().memoizedState=[t,e===void 0?null:e],t},useContext:Ze,useEffect:au,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_s(4,2,yf.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var n=en();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var l=en();return e=n!==void 0?n(e):e,l.memoizedState=l.baseState=e,t=l.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=ja.bind(null,xe,t),[l.memoizedState,t]},useRef:su,useState:ai,useDebugValue:Ia,useDeferredValue:function(t){var e=ai(t),n=e[0],l=e[1];return au(function(){var f=Qe.transition;Qe.transition=1;try{l(t)}finally{Qe.transition=f}},[t]),n},useTransition:function(){var t=ai(!1),e=t[0];return t=zd.bind(null,t[1]),su(t),[t,e]},useMutableSource:function(t,e,n){var l=en();return l.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},gf(l,t,e,n)},useOpaqueIdentifier:function(){if(ft){var t=!1,e=jd(function(){throw t||(t=!0,n("r:"+(Ao++).toString(36))),Error(Z(355))}),n=ai(e)[1];return(xe.mode&2)===0&&(xe.flags|=516,Nr(5,function(){n("r:"+(Ao++).toString(36))},void 0,null)),e}return e="r:"+(Ao++).toString(36),ai(e),e},unstable_isNewReconciler:!1},Yd={readContext:Ze,useCallback:Cf,useContext:Ze,useEffect:Wr,useImperativeHandle:_f,useLayoutEffect:vf,useMemo:Sf,useReducer:oi,useRef:Br,useState:function(){return oi(at)},useDebugValue:Ia,useDeferredValue:function(t){var e=oi(at),n=e[0],l=e[1];return Wr(function(){var f=Qe.transition;Qe.transition=1;try{l(t)}finally{Qe.transition=f}},[t]),n},useTransition:function(){var t=oi(at)[0];return[Br().current,t]},useMutableSource:mf,useOpaqueIdentifier:function(){return oi(at)[0]},unstable_isNewReconciler:!1},Vd={readContext:Ze,useCallback:Cf,useContext:Ze,useEffect:Wr,useImperativeHandle:_f,useLayoutEffect:vf,useMemo:Sf,useReducer:si,useRef:Br,useState:function(){return si(at)},useDebugValue:Ia,useDeferredValue:function(t){var e=si(at),n=e[0],l=e[1];return Wr(function(){var f=Qe.transition;Qe.transition=1;try{l(t)}finally{Qe.transition=f}},[t]),n},useTransition:function(){var t=si(at)[0];return[Br().current,t]},useMutableSource:mf,useOpaqueIdentifier:function(){return si(at)[0]},unstable_isNewReconciler:!1},Gd=hn.ReactCurrentOwner,rt=!1;function ze(t,e,n,l){e.child=t===null?df(e,null,n,l):Fr(e,t.child,n,l)}function lu(t,e,n,l,f){n=n.render;var v=e.ref;return An(e,f),l=Ma(t,e,n,l,v,f),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~f,vt(t,e,f)):(e.flags|=1,ze(t,e,l,f),e.child)}function uu(t,e,n,l,f,v){if(t===null){var C=n.type;return typeof C=="function"&&!za(C)&&C.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=C,wf(t,e,C,l,f,v)):(t=Sr(n.type,null,l,e,e.mode,v),t.ref=e.ref,t.return=e,e.child=t)}return C=t.child,(f&v)===0&&(f=C.memoizedProps,n=n.compare,n=n!==null?n:Ii,n(f,l)&&t.ref===e.ref)?vt(t,e,v):(e.flags|=1,t=Ut(C,l),t.ref=e.ref,t.return=e,e.child=t)}function wf(t,e,n,l,f,v){if(t!==null&&Ii(t.memoizedProps,l)&&t.ref===e.ref)if(rt=!1,(v&f)!==0)(t.flags&16384)!==0&&(rt=!0);else return e.lanes=t.lanes,vt(t,e,v);return Cs(t,e,n,l,v)}function Fo(t,e,n){var l=e.pendingProps,f=l.children,v=t!==null?t.memoizedState:null;if(l.mode==="hidden"||l.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ar(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},ar(e,v!==null?v.baseLanes:n);else return t=v!==null?v.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ar(e,t),null;else v!==null?(l=v.baseLanes|n,e.memoizedState=null):l=n,ar(e,l);return ze(t,e,f,n),e.child}function xf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Cs(t,e,n,l,f){var v=Ye(n)?an:Ne.current;return v=Nn(e,v),An(e,f),n=Ma(t,e,n,l,v,f),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~f,vt(t,e,f)):(e.flags|=1,ze(t,e,n,f),e.child)}function cu(t,e,n,l,f){if(Ye(n)){var v=!0;mr(e)}else v=!1;if(An(e,f),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),ff(e,n,l),ms(e,n,l,f),l=!0;else if(t===null){var C=e.stateNode,u=e.memoizedProps;C.props=u;var i=C.context,h=n.contextType;typeof h=="object"&&h!==null?h=Ze(h):(h=Ye(n)?an:Ne.current,h=Nn(e,h));var d=n.getDerivedStateFromProps,s=typeof d=="function"||typeof C.getSnapshotBeforeUpdate=="function";s||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(u!==l||i!==h)&&tu(e,C,l,h),Tt=!1;var a=e.memoizedState;C.state=a,Bi(e,l,C,f),i=e.memoizedState,u!==l||a!==i||Xe.current||Tt?(typeof d=="function"&&(Mr(e,n,d,l),i=e.memoizedState),(u=Tt||eu(e,n,u,l,a,i,h))?(s||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(e.flags|=4)):(typeof C.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=l,e.memoizedState=i),C.props=l,C.state=i,C.context=h,l=u):(typeof C.componentDidMount=="function"&&(e.flags|=4),l=!1)}else{C=e.stateNode,uf(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:nt(e.type,u),C.props=h,s=e.pendingProps,a=C.context,i=n.contextType,typeof i=="object"&&i!==null?i=Ze(i):(i=Ye(n)?an:Ne.current,i=Nn(e,i));var r=n.getDerivedStateFromProps;(d=typeof r=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(u!==s||a!==i)&&tu(e,C,l,i),Tt=!1,a=e.memoizedState,C.state=a,Bi(e,l,C,f);var c=e.memoizedState;u!==s||a!==c||Xe.current||Tt?(typeof r=="function"&&(Mr(e,n,r,l),c=e.memoizedState),(h=Tt||eu(e,n,h,l,a,c,i))?(d||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(l,c,i),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(l,c,i)),typeof C.componentDidUpdate=="function"&&(e.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof C.componentDidUpdate!="function"||u===t.memoizedProps&&a===t.memoizedState||(e.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&a===t.memoizedState||(e.flags|=256),e.memoizedProps=l,e.memoizedState=c),C.props=l,C.state=c,C.context=i,l=h):(typeof C.componentDidUpdate!="function"||u===t.memoizedProps&&a===t.memoizedState||(e.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&a===t.memoizedState||(e.flags|=256),l=!1)}return Ss(t,e,n,l,v,f)}function Ss(t,e,n,l,f,v){xf(t,e);var C=(e.flags&64)!==0;if(!l&&!C)return f&&Kl(e,n,!1),vt(t,e,v);l=e.stateNode,Gd.current=e;var u=C&&typeof n.getDerivedStateFromError!="function"?null:l.render();return e.flags|=1,t!==null&&C?(e.child=Fr(e,t.child,null,v),e.child=Fr(e,null,u,v)):ze(t,e,u,v),e.memoizedState=l.state,f&&Kl(e,n,!0),e.child}function fu(t){var e=t.stateNode;e.pendingContext?$l(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$l(t,e.context,!1),vs(t,e.containerInfo)}var sr={dehydrated:null,retryLane:0};function hu(t,e,n){var l=e.pendingProps,f=Se.current,v=!1,C;return(C=(e.flags&64)!==0)||(C=t!==null&&t.memoizedState===null?!1:(f&2)!==0),C?(v=!0,e.flags&=-65):t!==null&&t.memoizedState===null||l.fallback===void 0||l.unstable_avoidThisFallback===!0||(f|=1),we(Se,f&1),t===null?(l.fallback!==void 0&&ys(e),t=l.children,f=l.fallback,v?(t=du(e,t,f,n),e.child.memoizedState={baseLanes:n},e.memoizedState=sr,t):typeof l.unstable_expectedLoadTime=="number"?(t=du(e,t,f,n),e.child.memoizedState={baseLanes:n},e.memoizedState=sr,e.lanes=33554432,t):(n=Xa({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?v?(l=gu(t,e,l.children,l.fallback,n),v=e.child,f=t.child.memoizedState,v.memoizedState=f===null?{baseLanes:n}:{baseLanes:f.baseLanes|n},v.childLanes=t.childLanes&~n,e.memoizedState=sr,l):(n=pu(t,e,l.children,n),e.memoizedState=null,n):v?(l=gu(t,e,l.children,l.fallback,n),v=e.child,f=t.child.memoizedState,v.memoizedState=f===null?{baseLanes:n}:{baseLanes:f.baseLanes|n},v.childLanes=t.childLanes&~n,e.memoizedState=sr,l):(n=pu(t,e,l.children,n),e.memoizedState=null,n)}function du(t,e,n,l){var f=t.mode,v=t.child;return e={mode:"hidden",children:e},(f&2)===0&&v!==null?(v.childLanes=0,v.pendingProps=e):v=Xa(e,f,0,null),n=Fn(n,f,l,null),v.return=t,n.return=t,v.sibling=n,t.child=v,n}function pu(t,e,n,l){var f=t.child;return t=f.sibling,n=Ut(f,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=l),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function gu(t,e,n,l,f){var v=e.mode,C=t.child;t=C.sibling;var u={mode:"hidden",children:n};return(v&2)===0&&e.child!==C?(n=e.child,n.childLanes=0,n.pendingProps=u,C=n.lastEffect,C!==null?(e.firstEffect=n.firstEffect,e.lastEffect=C,C.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ut(C,u),t!==null?l=Ut(t,l):(l=Fn(l,v,f,null),l.flags|=2),l.return=e,n.return=e,n.sibling=l,e.child=n,l}function mu(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),lf(t.return,e)}function Io(t,e,n,l,f,v){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:f,lastEffect:v}:(C.isBackwards=e,C.rendering=null,C.renderingStartTime=0,C.last=l,C.tail=n,C.tailMode=f,C.lastEffect=v)}function vu(t,e,n){var l=e.pendingProps,f=l.revealOrder,v=l.tail;if(ze(t,e,l.children,n),l=Se.current,(l&2)!==0)l=l&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mu(t,n);else if(t.tag===19)mu(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(we(Se,l),(e.mode&2)===0)e.memoizedState=null;else switch(f){case"forwards":for(n=e.child,f=null;n!==null;)t=n.alternate,t!==null&&Ir(t)===null&&(f=n),n=n.sibling;n=f,n===null?(f=e.child,e.child=null):(f=n.sibling,n.sibling=null),Io(e,!1,f,n,v,e.lastEffect);break;case"backwards":for(n=null,f=e.child,e.child=null;f!==null;){if(t=f.alternate,t!==null&&Ir(t)===null){e.child=f;break}t=f.sibling,f.sibling=n,n=f,f=t}Io(e,!0,n,null,v,e.lastEffect);break;case"together":Io(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function vt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gi|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Ut(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ut(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Tf,ws,Ef,bf;Tf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ws=function(){};Ef=function(t,e,n,l){var f=t.memoizedProps;if(f!==l){t=e.stateNode,Jt(ct.current);var v=null;switch(n){case"input":f=Ko(t,f),l=Ko(t,l),v=[];break;case"option":f=Zo(t,f),l=Zo(t,l),v=[];break;case"select":f=Ce({},f,{value:void 0}),l=Ce({},l,{value:void 0}),v=[];break;case"textarea":f=Jo(t,f),l=Jo(t,l),v=[];break;default:typeof f.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=kr)}ns(n,l);var C;n=null;for(h in f)if(!l.hasOwnProperty(h)&&f.hasOwnProperty(h)&&f[h]!=null)if(h==="style"){var u=f[h];for(C in u)u.hasOwnProperty(C)&&(n||(n={}),n[C]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Pi.hasOwnProperty(h)?v||(v=[]):(v=v||[]).push(h,null));for(h in l){var i=l[h];if(u=f!=null?f[h]:void 0,l.hasOwnProperty(h)&&i!==u&&(i!=null||u!=null))if(h==="style")if(u){for(C in u)!u.hasOwnProperty(C)||i&&i.hasOwnProperty(C)||(n||(n={}),n[C]="");for(C in i)i.hasOwnProperty(C)&&u[C]!==i[C]&&(n||(n={}),n[C]=i[C])}else n||(v||(v=[]),v.push(h,n)),n=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,u=u?u.__html:void 0,i!=null&&u!==i&&(v=v||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(v=v||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Pi.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&ve("scroll",t),v||u===i||(v=[])):typeof i=="object"&&i!==null&&i.$$typeof===ca?i.toString():(v=v||[]).push(h,i))}n&&(v=v||[]).push("style",n);var h=v;(e.updateQueue=h)&&(e.flags|=4)}};bf=function(t,e,n,l){n!==l&&(e.flags|=4)};function li(t,e){if(!ft)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $d(t,e,n){var l=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ye(e.type)&&Dr(),null;case 3:return Wn(),ye(Xe),ye(Ne),La(),l=e.stateNode,l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(or(e)?e.flags|=4:l.hydrate||(e.flags|=256)),ws(e),null;case 5:Aa(e);var f=Jt(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)Ef(t,e,n,l,f),t.ref!==e.ref&&(e.flags|=128);else{if(!l){if(e.stateNode===null)throw Error(Z(166));return null}if(t=Jt(ct.current),or(e)){l=e.stateNode,n=e.type;var v=e.memoizedProps;switch(l[Ot]=e,l[Pr]=v,n){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(t=0;t<hi.length;t++)ve(hi[t],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":vl(l,v),ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!v.multiple},ve("invalid",l);break;case"textarea":_l(l,v),ve("invalid",l)}ns(n,v),t=null;for(var C in v)v.hasOwnProperty(C)&&(f=v[C],C==="children"?typeof f=="string"?l.textContent!==f&&(t=["children",f]):typeof f=="number"&&l.textContent!==""+f&&(t=["children",""+f]):Pi.hasOwnProperty(C)&&f!=null&&C==="onScroll"&&ve("scroll",l));switch(n){case"input":Ji(l),yl(l,v,!0);break;case"textarea":Ji(l),Cl(l);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(l.onclick=kr)}l=t,e.updateQueue=l,l!==null&&(e.flags|=4)}else{switch(C=f.nodeType===9?f:f.ownerDocument,t===es.html&&(t=yc(n)),t===es.html?n==="script"?(t=C.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=C.createElement(n,{is:l.is}):(t=C.createElement(n),n==="select"&&(C=t,l.multiple?C.multiple=!0:l.size&&(C.size=l.size))):t=C.createElementNS(t,n),t[Ot]=e,t[Pr]=l,Tf(t,e,!1,!1),e.stateNode=t,C=is(n,l),n){case"dialog":ve("cancel",t),ve("close",t),f=l;break;case"iframe":case"object":case"embed":ve("load",t),f=l;break;case"video":case"audio":for(f=0;f<hi.length;f++)ve(hi[f],t);f=l;break;case"source":ve("error",t),f=l;break;case"img":case"image":case"link":ve("error",t),ve("load",t),f=l;break;case"details":ve("toggle",t),f=l;break;case"input":vl(t,l),f=Ko(t,l),ve("invalid",t);break;case"option":f=Zo(t,l);break;case"select":t._wrapperState={wasMultiple:!!l.multiple},f=Ce({},l,{value:void 0}),ve("invalid",t);break;case"textarea":_l(t,l),f=Jo(t,l),ve("invalid",t);break;default:f=l}ns(n,f);var u=f;for(v in u)if(u.hasOwnProperty(v)){var i=u[v];v==="style"?Sc(t,i):v==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&_c(t,i)):v==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&Di(t,i):typeof i=="number"&&Di(t,""+i):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(Pi.hasOwnProperty(v)?i!=null&&v==="onScroll"&&ve("scroll",t):i!=null&&ra(t,v,i,C))}switch(n){case"input":Ji(t),yl(t,l,!1);break;case"textarea":Ji(t),Cl(t);break;case"option":l.value!=null&&t.setAttribute("value",""+Nt(l.value));break;case"select":t.multiple=!!l.multiple,v=l.value,v!=null?On(t,!!l.multiple,v,!1):l.defaultValue!=null&&On(t,!!l.multiple,l.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=kr)}Zc(n,l)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)bf(t,e,t.memoizedProps,l);else{if(typeof l!="string"&&e.stateNode===null)throw Error(Z(166));n=Jt(Hi.current),Jt(ct.current),or(e)?(l=e.stateNode,n=e.memoizedProps,l[Ot]=e,l.nodeValue!==n&&(e.flags|=4)):(l=(n.nodeType===9?n:n.ownerDocument).createTextNode(l),l[Ot]=e,e.stateNode=l)}return null;case 13:return ye(Se),l=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(l=l!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&or(e):n=t.memoizedState!==null,l&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Se.current&1)!==0?Ae===0&&(Ae=3):((Ae===0||Ae===3)&&(Ae=4),We===null||(Gi&134217727)===0&&($n&134217727)===0||Rn(We,je))),(l||n)&&(e.flags|=4),null);case 4:return Wn(),ws(e),t===null&&Kc(e.stateNode.containerInfo),null;case 10:return Pa(e),null;case 17:return Ye(e.type)&&Dr(),null;case 19:if(ye(Se),l=e.memoizedState,l===null)return null;if(v=(e.flags&64)!==0,C=l.rendering,C===null)if(v)li(l,!1);else{if(Ae!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(C=Ir(t),C!==null){for(e.flags|=64,li(l,!1),v=C.updateQueue,v!==null&&(e.updateQueue=v,e.flags|=4),l.lastEffect===null&&(e.firstEffect=null),e.lastEffect=l.lastEffect,l=n,n=e.child;n!==null;)v=n,t=l,v.flags&=2,v.nextEffect=null,v.firstEffect=null,v.lastEffect=null,C=v.alternate,C===null?(v.childLanes=0,v.lanes=t,v.child=null,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=C.childLanes,v.lanes=C.lanes,v.child=C.child,v.memoizedProps=C.memoizedProps,v.memoizedState=C.memoizedState,v.updateQueue=C.updateQueue,v.type=C.type,t=C.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Se,Se.current&1|2),e.child}t=t.sibling}l.tail!==null&&Ie()>ks&&(e.flags|=64,v=!0,li(l,!1),e.lanes=33554432)}else{if(!v)if(t=Ir(C),t!==null){if(e.flags|=64,v=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),li(l,!0),l.tail===null&&l.tailMode==="hidden"&&!C.alternate&&!ft)return e=e.lastEffect=l.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ie()-l.renderingStartTime>ks&&n!==1073741824&&(e.flags|=64,v=!0,li(l,!1),e.lanes=33554432);l.isBackwards?(C.sibling=e.child,e.child=C):(n=l.last,n!==null?n.sibling=C:e.child=C,l.last=C)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.lastEffect=e.lastEffect,l.renderingStartTime=Ie(),n.sibling=null,e=Se.current,we(Se,v?e&1|2:e&1),n):null;case 23:case 24:return Ua(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&l.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Z(156,e.tag))}function Kd(t){switch(t.tag){case 1:Ye(t.type)&&Dr();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Wn(),ye(Xe),ye(Ne),La(),e=t.flags,(e&64)!==0)throw Error(Z(285));return t.flags=e&-4097|64,t;case 5:return Aa(t),null;case 13:return ye(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ye(Se),null;case 4:return Wn(),null;case 10:return Pa(t),null;case 23:case 24:return Ua(),null;default:return null}}function Na(t,e){try{var n="",l=e;do n+=Ph(l),l=l.return;while(l);var f=n}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:e,stack:f}}function xs(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qd=typeof WeakMap=="function"?WeakMap:Map;function Of(t,e,n){n=Lt(-1,n),n.tag=3,n.payload={element:null};var l=e.value;return n.callback=function(){zr||(zr=!0,Ps=l),xs(t,e)},n}function kf(t,e,n){n=Lt(-1,n),n.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var f=e.value;n.payload=function(){return xs(t,e),l(f)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){typeof l!="function"&&(lt===null?lt=new Set([this]):lt.add(this),xs(t,e));var C=e.stack;this.componentDidCatch(e.value,{componentStack:C!==null?C:""})}),n}var Qd=typeof WeakSet=="function"?WeakSet:Set;function yu(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){It(t,n)}else e.current=null}function Zd(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,l=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:nt(e.type,n),l),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Ea(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Z(163))}function Jd(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var l=t.create;t.destroy=l()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var f=t;l=f.next,f=f.tag,(f&4)!==0&&(f&1)!==0&&(jf(n,t),ap(n,t)),t=l}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(l=n.elementType===n.type?e.memoizedProps:nt(n.type,e.memoizedProps),t.componentDidUpdate(l,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Jl(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Jl(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&Zc(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ac(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Z(163))}function _u(t,e){for(var n=t;;){if(n.tag===5){var l=n.stateNode;if(e)l=l.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{l=n.stateNode;var f=n.memoizedProps.style;f=f!=null&&f.hasOwnProperty("display")?f.display:null,l.style.display=Cc("display",f)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Cu(t,e){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(ba,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var l=n,f=l.destroy;if(l=l.tag,f!==void 0)if((l&4)!==0)jf(e,n);else{l=e;try{f()}catch(v){It(l,v)}}n=n.next}while(n!==t)}break;case 1:if(yu(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(v){It(e,v)}break;case 5:yu(e);break;case 4:Pf(t,e)}}function Su(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function wu(t){return t.tag===5||t.tag===3||t.tag===4}function xu(t){e:{for(var e=t.return;e!==null;){if(wu(e))break e;e=e.return}throw Error(Z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var l=!1;break;case 3:e=e.containerInfo,l=!0;break;case 4:e=e.containerInfo,l=!0;break;default:throw Error(Z(161))}n.flags&16&&(Di(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}l?Ts(t,n,e):Es(t,n,e)}function Ts(t,e,n){var l=t.tag,f=l===5||l===6;if(f)t=f?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(l!==4&&(t=t.child,t!==null))for(Ts(t,e,n),t=t.sibling;t!==null;)Ts(t,e,n),t=t.sibling}function Es(t,e,n){var l=t.tag,f=l===5||l===6;if(f)t=f?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Es(t,e,n),t=t.sibling;t!==null;)Es(t,e,n),t=t.sibling}function Pf(t,e){for(var n=e,l=!1,f,v;;){if(!l){l=n.return;e:for(;;){if(l===null)throw Error(Z(160));switch(f=l.stateNode,l.tag){case 5:v=!1;break e;case 3:f=f.containerInfo,v=!0;break e;case 4:f=f.containerInfo,v=!0;break e}l=l.return}l=!0}if(n.tag===5||n.tag===6){e:for(var C=t,u=n,i=u;;)if(Cu(C,i),i.child!==null&&i.tag!==4)i.child.return=i,i=i.child;else{if(i===u)break e;for(;i.sibling===null;){if(i.return===null||i.return===u)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v?(C=f,u=n.stateNode,C.nodeType===8?C.parentNode.removeChild(u):C.removeChild(u)):f.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){f=n.stateNode.containerInfo,v=!0,n.child.return=n,n=n.child;continue}}else if(Cu(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(l=!1)}n.sibling.return=n.return,n=n.sibling}}function jo(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do(l.tag&3)===3&&(t=l.destroy,l.destroy=void 0,t!==void 0&&t()),l=l.next;while(l!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){l=e.memoizedProps;var f=t!==null?t.memoizedProps:l;t=e.type;var v=e.updateQueue;if(e.updateQueue=null,v!==null){for(n[Pr]=l,t==="input"&&l.type==="radio"&&l.name!=null&&mc(n,l),is(t,f),e=is(t,l),f=0;f<v.length;f+=2){var C=v[f],u=v[f+1];C==="style"?Sc(n,u):C==="dangerouslySetInnerHTML"?_c(n,u):C==="children"?Di(n,u):ra(n,C,u,e)}switch(t){case"input":qo(n,l);break;case"textarea":vc(n,l);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!l.multiple,v=l.value,v!=null?On(n,!!l.multiple,v,!1):t!==!!l.multiple&&(l.defaultValue!=null?On(n,!!l.multiple,l.defaultValue,!0):On(n,!!l.multiple,l.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ac(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Ha=Ie(),_u(e.child,!0)),Tu(e);return;case 19:Tu(e);return;case 17:return;case 23:case 24:_u(e,e.memoizedState!==null);return}throw Error(Z(163))}function Tu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Qd),e.forEach(function(l){var f=cp.bind(null,t,l);n.has(l)||(n.add(l),l.then(f,f))})}}function ep(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var tp=Math.ceil,Ur=hn.ReactCurrentDispatcher,Ba=hn.ReactCurrentOwner,le=0,We=null,Ee=null,je=0,un=0,bs=zt(0),Ae=0,lo=null,Gn=0,Gi=0,$n=0,Wa=0,Os=null,Ha=0,ks=1/0;function Kn(){ks=Ie()+500}var ie=null,zr=!1,Ps=null,lt=null,Ht=!1,bi=null,di=90,Ds=[],As=[],yt=null,Oi=0,Ls=null,yr=-1,gt=0,_r=0,ki=null,Cr=!1;function Ve(){return(le&48)!==0?Ie():yr!==-1?yr:yr=Ie()}function Mt(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Bn()===99?1:2;if(gt===0&&(gt=Gn),Ud.transition!==0){_r!==0&&(_r=Os!==null?Os.pendingLanes:0),t=gt;var e=4186112&~_r;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Bn(),(le&4)!==0&&t===98?t=br(12,gt):(t=Yh(t),t=br(t,gt)),t}function Ft(t,e,n){if(50<Oi)throw Oi=0,Ls=null,Error(Z(185));if(t=uo(t,e),t===null)return null;to(t,e,n),t===We&&($n|=e,Ae===4&&Rn(t,je));var l=Bn();e===1?(le&8)!==0&&(le&48)===0?Rs(t):(Je(t,n),le===0&&(Kn(),ht())):((le&4)===0||l!==98&&l!==99||(yt===null?yt=new Set([t]):yt.add(t)),Je(t,n)),Os=t}function uo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Je(t,e){for(var n=t.callbackNode,l=t.suspendedLanes,f=t.pingedLanes,v=t.expirationTimes,C=t.pendingLanes;0<C;){var u=31-Bt(C),i=1<<u,h=v[u];if(h===-1){if((i&l)===0||(i&f)!==0){h=e,vn(i);var d=me;v[u]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=e&&(t.expiredLanes|=i);C&=~i}if(l=Mi(t,t===We?je:0),e=me,l===0)n!==null&&(n!==Lo&&ps(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Lo&&ps(n)}e===15?(n=Rs.bind(null,t),pt===null?(pt=[n],vr=Oa(so,af)):pt.push(n),n=Lo):e===14?n=Ni(99,Rs.bind(null,t)):(n=Vh(e),n=Ni(n,Df.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Df(t){if(yr=-1,_r=gt=0,(le&48)!==0)throw Error(Z(327));var e=t.callbackNode;if(Xt()&&t.callbackNode!==e)return null;var n=Mi(t,t===We?je:0);if(n===0)return null;var l=n,f=le;le|=16;var v=Mf();(We!==t||je!==l)&&(Kn(),Mn(t,l));do try{rp();break}catch(u){Rf(t,u)}while(1);if(ka(),Ur.current=v,le=f,Ee!==null?l=0:(We=null,je=0,l=Ae),(Gn&$n)!==0)Mn(t,0);else if(l!==0){if(l===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Ea(t.containerInfo)),n=Nc(t),n!==0&&(l=pi(t,n))),l===1)throw e=lo,Mn(t,0),Rn(t,n),Je(t,Ie()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,l){case 0:case 1:throw Error(Z(345));case 2:Vt(t);break;case 3:if(Rn(t,n),(n&62914560)===n&&(l=Ha+500-Ie(),10<l)){if(Mi(t,0)!==0)break;if(f=t.suspendedLanes,(f&n)!==n){Ve(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Yl(Vt.bind(null,t),l);break}Vt(t);break;case 4:if(Rn(t,n),(n&4186112)===n)break;for(l=t.eventTimes,f=-1;0<n;){var C=31-Bt(n);v=1<<C,C=l[C],C>f&&(f=C),n&=~v}if(n=f,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*tp(n/1960))-n,10<n){t.timeoutHandle=Yl(Vt.bind(null,t),n);break}Vt(t);break;case 5:Vt(t);break;default:throw Error(Z(329))}}return Je(t,Ie()),t.callbackNode===e?Df.bind(null,t):null}function Rn(t,e){for(e&=~Wa,e&=~$n,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),l=1<<n;t[n]=-1,e&=~l}}function Rs(t){if((le&48)!==0)throw Error(Z(327));if(Xt(),t===We&&(t.expiredLanes&je)!==0){var e=je,n=pi(t,e);(Gn&$n)!==0&&(e=Mi(t,e),n=pi(t,e))}else e=Mi(t,0),n=pi(t,e);if(t.tag!==0&&n===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Ea(t.containerInfo)),e=Nc(t),e!==0&&(n=pi(t,e))),n===1)throw n=lo,Mn(t,0),Rn(t,e),Je(t,Ie()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vt(t),Je(t,Ie()),null}function np(){if(yt!==null){var t=yt;yt=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Je(e,Ie())})}ht()}function Af(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Kn(),ht())}}function Lf(t,e){var n=le;le&=-2,le|=8;try{return t(e)}finally{le=n,le===0&&(Kn(),ht())}}function ar(t,e){we(bs,un),un|=e,Gn|=e}function Ua(){un=bs.current,ye(bs)}function Mn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Id(n)),Ee!==null)for(n=Ee.return;n!==null;){var l=n;switch(l.tag){case 1:l=l.type.childContextTypes,l!=null&&Dr();break;case 3:Wn(),ye(Xe),ye(Ne),La();break;case 5:Aa(l);break;case 4:Wn();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Pa(l);break;case 23:case 24:Ua()}n=n.return}We=t,Ee=Ut(t.current,null),je=un=Gn=e,Ae=0,lo=null,Wa=$n=Gi=0}function Rf(t,e){do{var n=Ee;try{if(ka(),Ti.current=Hr,jr){for(var l=xe.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}jr=!1}if(Ui=0,De=Me=xe=null,Ei=!1,Ba.current=null,n===null||n.return===null){Ae=1,lo=e,Ee=null;break}e:{var v=t,C=n.return,u=n,i=e;if(e=je,u.flags|=2048,u.firstEffect=u.lastEffect=null,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i;if((u.mode&2)===0){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var s=(Se.current&1)!==0,a=C;do{var r;if(r=a.tag===13){var c=a.memoizedState;if(c!==null)r=c.dehydrated!==null;else{var g=a.memoizedProps;r=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!s}}if(r){var o=a.updateQueue;if(o===null){var p=new Set;p.add(h),a.updateQueue=p}else o.add(h);if((a.mode&2)===0){if(a.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var m=Lt(-1,1);m.tag=2,Rt(u,m)}u.lanes|=1;break e}i=void 0,u=e;var y=v.pingCache;if(y===null?(y=v.pingCache=new qd,i=new Set,y.set(h,i)):(i=y.get(h),i===void 0&&(i=new Set,y.set(h,i))),!i.has(u)){i.add(u);var _=up.bind(null,v,h,u);h.then(_,_)}a.flags|=4096,a.lanes=e;break e}a=a.return}while(a!==null);i=Error((bn(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ae!==5&&(Ae=2),i=Na(i,u),a=C;do{switch(a.tag){case 3:v=i,a.flags|=4096,e&=-e,a.lanes|=e;var S=Of(a,v,e);Zl(a,S);break e;case 1:v=i;var w=a.type,E=a.stateNode;if((a.flags&64)===0&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(lt===null||!lt.has(E)))){a.flags|=4096,e&=-e,a.lanes|=e;var O=kf(a,v,e);Zl(a,O);break e}}a=a.return}while(a!==null)}If(n)}catch(A){e=A,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function Mf(){var t=Ur.current;return Ur.current=Hr,t===null?Hr:t}function pi(t,e){var n=le;le|=16;var l=Mf();We===t&&je===e||Mn(t,e);do try{ip();break}catch(f){Rf(t,f)}while(1);if(ka(),le=n,Ur.current=l,Ee!==null)throw Error(Z(261));return We=null,je=0,Ae}function ip(){for(;Ee!==null;)Ff(Ee)}function rp(){for(;Ee!==null&&!Bd();)Ff(Ee)}function Ff(t){var e=Nf(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?If(t):Ee=e,Ba.current=null}function If(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=$d(n,e,un),n!==null){Ee=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(un&1073741824)!==0||(n.mode&4)===0){for(var l=0,f=n.child;f!==null;)l|=f.lanes|f.childLanes,f=f.sibling;n.childLanes=l}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=Kd(e),n!==null){n.flags&=2047,Ee=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Ae===0&&(Ae=5)}function Vt(t){var e=Bn();return ln(99,op.bind(null,t,e)),null}function op(t,e){do Xt();while(bi!==null);if((le&48)!==0)throw Error(Z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null;var l=n.lanes|n.childLanes,f=l,v=t.pendingLanes&~f;t.pendingLanes=f,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=f,t.mutableReadLanes&=f,t.entangledLanes&=f,f=t.entanglements;for(var C=t.eventTimes,u=t.expirationTimes;0<v;){var i=31-Bt(v),h=1<<i;f[i]=0,C[i]=-1,u[i]=-1,v&=~h}if(yt!==null&&(l&24)===0&&yt.has(t)&&yt.delete(t),t===We&&(Ee=We=null,je=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,l=n.firstEffect):l=n:l=n.firstEffect,l!==null){if(f=le,le|=32,Ba.current=null,Po=dr,C=Nl(),us(C)){if("selectionStart"in C)u={start:C.selectionStart,end:C.selectionEnd};else e:if(u=(u=C.ownerDocument)&&u.defaultView||window,(h=u.getSelection&&u.getSelection())&&h.rangeCount!==0){u=h.anchorNode,v=h.anchorOffset,i=h.focusNode,h=h.focusOffset;try{u.nodeType,i.nodeType}catch{u=null;break e}var d=0,s=-1,a=-1,r=0,c=0,g=C,o=null;t:for(;;){for(var p;g!==u||v!==0&&g.nodeType!==3||(s=d+v),g!==i||h!==0&&g.nodeType!==3||(a=d+h),g.nodeType===3&&(d+=g.nodeValue.length),(p=g.firstChild)!==null;)o=g,g=p;for(;;){if(g===C)break t;if(o===u&&++r===v&&(s=d),o===i&&++c===h&&(a=d),(p=g.nextSibling)!==null)break;g=o,o=g.parentNode}g=p}u=s===-1||a===-1?null:{start:s,end:a}}else u=null;u=u||{start:0,end:0}}else u=null;Do={focusedElem:C,selectionRange:u},dr=!1,ki=null,Cr=!1,ie=l;do try{sp()}catch(A){if(ie===null)throw Error(Z(330));It(ie,A),ie=ie.nextEffect}while(ie!==null);ki=null,ie=l;do try{for(C=t;ie!==null;){var m=ie.flags;if(m&16&&Di(ie.stateNode,""),m&128){var y=ie.alternate;if(y!==null){var _=y.ref;_!==null&&(typeof _=="function"?_(null):_.current=null)}}switch(m&1038){case 2:xu(ie),ie.flags&=-3;break;case 6:xu(ie),ie.flags&=-3,jo(ie.alternate,ie);break;case 1024:ie.flags&=-1025;break;case 1028:ie.flags&=-1025,jo(ie.alternate,ie);break;case 4:jo(ie.alternate,ie);break;case 8:u=ie,Pf(C,u);var S=u.alternate;Su(u),S!==null&&Su(S)}ie=ie.nextEffect}}catch(A){if(ie===null)throw Error(Z(330));It(ie,A),ie=ie.nextEffect}while(ie!==null);if(_=Do,y=Nl(),m=_.focusedElem,C=_.selectionRange,y!==m&&m&&m.ownerDocument&&Vc(m.ownerDocument.documentElement,m)){for(C!==null&&us(m)&&(y=C.start,_=C.end,_===void 0&&(_=y),"selectionStart"in m?(m.selectionStart=y,m.selectionEnd=Math.min(_,m.value.length)):(_=(y=m.ownerDocument||document)&&y.defaultView||window,_.getSelection&&(_=_.getSelection(),u=m.textContent.length,S=Math.min(C.start,u),C=C.end===void 0?S:Math.min(C.end,u),!_.extend&&S>C&&(u=C,C=S,S=u),u=jl(m,S),v=jl(m,C),u&&v&&(_.rangeCount!==1||_.anchorNode!==u.node||_.anchorOffset!==u.offset||_.focusNode!==v.node||_.focusOffset!==v.offset)&&(y=y.createRange(),y.setStart(u.node,u.offset),_.removeAllRanges(),S>C?(_.addRange(y),_.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),_.addRange(y)))))),y=[],_=m;_=_.parentNode;)_.nodeType===1&&y.push({element:_,left:_.scrollLeft,top:_.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<y.length;m++)_=y[m],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}dr=!!Po,Do=Po=null,t.current=n,ie=l;do try{for(m=t;ie!==null;){var w=ie.flags;if(w&36&&Jd(m,ie.alternate,ie),w&128){y=void 0;var E=ie.ref;if(E!==null){var O=ie.stateNode;switch(ie.tag){case 5:y=O;break;default:y=O}typeof E=="function"?E(y):E.current=y}}ie=ie.nextEffect}}catch(A){if(ie===null)throw Error(Z(330));It(ie,A),ie=ie.nextEffect}while(ie!==null);ie=null,Hd(),le=f}else t.current=n;if(Ht)Ht=!1,bi=t,di=e;else for(ie=l;ie!==null;)e=ie.nextEffect,ie.nextEffect=null,ie.flags&8&&(w=ie,w.sibling=null,w.stateNode=null),ie=e;if(l=t.pendingLanes,l===0&&(lt=null),l===1?t===Ls?Oi++:(Oi=0,Ls=t):Oi=0,n=n.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(ba,n,void 0,(n.current.flags&64)===64)}catch{}if(Je(t,Ie()),zr)throw zr=!1,t=Ps,Ps=null,t;return(le&8)!==0||ht(),null}function sp(){for(;ie!==null;){var t=ie.alternate;Cr||ki===null||((ie.flags&8)!==0?xl(ie,ki)&&(Cr=!0):ie.tag===13&&ep(t,ie)&&xl(ie,ki)&&(Cr=!0));var e=ie.flags;(e&256)!==0&&Zd(t,ie),(e&512)===0||Ht||(Ht=!0,Ni(97,function(){return Xt(),null})),ie=ie.nextEffect}}function Xt(){if(di!==90){var t=97<di?97:di;return di=90,ln(t,lp)}return!1}function ap(t,e){Ds.push(e,t),Ht||(Ht=!0,Ni(97,function(){return Xt(),null}))}function jf(t,e){As.push(e,t),Ht||(Ht=!0,Ni(97,function(){return Xt(),null}))}function lp(){if(bi===null)return!1;var t=bi;if(bi=null,(le&48)!==0)throw Error(Z(331));var e=le;le|=32;var n=As;As=[];for(var l=0;l<n.length;l+=2){var f=n[l],v=n[l+1],C=f.destroy;if(f.destroy=void 0,typeof C=="function")try{C()}catch(i){if(v===null)throw Error(Z(330));It(v,i)}}for(n=Ds,Ds=[],l=0;l<n.length;l+=2){f=n[l],v=n[l+1];try{var u=f.create;f.destroy=u()}catch(i){if(v===null)throw Error(Z(330));It(v,i)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return le=e,ht(),!0}function Eu(t,e,n){e=Na(n,e),e=Of(t,e,1),Rt(t,e),e=Ve(),t=uo(t,1),t!==null&&(to(t,1,e),Je(t,e))}function It(t,e){if(t.tag===3)Eu(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Eu(n,t,e);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lt===null||!lt.has(l))){t=Na(e,t);var f=kf(n,t,1);if(Rt(n,f),f=Ve(),n=uo(n,1),n!==null)to(n,1,f),Je(n,f);else if(typeof l.componentDidCatch=="function"&&(lt===null||!lt.has(l)))try{l.componentDidCatch(e,t)}catch{}break}}n=n.return}}function up(t,e,n){var l=t.pingCache;l!==null&&l.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,We===t&&(je&n)===n&&(Ae===4||Ae===3&&(je&62914560)===je&&500>Ie()-Ha?Mn(t,0):Wa|=n),Je(t,e)}function cp(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Bn()===99?1:2:(gt===0&&(gt=Gn),e=yn(62914560&~gt),e===0&&(e=4194304))),n=Ve(),t=uo(t,e),t!==null&&(to(t,e,n),Je(t,n))}var Nf;Nf=function(t,e,n){var l=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Xe.current)rt=!0;else if((n&l)!==0)rt=(t.flags&16384)!==0;else{switch(rt=!1,e.tag){case 3:fu(e),Mo();break;case 5:nu(e);break;case 1:Ye(e.type)&&mr(e);break;case 4:vs(e,e.stateNode.containerInfo);break;case 10:l=e.memoizedProps.value;var f=e.type._context;we(Ar,f._currentValue),f._currentValue=l;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?hu(t,e,n):(we(Se,Se.current&1),e=vt(t,e,n),e!==null?e.sibling:null);we(Se,Se.current&1);break;case 19:if(l=(n&e.childLanes)!==0,(t.flags&64)!==0){if(l)return vu(t,e,n);e.flags|=64}if(f=e.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),we(Se,Se.current),l)break;return null;case 23:case 24:return e.lanes=0,Fo(t,e,n)}return vt(t,e,n)}else rt=!1;switch(e.lanes=0,e.tag){case 2:if(l=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,f=Nn(e,Ne.current),An(e,n),f=Ma(null,e,l,t,f,n),e.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(l)){var v=!0;mr(e)}else v=!1;e.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Da(e);var C=l.getDerivedStateFromProps;typeof C=="function"&&Mr(e,l,C,t),f.updater=ao,e.stateNode=f,f._reactInternals=e,ms(e,l,t,n),e=Ss(null,e,l,!0,v,n)}else e.tag=0,ze(null,e,f,n),e=e.child;return e;case 16:f=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,v=f._init,f=v(f._payload),e.type=f,v=e.tag=hp(f),t=nt(f,t),v){case 0:e=Cs(null,e,f,t,n);break e;case 1:e=cu(null,e,f,t,n);break e;case 11:e=lu(null,e,f,t,n);break e;case 14:e=uu(null,e,f,nt(f.type,t),l,n);break e}throw Error(Z(306,f,""))}return e;case 0:return l=e.type,f=e.pendingProps,f=e.elementType===l?f:nt(l,f),Cs(t,e,l,f,n);case 1:return l=e.type,f=e.pendingProps,f=e.elementType===l?f:nt(l,f),cu(t,e,l,f,n);case 3:if(fu(e),l=e.updateQueue,t===null||l===null)throw Error(Z(282));if(l=e.pendingProps,f=e.memoizedState,f=f!==null?f.element:null,uf(t,e),Bi(e,l,null,n),l=e.memoizedState.element,l===f)Mo(),e=vt(t,e,n);else{if(f=e.stateNode,(v=f.hydrate)&&(kt=Dn(e.stateNode.containerInfo.firstChild),mt=e,v=ft=!0),v){if(t=f.mutableSourceEagerHydrationData,t!=null)for(f=0;f<t.length;f+=2)v=t[f],v._workInProgressVersionPrimary=t[f+1],Ln.push(v);for(n=df(e,null,l,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else ze(t,e,l,n),Mo();e=e.child}return e;case 5:return nu(e),t===null&&ys(e),l=e.type,f=e.pendingProps,v=t!==null?t.memoizedProps:null,C=f.children,hs(l,f)?C=null:v!==null&&hs(l,v)&&(e.flags|=16),xf(t,e),ze(t,e,C,n),e.child;case 6:return t===null&&ys(e),null;case 13:return hu(t,e,n);case 4:return vs(e,e.stateNode.containerInfo),l=e.pendingProps,t===null?e.child=Fr(e,null,l,n):ze(t,e,l,n),e.child;case 11:return l=e.type,f=e.pendingProps,f=e.elementType===l?f:nt(l,f),lu(t,e,l,f,n);case 7:return ze(t,e,e.pendingProps,n),e.child;case 8:return ze(t,e,e.pendingProps.children,n),e.child;case 12:return ze(t,e,e.pendingProps.children,n),e.child;case 10:e:{l=e.type._context,f=e.pendingProps,C=e.memoizedProps,v=f.value;var u=e.type._context;if(we(Ar,u._currentValue),u._currentValue=v,C!==null)if(u=C.value,v=$e(u,v)?0:(typeof l._calculateChangedBits=="function"?l._calculateChangedBits(u,v):1073741823)|0,v===0){if(C.children===f.children&&!Xe.current){e=vt(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var i=u.dependencies;if(i!==null){C=u.child;for(var h=i.firstContext;h!==null;){if(h.context===l&&(h.observedBits&v)!==0){u.tag===1&&(h=Lt(-1,n&-n),h.tag=2,Rt(u,h)),u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),lf(u.return,n),i.lanes|=n;break}h=h.next}}else C=u.tag===10&&u.type===e.type?null:u.child;if(C!==null)C.return=u;else for(C=u;C!==null;){if(C===e){C=null;break}if(u=C.sibling,u!==null){u.return=C.return,C=u;break}C=C.return}u=C}ze(t,e,f.children,n),e=e.child}return e;case 9:return f=e.type,v=e.pendingProps,l=v.children,An(e,n),f=Ze(f,v.unstable_observedBits),l=l(f),e.flags|=1,ze(t,e,l,n),e.child;case 14:return f=e.type,v=nt(f,e.pendingProps),v=nt(f.type,v),uu(t,e,f,v,l,n);case 15:return wf(t,e,e.type,e.pendingProps,l,n);case 17:return l=e.type,f=e.pendingProps,f=e.elementType===l?f:nt(l,f),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ye(l)?(t=!0,mr(e)):t=!1,An(e,n),ff(e,l,f),ms(e,l,f,n),Ss(null,e,l,!0,t,n);case 19:return vu(t,e,n);case 23:return Fo(t,e,n);case 24:return Fo(t,e,n)}throw Error(Z(156,e.tag))};function fp(t,e,n,l){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,l){return new fp(t,e,n,l)}function za(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hp(t){if(typeof t=="function")return za(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zr)return 11;if(t===Jr)return 14}return 2}function Ut(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Sr(t,e,n,l,f,v){var C=2;if(l=t,typeof t=="function")za(t)&&(C=1);else if(typeof t=="string")C=5;else e:switch(t){case Et:return Fn(n.children,f,v,e);case dc:C=8,f|=16;break;case oa:C=8,f|=1;break;case vi:return t=Ke(12,n,e,f|8),t.elementType=vi,t.type=vi,t.lanes=v,t;case yi:return t=Ke(13,n,e,f),t.type=yi,t.elementType=yi,t.lanes=v,t;case wr:return t=Ke(19,n,e,f),t.elementType=wr,t.lanes=v,t;case fa:return Xa(n,f,v,e);case $o:return t=Ke(24,n,e,f),t.elementType=$o,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sa:C=10;break e;case aa:C=9;break e;case Zr:C=11;break e;case Jr:C=14;break e;case la:C=16,l=null;break e;case ua:C=22;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Ke(C,n,e,f),e.elementType=t,e.type=l,e.lanes=v,e}function Fn(t,e,n,l){return t=Ke(7,t,l,e),t.lanes=n,t}function Xa(t,e,n,l){return t=Ke(23,t,l,e),t.elementType=fa,t.lanes=n,t}function No(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function Bo(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dp(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=wo(0),this.expirationTimes=wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wo(0),this.mutableSourceEagerHydrationData=null}function pp(t,e,n){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qt,key:l==null?null:""+l,children:t,containerInfo:e,implementation:n}}function Xr(t,e,n,l){var f=e.current,v=Ve(),C=Mt(f);e:if(n){n=n._reactInternals;t:{if(dn(n)!==n||n.tag!==1)throw Error(Z(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Ye(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(Z(171))}if(n.tag===1){var i=n.type;if(Ye(i)){n=ef(n,i,u);break e}}n=u}else n=Wt;return e.context===null?e.context=n:e.pendingContext=n,e=Lt(v,C),e.payload={element:t},l=l===void 0?null:l,l!==null&&(e.callback=l),Rt(f,e),Ft(f,C,v),C}function Wo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ya(t,e){bu(t,e),(t=t.alternate)&&bu(t,e)}function gp(){return null}function Va(t,e,n){var l=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new dp(t,e,n!=null&&n.hydrate===!0),e=Ke(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Da(e),t[Vn]=n.current,Kc(t.nodeType===8?t.parentNode:t),l)for(t=0;t<l.length;t++){e=l[t];var f=e._getVersion;f=f(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,f]:n.mutableSourceEagerHydrationData.push(e,f)}this._internalRoot=n}Va.prototype.render=function(t){Xr(t,this._internalRoot,null,null)};Va.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Xr(null,t,null,function(){e[Vn]=null})};function $i(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mp(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Va(t,0,e?{hydrate:!0}:void 0)}function co(t,e,n,l,f){var v=n._reactRootContainer;if(v){var C=v._internalRoot;if(typeof f=="function"){var u=f;f=function(){var h=Wo(C);u.call(h)}}Xr(e,C,t,f)}else{if(v=n._reactRootContainer=mp(n,l),C=v._internalRoot,typeof f=="function"){var i=f;f=function(){var h=Wo(C);i.call(h)}}Lf(function(){Xr(e,C,t,f)})}return Wo(C)}kc=function(t){if(t.tag===13){var e=Ve();Ft(t,4,e),Ya(t,4)}};ma=function(t){if(t.tag===13){var e=Ve();Ft(t,67108864,e),Ya(t,67108864)}};Pc=function(t){if(t.tag===13){var e=Ve(),n=Mt(t);Ft(t,n,e),Ya(t,n)}};Dc=function(t,e){return e()};rs=function(t,e,n){switch(e){case"input":if(qo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var l=n[e];if(l!==t&&l.form===t.form){var f=oo(l);if(!f)throw Error(Z(90));gc(l),qo(l,f)}}}break;case"textarea":vc(t,n);break;case"select":e=n.value,e!=null&&On(t,!!n.multiple,e,!1)}};da=Af;Tc=function(t,e,n,l,f){var v=le;le|=4;try{return ln(98,t.bind(null,e,n,l,f))}finally{le=v,le===0&&(Kn(),ht())}};pa=function(){(le&49)===0&&(np(),Xt())};Ec=function(t,e){var n=le;le|=2;try{return t(e)}finally{le=n,le===0&&(Kn(),ht())}};function Bf(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$i(e))throw Error(Z(200));return pp(t,e,null,n)}var vp={Events:[Yi,xn,oo,wc,xc,Xt,{current:!1}]},ui={findFiberByHostInstance:Zt,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},yp={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oc(t),t===null?null:t.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{ba=lr.inject(yp),on=lr}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vp;et.createPortal=Bf;et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):Error(Z(268,Object.keys(t)));return t=Oc(e),t=t===null?null:t.stateNode,t};et.flushSync=function(t,e){var n=le;if((n&48)!==0)return t(e);le|=1;try{if(t)return ln(99,t.bind(null,e))}finally{le=n,ht()}};et.hydrate=function(t,e,n){if(!$i(e))throw Error(Z(200));return co(null,t,e,!0,n)};et.render=function(t,e,n){if(!$i(e))throw Error(Z(200));return co(null,t,e,!1,n)};et.unmountComponentAtNode=function(t){if(!$i(t))throw Error(Z(40));return t._reactRootContainer?(Lf(function(){co(null,null,t,!1,function(){t._reactRootContainer=null,t[Vn]=null})}),!0):!1};et.unstable_batchedUpdates=Af;et.unstable_createPortal=function(t,e){return Bf(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};et.unstable_renderSubtreeIntoContainer=function(t,e,n,l){if(!$i(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return co(t,e,n,!1,l)};et.version="17.0.2";function Wf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wf)}catch(t){console.error(t)}}Wf(),uc.exports=et;var jt=uc.exports;function Hn(){return Hn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Hn.apply(this,arguments)}var tn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tn||(tn={}));var Ou=function(t){return t},ku="beforeunload",_p="hashchange",Cp="popstate";function Sp(t){t===void 0&&(t={});var e=t,n=e.window,l=n===void 0?document.defaultView:n,f=l.history;function v(){var O=cn(l.location.hash.substr(1)),A=O.pathname,j=A===void 0?"/":A,V=O.search,G=V===void 0?"":V,$=O.hash,Q=$===void 0?"":$,K=f.state||{};return[K.idx,Ou({pathname:j,search:G,hash:Q,state:K.usr||null,key:K.key||"default"})]}var C=null;function u(){if(C)r.call(C),C=null;else{var O=tn.Pop,A=v(),j=A[0],V=A[1];if(r.length){if(j!=null){var G=d-j;G&&(C={action:O,location:V,retry:function(){w(G*-1)}},w(G))}}else y(O)}}l.addEventListener(Cp,u),l.addEventListener(_p,function(){var O=v(),A=O[1];Ho(A)!==Ho(s)&&u()});var i=tn.Pop,h=v(),d=h[0],s=h[1],a=Du(),r=Du();d==null&&(d=0,f.replaceState(Hn({},f.state,{idx:d}),""));function c(){var O=document.querySelector("base"),A="";if(O&&O.getAttribute("href")){var j=l.location.href,V=j.indexOf("#");A=V===-1?j:j.slice(0,V)}return A}function g(O){return c()+"#"+(typeof O=="string"?O:Ho(O))}function o(O,A){return A===void 0&&(A=null),Ou(Hn({pathname:s.pathname,hash:"",search:""},typeof O=="string"?cn(O):O,{state:A,key:wp()}))}function p(O,A){return[{usr:O.state,key:O.key,idx:A},g(O)]}function m(O,A,j){return!r.length||(r.call({action:O,location:A,retry:j}),!1)}function y(O){i=O;var A=v();d=A[0],s=A[1],a.call({action:i,location:s})}function _(O,A){var j=tn.Push,V=o(O,A);function G(){_(O,A)}if(m(j,V,G)){var $=p(V,d+1),Q=$[0],K=$[1];try{f.pushState(Q,"",K)}catch{l.location.assign(K)}y(j)}}function S(O,A){var j=tn.Replace,V=o(O,A);function G(){S(O,A)}if(m(j,V,G)){var $=p(V,d),Q=$[0],K=$[1];f.replaceState(Q,"",K),y(j)}}function w(O){f.go(O)}var E={get action(){return i},get location(){return s},createHref:g,push:_,replace:S,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(A){return a.push(A)},block:function(A){var j=r.push(A);return r.length===1&&l.addEventListener(ku,Pu),function(){j(),r.length||l.removeEventListener(ku,Pu)}}};return E}function Pu(t){t.preventDefault(),t.returnValue=""}function Du(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(l){return l!==n})}},call:function(n){t.forEach(function(l){return l&&l(n)})}}}function wp(){return Math.random().toString(36).substr(2,8)}function Ho(t){var e=t.pathname,n=e===void 0?"/":e,l=t.search,f=l===void 0?"":l,v=t.hash,C=v===void 0?"":v;return f&&f!=="?"&&(n+=f.charAt(0)==="?"?f:"?"+f),C&&C!=="#"&&(n+=C.charAt(0)==="#"?C:"#"+C),n}function cn(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var l=t.indexOf("?");l>=0&&(e.search=t.substr(l),t=t.substr(0,l)),t&&(e.pathname=t)}return e}/**
 * React Router v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ct(t,e){if(!t)throw new Error(e)}const Hf=ae.exports.createContext(null),Ga=ae.exports.createContext(null),fo=ae.exports.createContext({outlet:null,matches:[]});function Em(t){return bp(t.context)}function xp(t){Ct(!1)}function Tp(t){let{basename:e="/",children:n=null,location:l,navigationType:f=tn.Pop,navigator:v,static:C=!1}=t;ho()&&Ct(!1);let u=Yf(e),i=ae.exports.useMemo(()=>({basename:u,navigator:v,static:C}),[u,v,C]);typeof l=="string"&&(l=cn(l));let{pathname:h="/",search:d="",hash:s="",state:a=null,key:r="default"}=l,c=ae.exports.useMemo(()=>{let g=Xf(h,u);return g==null?null:{pathname:g,search:d,hash:s,state:a,key:r}},[u,h,d,s,a,r]);return c==null?null:ae.exports.createElement(Hf.Provider,{value:i},ae.exports.createElement(Ga.Provider,{children:n,value:{location:c,navigationType:f}}))}function bm(t){let{children:e,location:n}=t;return Op(Ms(e),n)}function ho(){return ae.exports.useContext(Ga)!=null}function Uf(){return ho()||Ct(!1),ae.exports.useContext(Ga).location}function Om(){ho()||Ct(!1);let{basename:t,navigator:e}=ae.exports.useContext(Hf),{matches:n}=ae.exports.useContext(fo),{pathname:l}=Uf(),f=JSON.stringify(n.map(u=>u.pathnameBase)),v=ae.exports.useRef(!1);return ae.exports.useEffect(()=>{v.current=!0}),ae.exports.useCallback(function(u,i){if(i===void 0&&(i={}),!v.current)return;if(typeof u=="number"){e.go(u);return}let h=Yp(u,JSON.parse(f),l);t!=="/"&&(h.pathname=sn([t,h.pathname])),(i.replace?e.replace:e.push)(h,i.state)},[t,e,f,l])}const Ep=ae.exports.createContext(null);function bp(t){let e=ae.exports.useContext(fo).outlet;return e&&ae.exports.createElement(Ep.Provider,{value:t},e)}function Op(t,e){ho()||Ct(!1);let{matches:n}=ae.exports.useContext(fo),l=n[n.length-1],f=l?l.params:{};l&&l.pathname;let v=l?l.pathnameBase:"/";l&&l.route;let C=Uf(),u;if(e){var i;let a=typeof e=="string"?cn(e):e;v==="/"||((i=a.pathname)==null?void 0:i.startsWith(v))||Ct(!1),u=a}else u=C;let h=u.pathname||"/",d=v==="/"?h:h.slice(v.length)||"/",s=kp(t,{pathname:d});return Bp(s&&s.map(a=>Object.assign({},a,{params:Object.assign({},f,a.params),pathname:sn([v,a.pathname]),pathnameBase:a.pathnameBase==="/"?v:sn([v,a.pathnameBase])})),n)}function Ms(t){let e=[];return ae.exports.Children.forEach(t,n=>{if(!ae.exports.isValidElement(n))return;if(n.type===ae.exports.Fragment){e.push.apply(e,Ms(n.props.children));return}n.type!==xp&&Ct(!1);let l={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(l.children=Ms(n.props.children)),e.push(l)}),e}function kp(t,e,n){n===void 0&&(n="/");let l=typeof e=="string"?cn(e):e,f=Xf(l.pathname||"/",n);if(f==null)return null;let v=zf(t);Pp(v);let C=null;for(let u=0;C==null&&u<v.length;++u)C=Np(v[u],f);return C}function zf(t,e,n,l){return e===void 0&&(e=[]),n===void 0&&(n=[]),l===void 0&&(l=""),t.forEach((f,v)=>{let C={relativePath:f.path||"",caseSensitive:f.caseSensitive===!0,childrenIndex:v,route:f};C.relativePath.startsWith("/")&&(C.relativePath.startsWith(l)||Ct(!1),C.relativePath=C.relativePath.slice(l.length));let u=sn([l,C.relativePath]),i=n.concat(C);f.children&&f.children.length>0&&(f.index===!0&&Ct(!1),zf(f.children,e,i,u)),!(f.path==null&&!f.index)&&e.push({path:u,score:Ip(u,f.index),routesMeta:i})}),e}function Pp(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jp(e.routesMeta.map(l=>l.childrenIndex),n.routesMeta.map(l=>l.childrenIndex)))}const Dp=/^:\w+$/,Ap=3,Lp=2,Rp=1,Mp=10,Fp=-2,Au=t=>t==="*";function Ip(t,e){let n=t.split("/"),l=n.length;return n.some(Au)&&(l+=Fp),e&&(l+=Lp),n.filter(f=>!Au(f)).reduce((f,v)=>f+(Dp.test(v)?Ap:v===""?Rp:Mp),l)}function jp(t,e){return t.length===e.length&&t.slice(0,-1).every((l,f)=>l===e[f])?t[t.length-1]-e[e.length-1]:0}function Np(t,e){let{routesMeta:n}=t,l={},f="/",v=[];for(let C=0;C<n.length;++C){let u=n[C],i=C===n.length-1,h=f==="/"?e:e.slice(f.length)||"/",d=Wp({path:u.relativePath,caseSensitive:u.caseSensitive,end:i},h);if(!d)return null;Object.assign(l,d.params);let s=u.route;v.push({params:l,pathname:sn([f,d.pathname]),pathnameBase:Yf(sn([f,d.pathnameBase])),route:s}),d.pathnameBase!=="/"&&(f=sn([f,d.pathnameBase]))}return v}function Bp(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,l,f)=>ae.exports.createElement(fo.Provider,{children:l.route.element!==void 0?l.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,f+1))}}),null)}function Wp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,l]=Hp(t.path,t.caseSensitive,t.end),f=e.match(n);if(!f)return null;let v=f[0],C=v.replace(/(.)\/+$/,"$1"),u=f.slice(1);return{params:l.reduce((h,d,s)=>{if(d==="*"){let a=u[s]||"";C=v.slice(0,v.length-a.length).replace(/(.)\/+$/,"$1")}return h[d]=Up(u[s]||""),h},{}),pathname:v,pathnameBase:C,pattern:t}}function Hp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let l=[],f="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(C,u)=>(l.push(u),"([^\\/]+)"));return t.endsWith("*")?(l.push("*"),f+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):f+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(f,e?void 0:"i"),l]}function Up(t,e){try{return decodeURIComponent(t)}catch{return t}}function zp(t,e){e===void 0&&(e="/");let{pathname:n,search:l="",hash:f=""}=typeof t=="string"?cn(t):t;return{pathname:n?n.startsWith("/")?n:Xp(n,e):e,search:Vp(l),hash:Gp(f)}}function Xp(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(f=>{f===".."?n.length>1&&n.pop():f!=="."&&n.push(f)}),n.length>1?n.join("/"):"/"}function Yp(t,e,n){let l=typeof t=="string"?cn(t):t,f=t===""||l.pathname===""?"/":l.pathname,v;if(f==null)v=n;else{let u=e.length-1;if(f.startsWith("..")){let i=f.split("/");for(;i[0]==="..";)i.shift(),u-=1;l.pathname=i.join("/")}v=u>=0?e[u]:"/"}let C=zp(l,v);return f&&f!=="/"&&f.endsWith("/")&&!C.pathname.endsWith("/")&&(C.pathname+="/"),C}function Xf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const sn=t=>t.join("/").replace(/\/\/+/g,"/"),Yf=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Vp=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gp=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(t){let{basename:e,children:n,window:l}=t,f=ae.exports.useRef();f.current==null&&(f.current=Sp({window:l}));let v=f.current,[C,u]=ae.exports.useState({action:v.action,location:v.location});return ae.exports.useLayoutEffect(()=>v.listen(u),[v]),ae.exports.createElement(Tp,{basename:e,children:n,location:C.location,navigationType:C.action,navigator:v})}var ur,$p=new Uint8Array(16);function Kp(){if(!ur&&(ur=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ur))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ur($p)}var qp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qp(t){return typeof t=="string"&&qp.test(t)}var Pe=[];for(var Uo=0;Uo<256;++Uo)Pe.push((Uo+256).toString(16).substr(1));function Zp(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Pe[t[e+0]]+Pe[t[e+1]]+Pe[t[e+2]]+Pe[t[e+3]]+"-"+Pe[t[e+4]]+Pe[t[e+5]]+"-"+Pe[t[e+6]]+Pe[t[e+7]]+"-"+Pe[t[e+8]]+Pe[t[e+9]]+"-"+Pe[t[e+10]]+Pe[t[e+11]]+Pe[t[e+12]]+Pe[t[e+13]]+Pe[t[e+14]]+Pe[t[e+15]]).toLowerCase();if(!Qp(n))throw TypeError("Stringified UUID is invalid");return n}function Jp(t,e,n){t=t||{};var l=t.random||(t.rng||Kp)();if(l[6]=l[6]&15|64,l[8]=l[8]&63|128,e){n=n||0;for(var f=0;f<16;++f)e[n+f]=l[f];return e}return Zp(l)}var po={exports:{}},Ki={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=ae.exports,Vf=60103;Ki.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Lu=Symbol.for;Vf=Lu("react.element"),Ki.Fragment=Lu("react.fragment")}var tg=eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ng=Object.prototype.hasOwnProperty,ig={key:!0,ref:!0,__self:!0,__source:!0};function Gf(t,e,n){var l,f={},v=null,C=null;n!==void 0&&(v=""+n),e.key!==void 0&&(v=""+e.key),e.ref!==void 0&&(C=e.ref);for(l in e)ng.call(e,l)&&!ig.hasOwnProperty(l)&&(f[l]=e[l]);if(t&&t.defaultProps)for(l in e=t.defaultProps,e)f[l]===void 0&&(f[l]=e[l]);return{$$typeof:Vf,type:t,key:v,ref:C,props:f,_owner:tg.current}}Ki.jsx=Gf;Ki.jsxs=Gf;po.exports=Ki;const pe=po.exports.jsx,nn=po.exports.jsxs,rg=po.exports.Fragment,og=t=>typeof t=="string"?import(`${t}`):typeof t=="function"?t().then(e=>import(`${e}`)):Promise.reject("Type Error: entry path of spa."),sg=(t,e)=>{if(typeof t.default!="function")return Promise.reject("[SubSpa] \u5BFC\u51FA\u683C\u5F0F\u9519\u8BEF, \u7F3A\u5931\u5FC5\u8981\u7684 'default' \u5BFC\u51FA.");if(e){const n=t.default(e);return!n.mount&&!n.render?Promise.reject("[SubSpa] 'mount' \u548C 'render' \u65B9\u6CD5\u540C\u65F6\u7F3A\u5931, \u9700\u8981\u81F3\u5C11\u4E00\u9879\u4E0D\u4E3A\u7A7A."):n.mount&&!n.unmount?Promise.reject("[SubSpa] 'unmount' \u65B9\u6CD5\u7F3A\u5931, \u5F53 'mount' \u65B9\u6CD5\u975E\u7A7A\u65F6, 'unmount' \u65B9\u6CD5\u4E3A\u5FC5\u987B\u9879."):Promise.resolve(n)}else return Promise.reject("[SubSpa] \u6302\u8F7D\u5143\u7D20\u9519\u8BEF, \u76EE\u6807\u5143\u7D20\u4E0D\u5B58\u5728.")};function Pm(t){const r=t,{entryPath:e,deepProps:n,loadingDisplay:l,errorDisplay:f}=r,v=ul(r,["entryPath","deepProps","loadingDisplay","errorDisplay"]),C=Jp(),u=ae.exports.useRef(),[i,h]=ae.exports.useState(!0),[d,s]=ae.exports.useState("");ae.exports.useLayoutEffect(()=>{console.log(e);const c=document.getElementById(C);return c?og(e).then(g=>sg(g,c)).then(g=>{g.mount?(h(!1),u.current=g,g.mount(n)):(h(!1),u.current=g)}).catch(g=>{s(g.toString),h(!1)}):alert("[Sub Spa] No container matched!"),()=>{const g=u.current;!!g&&g.unmount&&g.unmount()}},[]);const a=u.current;return pe("div",mo(Qn({},v),{id:C,children:d!==""?f?f(d):d:i?l||"[Sub Spa] Converter is preparing.":a&&a.render?a.render(n):"[Sub Spa] This Sub-app has no content."}))}function ag(t){if(Array.isArray(t))return t}function lg(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var l=[],f=!0,v=!1,C,u;try{for(n=n.call(t);!(f=(C=n.next()).done)&&(l.push(C.value),!(e&&l.length===e));f=!0);}catch(i){v=!0,u=i}finally{try{!f&&n.return!=null&&n.return()}finally{if(v)throw u}}return l}}function Fs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,l=new Array(e);n<e;n++)l[n]=t[n];return l}function $f(t,e){if(!!t){if(typeof t=="string")return Fs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fs(t,e)}}function ug(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cg(t,e){return ag(t)||lg(t,e)||$f(t,e)||ug()}function it(t){return it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(t)}function ut(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var l=[],f=0;f<e.length;f++){var v=e[f];if(!!v){var C=it(v);if(C==="string"||C==="number")l.push(v);else if(C==="object"){var u=Array.isArray(v)?v:Object.entries(v).map(function(i){var h=cg(i,2),d=h[0],s=h[1];return s?d:null});l=u.length?l.concat(u.filter(function(i){return!!i})):l}}}return l.join(" ")}}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ru(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Ka(t,e,n){return e&&Ru(t.prototype,e),n&&Ru(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zo(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=fg(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var l=0,f=function(){};return{s:f,n:function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function(h){throw h},f}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,C=!1,u;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return v=h.done,h},e:function(h){C=!0,u=h},f:function(){try{!v&&n.return!=null&&n.return()}finally{if(C)throw u}}}}function fg(t,e){if(!!t){if(typeof t=="string")return Mu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mu(t,e)}}function Mu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,l=new Array(e);n<e;n++)l[n]=t[n];return l}var fe=function(){function t(){$a(this,t)}return Ka(t,null,[{key:"innerWidth",value:function(n){if(n){var l=n.offsetWidth,f=getComputedStyle(n);return l+=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight),l}return 0}},{key:"width",value:function(n){if(n){var l=n.offsetWidth,f=getComputedStyle(n);return l-=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight),l}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,l){if(n){var f=n.offsetWidth||n.getBoundingClientRect().width;if(l){var v=getComputedStyle(n);f+=parseFloat(v.marginLeft)+parseFloat(v.marginRight)}return f}return 0}},{key:"getOuterHeight",value:function(n,l){if(n){var f=n.offsetHeight||n.getBoundingClientRect().height;if(l){var v=getComputedStyle(n);f+=parseFloat(v.marginTop)+parseFloat(v.marginBottom)}return f}return 0}},{key:"getClientHeight",value:function(n,l){if(n){var f=n.clientHeight;if(l){var v=getComputedStyle(n);f+=parseFloat(v.marginTop)+parseFloat(v.marginBottom)}return f}return 0}},{key:"getClientWidth",value:function(n,l){if(n){var f=n.clientWidth;if(l){var v=getComputedStyle(n);f+=parseFloat(v.marginLeft)+parseFloat(v.marginRight)}return f}return 0}},{key:"getViewport",value:function(){var n=window,l=document,f=l.documentElement,v=l.getElementsByTagName("body")[0],C=n.innerWidth||f.clientWidth||v.clientWidth,u=n.innerHeight||f.clientHeight||v.clientHeight;return{width:C,height:u}}},{key:"getOffset",value:function(n){if(n){var l=n.getBoundingClientRect();return{top:l.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:l.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var l=n.parentNode.childNodes,f=0,v=0;v<l.length;v++){if(l[v]===n)return f;l[v].nodeType===1&&f++}return-1}},{key:"addMultipleClasses",value:function(n,l){if(n&&l)if(n.classList)for(var f=l.split(" "),v=0;v<f.length;v++)n.classList.add(f[v]);else for(var C=l.split(" "),u=0;u<C.length;u++)n.className+=" "+C[u]}},{key:"removeMultipleClasses",value:function(n,l){if(n&&l)if(n.classList)for(var f=l.split(" "),v=0;v<f.length;v++)n.classList.remove(f[v]);else for(var C=l.split(" "),u=0;u<C.length;u++)n.className=n.className.replace(new RegExp("(^|\\b)"+C[u].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,l){n&&l&&(n.classList?n.classList.add(l):n.className+=" "+l)}},{key:"removeClass",value:function(n,l){n&&l&&(n.classList?n.classList.remove(l):n.className=n.className.replace(new RegExp("(^|\\b)"+l.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,l){if(n)return n.classList?n.classList.contains(l):new RegExp("(^| )"+l+"( |$)","gi").test(n.className)}},{key:"find",value:function(n,l){return n?Array.from(n.querySelectorAll(l)):[]}},{key:"findSingle",value:function(n,l){return n?n.querySelector(l):null}},{key:"getHeight",value:function(n){if(n){var l=n.offsetHeight,f=getComputedStyle(n);return l-=parseFloat(f.paddingTop)+parseFloat(f.paddingBottom)+parseFloat(f.borderTopWidth)+parseFloat(f.borderBottomWidth),l}return 0}},{key:"getWidth",value:function(n){if(n){var l=n.offsetWidth,f=getComputedStyle(n);return l-=parseFloat(f.paddingLeft)+parseFloat(f.paddingRight)+parseFloat(f.borderLeftWidth)+parseFloat(f.borderRightWidth),l}return 0}},{key:"alignOverlay",value:function(n,l,f){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&l&&(f==="self"?this.relativePosition(n,l):(v&&(n.style.minWidth=t.getOuterWidth(l)+"px"),this.absolutePosition(n,l)))}},{key:"absolutePosition",value:function(n,l){if(n){var f=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),v=f.height,C=f.width,u=l.offsetHeight,i=l.offsetWidth,h=l.getBoundingClientRect(),d=this.getWindowScrollTop(),s=this.getWindowScrollLeft(),a=this.getViewport(),r,c;h.top+u+v>a.height?(r=h.top+d-v,r<0&&(r=d),n.style.transformOrigin="bottom"):(r=u+h.top+d,n.style.transformOrigin="top"),h.left+i+C>a.width?c=Math.max(0,h.left+s+i-C):c=h.left+s,n.style.top=r+"px",n.style.left=c+"px"}}},{key:"relativePosition",value:function(n,l){if(n){var f=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),v=l.offsetHeight,C=l.getBoundingClientRect(),u=this.getViewport(),i,h;C.top+v+f.height>u.height?(i=-1*f.height,C.top+i<0&&(i=-1*C.top),n.style.transformOrigin="bottom"):(i=v,n.style.transformOrigin="top"),f.width>u.width?h=C.left*-1:C.left+f.width>u.width?h=(C.left+f.width-u.width)*-1:h=0,n.style.top=i+"px",n.style.left=h+"px"}}},{key:"flipfitCollision",value:function(n,l){var f=this,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",u=arguments.length>4?arguments[4]:void 0,i=l.getBoundingClientRect(),h=this.getViewport(),d=v.split(" "),s=C.split(" "),a=function(p,m){return m?+p.substring(p.search(/(\+|-)/g))||0:p.substring(0,p.search(/(\+|-)/g))||p},r={my:{x:a(d[0]),y:a(d[1]||d[0]),offsetX:a(d[0],!0),offsetY:a(d[1]||d[0],!0)},at:{x:a(s[0]),y:a(s[1]||s[0]),offsetX:a(s[0],!0),offsetY:a(s[1]||s[0],!0)}},c={left:function(){var p=r.my.offsetX+r.at.offsetX;return p+i.left+(r.my.x==="left"?0:-1*(r.my.x==="center"?f.getOuterWidth(n)/2:f.getOuterWidth(n)))},top:function(){var p=r.my.offsetY+r.at.offsetY;return p+i.top+(r.my.y==="top"?0:-1*(r.my.y==="center"?f.getOuterHeight(n)/2:f.getOuterHeight(n)))}},g={count:{x:0,y:0},left:function(){var p=c.left(),m=t.getWindowScrollLeft();n.style.left=p+m+"px",this.count.x===2?(n.style.left=m+"px",this.count.x=0):p<0&&(this.count.x++,r.my.x="left",r.at.x="right",r.my.offsetX*=-1,r.at.offsetX*=-1,this.right())},right:function(){var p=c.left()+t.getOuterWidth(l),m=t.getWindowScrollLeft();n.style.left=p+m+"px",this.count.x===2?(n.style.left=h.width-t.getOuterWidth(n)+m+"px",this.count.x=0):p+t.getOuterWidth(n)>h.width&&(this.count.x++,r.my.x="right",r.at.x="left",r.my.offsetX*=-1,r.at.offsetX*=-1,this.left())},top:function(){var p=c.top(),m=t.getWindowScrollTop();n.style.top=p+m+"px",this.count.y===2?(n.style.left=m+"px",this.count.y=0):p<0&&(this.count.y++,r.my.y="top",r.at.y="bottom",r.my.offsetY*=-1,r.at.offsetY*=-1,this.bottom())},bottom:function(){var p=c.top()+t.getOuterHeight(l),m=t.getWindowScrollTop();n.style.top=p+m+"px",this.count.y===2?(n.style.left=h.height-t.getOuterHeight(n)+m+"px",this.count.y=0):p+t.getOuterHeight(l)>h.height&&(this.count.y++,r.my.y="bottom",r.at.y="top",r.my.offsetY*=-1,r.at.offsetY*=-1,this.top())},center:function(p){if(p==="y"){var m=c.top()+t.getOuterHeight(l)/2;n.style.top=m+t.getWindowScrollTop()+"px",m<0?this.bottom():m+t.getOuterHeight(l)>h.height&&this.top()}else{var y=c.left()+t.getOuterWidth(l)/2;n.style.left=y+t.getWindowScrollLeft()+"px",y<0?this.left():y+t.getOuterWidth(n)>h.width&&this.right()}}};g[r.at.x]("x"),g[r.at.y]("y"),this.isFunction(u)&&u(r)}},{key:"findCollisionPosition",value:function(n){if(n){var l=n==="top"||n==="bottom",f=n==="left"?"right":"left",v=n==="top"?"bottom":"top";return l?{axis:"y",my:"center ".concat(v),at:"center ".concat(n)}:{axis:"x",my:"".concat(f," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?l:this.getParents(n.parentNode,l.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var l=[];if(n){var f=this.getParents(n),v=/(auto|scroll)/,C=function(p){var m=p?getComputedStyle(p):null;return m&&(v.test(m.getPropertyValue("overflow"))||v.test(m.getPropertyValue("overflowX"))||v.test(m.getPropertyValue("overflowY")))},u=zo(f),i;try{for(u.s();!(i=u.n()).done;){var h=i.value,d=h.nodeType===1&&h.dataset.scrollselectors;if(d){var s=d.split(","),a=zo(s),r;try{for(a.s();!(r=a.n()).done;){var c=r.value,g=this.findSingle(h,c);g&&C(g)&&l.push(g)}}catch(o){a.e(o)}finally{a.f()}}h.nodeType!==9&&C(h)&&l.push(h)}}catch(o){u.e(o)}finally{u.f()}}return l}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var l=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",l}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var l=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",l}return 0}},{key:"getHiddenElementDimensions",value:function(n){var l={};return n&&(n.style.visibility="hidden",n.style.display="block",l.width=n.offsetWidth,l.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),l}},{key:"fadeIn",value:function(n,l){if(n){n.style.opacity=0;var f=+new Date,v=0,C=function u(){v=+n.style.opacity+(new Date().getTime()-f)/l,n.style.opacity=v,f=+new Date,+v<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};C()}}},{key:"fadeOut",value:function(n,l){if(n)var f=1,v=50,C=v/l,u=setInterval(function(){f-=C,f<=0&&(f=0,clearInterval(u)),n.style.opacity=f},v)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,l){if(this.isElement(l))l.appendChild(n);else if(l.el&&l.el.nativeElement)l.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+l+" to "+n)}},{key:"removeChild",value:function(n,l){if(this.isElement(l))l.removeChild(n);else if(l.el&&l.el.nativeElement)l.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+l)}},{key:"isElement",value:function(n){return(typeof HTMLElement=="undefined"?"undefined":it(HTMLElement))==="object"?n instanceof HTMLElement:n&&it(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,l){var f=getComputedStyle(n).getPropertyValue("borderTopWidth"),v=f?parseFloat(f):0,C=getComputedStyle(n).getPropertyValue("paddingTop"),u=C?parseFloat(C):0,i=n.getBoundingClientRect(),h=l.getBoundingClientRect(),d=h.top+document.body.scrollTop-(i.top+document.body.scrollTop)-v-u,s=n.scrollTop,a=n.clientHeight,r=this.getOuterHeight(l);d<0?n.scrollTop=s+d:d+r>a&&(n.scrollTop=s+d-a+r)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var l=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(l.borderLeftWidth)-parseFloat(l.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var f=document.createElement("div");f.className="p-scrollbar-measure",document.body.appendChild(f);var v=f.offsetWidth-f.clientWidth;return document.body.removeChild(f),this.calculatedScrollbarWidth=v,v}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),l=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:l[1]||"",version:l[2]||"0"}}},{key:"isVisible",value:function(n){return n&&n.offsetParent!=null}},{key:"isExist",value:function(n){return n!==null&&typeof n!="undefined"&&n.nodeName&&n.parentNode}},{key:"hasDOM",value:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",f=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(l,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(l)),v=[],C=zo(f),u;try{for(C.s();!(u=C.n()).done;){var i=u.value;getComputedStyle(i).display!=="none"&&getComputedStyle(i).visibility!=="hidden"&&v.push(i)}}catch(h){C.e(h)}finally{C.f()}return v}},{key:"getFirstFocusableElement",value:function(n,l){var f=t.getFocusableElements(n,l);return f.length>0?f[0]:null}},{key:"getLastFocusableElement",value:function(n,l){var f=t.getFocusableElements(n,l);return f.length>0?f[f.length-1]:null}},{key:"getCursorOffset",value:function(n,l,f,v){if(n){var C=getComputedStyle(n),u=document.createElement("div");u.style.position="absolute",u.style.top="0px",u.style.left="0px",u.style.visibility="hidden",u.style.pointerEvents="none",u.style.overflow=C.overflow,u.style.width=C.width,u.style.height=C.height,u.style.padding=C.padding,u.style.border=C.border,u.style.overflowWrap=C.overflowWrap,u.style.whiteSpace=C.whiteSpace,u.style.lineHeight=C.lineHeight,u.innerHTML=l.replace(/\r\n|\r|\n/g,"<br />");var i=document.createElement("span");i.textContent=v,u.appendChild(i);var h=document.createTextNode(f);u.appendChild(h),document.body.appendChild(u);var d=i.offsetLeft,s=i.offsetTop,a=i.clientHeight;return document.body.removeChild(u),{left:Math.abs(d-n.scrollLeft),top:Math.abs(s-n.scrollTop)+a}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,l,f){n[l].apply(n,f)}},{key:"isClickable",value:function(n){var l=n.nodeName,f=n.parentElement&&n.parentElement.nodeName;return l==="INPUT"||l==="TEXTAREA"||l==="BUTTON"||l==="A"||f==="INPUT"||f==="TEXTAREA"||f==="BUTTON"||f==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,l){if(typeof l=="string")n.style.cssText=this.style;else for(var f in this.style)n.style[f]=l[f]}},{key:"exportCSV",value:function(n,l){var f=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(f,l+".csv");else{var v=t.saveAs({name:l+".csv",src:URL.createObjectURL(f)});v||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var l=document.createElement("a");if(l.download!==void 0){var f=n.name,v=n.src;return l.setAttribute("href",v),l.setAttribute("download",f),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),!0}}return!1}},{key:"createInlineStyle",value:function(n){var l=document.createElement("style");try{n||(n={}.REACT_APP_CSS_NONCE)}catch{}return n&&l.setAttribute("nonce",n),document.head.appendChild(l),l}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{document.head.removeChild(n)}catch{}n=null}return n}}]),t}(),hg=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};$a(this,t),this.element=e,this.listener=n}return Ka(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=fe.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),qa=function(){function t(){$a(this,t)}return Ka(t,null,[{key:"equals",value:function(n,l,f){return f&&n&&it(n)==="object"&&l&&it(l)==="object"?this.resolveFieldData(n,f)===this.resolveFieldData(l,f):this.deepEquals(n,l)}},{key:"deepEquals",value:function(n,l){if(n===l)return!0;if(n&&l&&it(n)=="object"&&it(l)=="object"){var f=Array.isArray(n),v=Array.isArray(l),C,u,i;if(f&&v){if(u=n.length,u!==l.length)return!1;for(C=u;C--!==0;)if(!this.deepEquals(n[C],l[C]))return!1;return!0}if(f!==v)return!1;var h=n instanceof Date,d=l instanceof Date;if(h!==d)return!1;if(h&&d)return n.getTime()===l.getTime();var s=n instanceof RegExp,a=l instanceof RegExp;if(s!==a)return!1;if(s&&a)return n.toString()===l.toString();var r=Object.keys(n);if(u=r.length,u!==Object.keys(l).length)return!1;for(C=u;C--!==0;)if(!Object.prototype.hasOwnProperty.call(l,r[C]))return!1;for(C=u;C--!==0;)if(i=r[C],!this.deepEquals(n[i],l[i]))return!1;return!0}return n!==n&&l!==l}},{key:"resolveFieldData",value:function(n,l){if(n&&Object.keys(n).length&&l){if(this.isFunction(l))return l(n);if(l.indexOf(".")===-1)return n[l];for(var f=l.split("."),v=n,C=0,u=f.length;C<u;++C){if(v==null)return null;v=v[f[C]]}return v}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"findDiffKeys",value:function(n,l){return!n||!l?{}:Object.keys(n).filter(function(f){return!l.hasOwnProperty(f)}).reduce(function(f,v){return f[v]=n[v],f},{})}},{key:"reorderArray",value:function(n,l,f){var v;if(n&&l!==f){if(f>=n.length)for(v=f-n.length;v--+1;)n.push(void 0);n.splice(f,0,n.splice(l,1)[0])}}},{key:"findIndexInList",value:function(n,l,f){var v=this;return l?f?l.findIndex(function(C){return v.equals(C,n,f)}):l.findIndex(function(C){return C===n}):-1}},{key:"getJSXElement",value:function(n){for(var l=arguments.length,f=new Array(l>1?l-1:0),v=1;v<l;v++)f[v-1]=arguments[v];return this.isFunction(n)?n.apply(void 0,f):n}},{key:"getPropValue",value:function(n){for(var l=arguments.length,f=new Array(l>1?l-1:0),v=1;v<l;v++)f[v-1]=arguments[v];return this.isFunction(n)?n.apply(void 0,f):n}},{key:"getRefElement",value:function(n){return n?it(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&it(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,l){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,v=arguments.length>3?arguments[3]:void 0,C=null;return n==null&&l!=null?C=-1:n!=null&&l==null?C=1:n==null&&l==null?C=0:typeof n=="string"&&typeof l=="string"?C=n.localeCompare(l,v,{numeric:!0}):C=n<l?-1:n>l?1:0,f*C}}]),t}();function dg(t){if(Array.isArray(t))return Fs(t)}function pg(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mg(t){return dg(t)||pg(t)||$f(t)||gg()}function vg(){var t=[],e=function(u,i){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,d=f(u,i,h),s=d.value+(d.key===u?0:h)+1;return t.push({key:u,value:s}),s},n=function(u){t=t.filter(function(i){return i.value!==u})},l=function(u,i){return f(u,i).value},f=function(u,i){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return mg(t).reverse().find(function(d){return i?!0:d.key===u})||{key:u,value:h}},v=function(u){return u&&parseInt(u.style.zIndex,10)||0};return{get:v,set:function(u,i,h,d){i&&(i.style.zIndex=String(e(u,h,d)))},clear:function(u){u&&(n(qe.get(u)),u.style.zIndex="")},getCurrent:function(u,i){return l(u,i)}}}var qe=vg();function Fu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function yg(t,e,n){return e&&Fu(t.prototype,e),n&&Fu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),ke=yg(function t(){_g(this,t)});wt(ke,"ripple",!1);wt(ke,"inputStyle","outlined");wt(ke,"locale","en");wt(ke,"appendTo",null);wt(ke,"cssTransition",!0);wt(ke,"autoZIndex",!0);wt(ke,"nonce",null);wt(ke,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});wt(ke,"filterMatchModeOptions",{text:[Re.STARTS_WITH,Re.CONTAINS,Re.NOT_CONTAINS,Re.ENDS_WITH,Re.EQUALS,Re.NOT_EQUALS],numeric:[Re.EQUALS,Re.NOT_EQUALS,Re.LESS_THAN,Re.LESS_THAN_OR_EQUAL_TO,Re.GREATER_THAN,Re.GREATER_THAN_OR_EQUAL_TO],date:[Re.DATE_IS,Re.DATE_IS_NOT,Re.DATE_BEFORE,Re.DATE_AFTER]});Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_DOWN_LEFT:"pi pi-arrow-down-left",ARROW_DOWN_RIGHT:"pi pi-arrow-down-right",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_UP:"pi pi-arrow-up",ARROW_UP_LEFT:"pi pi-arrow-up-left",ARROW_UP_RIGHT:"pi pi-arrow-up-right",ARROW_H:"pi pi-arrow-h",ARROW_V:"pi pi-arrow-v",AT:"pi pi-at",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BOLT:"pi pi-bolt",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BOOKMARK_FILL:"pi pi-bookmark-fill",BOX:"pi pi-box",BRIEFCASE:"pi pi-briefcase",BUILDING:"pi pi-building",CALENDAR:"pi pi-calendar",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CAMERA:"pi pi-camera",CAR:"pi pi-car",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHART_PIE:"pi pi-chart-pie",CHECK:"pi pi-check",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CIRCLE:"pi pi-circle",CIRCLE_FILL:"pi pi-circle-fill",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD:"pi pi-cloud",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CODE:"pi pi-code",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DATABASE:"pi pi-database",DESKTOP:"pi pi-desktop",DIRECTIONS:"pi pi-directions",DIRECTIONS_ALT:"pi pi-directions-alt",DISCORD:"pi pi-discord",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",EURO:"pi pi-euro",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle",EXTERNAL_LINK:"pi pi-external-link",EYE:"pi pi-eye",EYE_SLASH:"pi pi-eye-slash",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE:"pi pi-file",FILE_EXCEL:"pi pi-file-excel",FILE_PDF:"pi pi-file-pdf",FILTER:"pi pi-filter",FILTER_FILL:"pi pi-filter-fill",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FLAG_FILL:"pi pi-flag-fill",FOLDER:"pi pi-folder",FOLDER_OPEN:"pi pi-folder-open",FORWARD:"pi pi-forward",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HASHTAG:"pi pi-hashtag",HEART:"pi pi-heart",HEART_FILL:"pi pi-heart-fill",HISTORY:"pi pi-history",HOME:"pi pi-home",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO:"pi pi-info",INFO_CIRCLE:"pi pi-info-circle",INSTAGRAM:"pi pi-instagram",KEY:"pi pi-key",LINK:"pi pi-link",LINKEDIN:"pi pi-linkedin",LIST:"pi pi-list",LOCK:"pi pi-lock",LOCK_OPEN:"pi pi-lock-open",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MICROSOFT:"pi pi-microsoft",MINUS:"pi pi-minus",MINUS_CIRCLE:"pi pi-minus-circle",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS:"pi pi-plus",PLUS_CIRCLE:"pi pi-plus-circle",POUND:"pi pi-pound",POWER_OFF:"pi pi-power-off",PRIME:"pi pi-prime",PRINT:"pi pi-print",QRCODE:"pi pi-qrcode",QUESTION:"pi pi-question",QUESTION_CIRCLE:"pi pi-question-circle",REDDIT:"pi pi-reddit",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH:"pi pi-search",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEND:"pi pi-send",SERVER:"pi pi-server",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_BAG:"pi pi-shopping-bag",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT:"pi pi-sort",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_ALT_DOWN:"pi pi-sort-alpha-alt-down",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALPHA_ALT_UP:"pi pi-sort-alpha-alt-up",SORT_ALT:"pi pi-sort-alt",SORT_ALT_SLASH:"pi pi-sort-slash",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_ALT_DOWN:"pi pi-sort-numeric-alt-down",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_NUMERIC_ALT_UP:"pi pi-sort-numeric-alt-up",SORT_UP:"pi pi-sort-up",SPINNER:"pi pi-spinner",STAR:"pi pi-star",STAR_FILL:"pi pi-star-fill",STEP_BACKWARD:"pi pi-step-backward",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_FORWARD:"pi pi-step-forward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STOP:"pi pi-stop",STOP_CIRCLE:"pi pi-stop-circle",SUN:"pi pi-sun",SYNC:"pi pi-sync",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TELEGRAM:"pi pi-telegram",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_UP:"pi pi-thumbs-up",TICKET:"pi pi-ticket",TIMES:"pi pi-times",TIMES_CIRCLE:"pi pi-times-circle",TRASH:"pi pi-trash",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER:"pi pi-user",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USERS:"pi pi-users",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",WALLET:"pi pi-wallet",WHATSAPP:"pi pi-whatsapp",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize",YOUTUBE:"pi pi-youtube"});Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"});Object.freeze({AND:"and",OR:"or"});function Cg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Sg(t,e,n){return e&&Iu(t.prototype,e),n&&Iu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Is(t,e){return Is=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Is(t,e)}function wg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Is(t,e)}function js(t){return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},js(t)}function xg(t,e){if(e&&(js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kf(t)}function Yr(t){return Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Yr(t)}function Tg(t){var e=Eg();return function(){var l=Yr(t),f;if(e){var v=Yr(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return xg(this,f)}}function Eg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var qf=function(t){wg(n,t);var e=Tg(n);function n(l){var f;return Cg(this,n),f=e.call(this,l),f.onMouseDown=f.onMouseDown.bind(Kf(f)),f}return Sg(n,[{key:"getTarget",value:function(){return this.ink&&this.ink.parentElement}},{key:"bindEvents",value:function(){this.target&&this.target.addEventListener("mousedown",this.onMouseDown)}},{key:"unbindEvents",value:function(){this.target&&this.target.removeEventListener("mousedown",this.onMouseDown)}},{key:"onMouseDown",value:function(f){if(!(!this.ink||getComputedStyle(this.ink,null).display==="none")){if(fe.removeClass(this.ink,"p-ink-active"),!fe.getHeight(this.ink)&&!fe.getWidth(this.ink)){var v=Math.max(fe.getOuterWidth(this.target),fe.getOuterHeight(this.target));this.ink.style.height=v+"px",this.ink.style.width=v+"px"}var C=fe.getOffset(this.target),u=f.pageX-C.left+document.body.scrollTop-fe.getWidth(this.ink)/2,i=f.pageY-C.top+document.body.scrollLeft-fe.getHeight(this.ink)/2;this.ink.style.top=i+"px",this.ink.style.left=u+"px",fe.addClass(this.ink,"p-ink-active")}}},{key:"onAnimationEnd",value:function(f){fe.removeClass(f.currentTarget,"p-ink-active")}},{key:"componentDidMount",value:function(){this.ink&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentDidUpdate",value:function(){this.ink&&!this.target&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentWillUnmount",value:function(){this.ink&&(this.target=null,this.unbindEvents())}},{key:"render",value:function(){var f=this;return ke.ripple?pe("span",{ref:function(C){return f.ink=C},className:"p-ink",onAnimationEnd:this.onAnimationEnd}):null}}]),n}(ae.exports.Component);function Qa(t,e){if(t==null)return{};var n={},l=Object.keys(t),f,v;for(v=0;v<l.length;v++)f=l[v],!(e.indexOf(f)>=0)&&(n[f]=t[f]);return n}function Ns(t,e){return Ns=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Ns(t,e)}function Za(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ns(t,e)}function bg(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function Og(t,e){t.classList?t.classList.add(e):bg(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ju(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function kg(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ju(t.className,e):t.setAttribute("class",ju(t.className&&t.className.baseVal||"",e))}var Nu={disabled:!1},Vr=Fe.createContext(null),gi="unmounted",Gt="exited",$t="entering",_n="entered",Bs="exiting",xt=function(t){Za(e,t);function e(l,f){var v;v=t.call(this,l,f)||this;var C=f,u=C&&!C.isMounting?l.enter:l.appear,i;return v.appearStatus=null,l.in?u?(i=Gt,v.appearStatus=$t):i=_n:l.unmountOnExit||l.mountOnEnter?i=gi:i=Gt,v.state={status:i},v.nextCallback=null,v}e.getDerivedStateFromProps=function(f,v){var C=f.in;return C&&v.status===gi?{status:Gt}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(f){var v=null;if(f!==this.props){var C=this.state.status;this.props.in?C!==$t&&C!==_n&&(v=$t):(C===$t||C===_n)&&(v=Bs)}this.updateStatus(!1,v)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var f=this.props.timeout,v,C,u;return v=C=u=f,f!=null&&typeof f!="number"&&(v=f.exit,C=f.enter,u=f.appear!==void 0?f.appear:C),{exit:v,enter:C,appear:u}},n.updateStatus=function(f,v){f===void 0&&(f=!1),v!==null?(this.cancelNextCallback(),v===$t?this.performEnter(f):this.performExit()):this.props.unmountOnExit&&this.state.status===Gt&&this.setState({status:gi})},n.performEnter=function(f){var v=this,C=this.props.enter,u=this.context?this.context.isMounting:f,i=this.props.nodeRef?[u]:[jt.findDOMNode(this),u],h=i[0],d=i[1],s=this.getTimeouts(),a=u?s.appear:s.enter;if(!f&&!C||Nu.disabled){this.safeSetState({status:_n},function(){v.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:$t},function(){v.props.onEntering(h,d),v.onTransitionEnd(a,function(){v.safeSetState({status:_n},function(){v.props.onEntered(h,d)})})})},n.performExit=function(){var f=this,v=this.props.exit,C=this.getTimeouts(),u=this.props.nodeRef?void 0:jt.findDOMNode(this);if(!v||Nu.disabled){this.safeSetState({status:Gt},function(){f.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:Bs},function(){f.props.onExiting(u),f.onTransitionEnd(C.exit,function(){f.safeSetState({status:Gt},function(){f.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(f,v){v=this.setNextCallback(v),this.setState(f,v)},n.setNextCallback=function(f){var v=this,C=!0;return this.nextCallback=function(u){C&&(C=!1,v.nextCallback=null,f(u))},this.nextCallback.cancel=function(){C=!1},this.nextCallback},n.onTransitionEnd=function(f,v){this.setNextCallback(v);var C=this.props.nodeRef?this.props.nodeRef.current:jt.findDOMNode(this),u=f==null&&!this.props.addEndListener;if(!C||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[C,this.nextCallback],h=i[0],d=i[1];this.props.addEndListener(h,d)}f!=null&&setTimeout(this.nextCallback,f)},n.render=function(){var f=this.state.status;if(f===gi)return null;var v=this.props,C=v.children;v.in,v.mountOnEnter,v.unmountOnExit,v.appear,v.enter,v.exit,v.timeout,v.addEndListener,v.onEnter,v.onEntering,v.onEntered,v.onExit,v.onExiting,v.onExited,v.nodeRef;var u=Qa(v,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Fe.createElement(Vr.Provider,{value:null},typeof C=="function"?C(f,u):Fe.cloneElement(Fe.Children.only(C),u))},e}(Fe.Component);xt.contextType=Vr;xt.propTypes={};function mn(){}xt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mn,onEntering:mn,onEntered:mn,onExit:mn,onExiting:mn,onExited:mn};xt.UNMOUNTED=gi;xt.EXITED=Gt;xt.ENTERING=$t;xt.ENTERED=_n;xt.EXITING=Bs;var Pg=xt,Dg=function(e,n){return e&&n&&n.split(" ").forEach(function(l){return Og(e,l)})},Xo=function(e,n){return e&&n&&n.split(" ").forEach(function(l){return kg(e,l)})},Ja=function(t){Za(e,t);function e(){for(var l,f=arguments.length,v=new Array(f),C=0;C<f;C++)v[C]=arguments[C];return l=t.call.apply(t,[this].concat(v))||this,l.appliedClasses={appear:{},enter:{},exit:{}},l.onEnter=function(u,i){var h=l.resolveArguments(u,i),d=h[0],s=h[1];l.removeClasses(d,"exit"),l.addClass(d,s?"appear":"enter","base"),l.props.onEnter&&l.props.onEnter(u,i)},l.onEntering=function(u,i){var h=l.resolveArguments(u,i),d=h[0],s=h[1],a=s?"appear":"enter";l.addClass(d,a,"active"),l.props.onEntering&&l.props.onEntering(u,i)},l.onEntered=function(u,i){var h=l.resolveArguments(u,i),d=h[0],s=h[1],a=s?"appear":"enter";l.removeClasses(d,a),l.addClass(d,a,"done"),l.props.onEntered&&l.props.onEntered(u,i)},l.onExit=function(u){var i=l.resolveArguments(u),h=i[0];l.removeClasses(h,"appear"),l.removeClasses(h,"enter"),l.addClass(h,"exit","base"),l.props.onExit&&l.props.onExit(u)},l.onExiting=function(u){var i=l.resolveArguments(u),h=i[0];l.addClass(h,"exit","active"),l.props.onExiting&&l.props.onExiting(u)},l.onExited=function(u){var i=l.resolveArguments(u),h=i[0];l.removeClasses(h,"exit"),l.addClass(h,"exit","done"),l.props.onExited&&l.props.onExited(u)},l.resolveArguments=function(u,i){return l.props.nodeRef?[l.props.nodeRef.current,u]:[u,i]},l.getClassNames=function(u){var i=l.props.classNames,h=typeof i=="string",d=h&&i?i+"-":"",s=h?""+d+u:i[u],a=h?s+"-active":i[u+"Active"],r=h?s+"-done":i[u+"Done"];return{baseClassName:s,activeClassName:a,doneClassName:r}},l}var n=e.prototype;return n.addClass=function(f,v,C){var u=this.getClassNames(v)[C+"ClassName"],i=this.getClassNames("enter"),h=i.doneClassName;v==="appear"&&C==="done"&&h&&(u+=" "+h),C==="active"&&f&&f.scrollTop,u&&(this.appliedClasses[v][C]=u,Dg(f,u))},n.removeClasses=function(f,v){var C=this.appliedClasses[v],u=C.base,i=C.active,h=C.done;this.appliedClasses[v]={},u&&Xo(f,u),i&&Xo(f,i),h&&Xo(f,h)},n.render=function(){var f=this.props;f.classNames;var v=Qa(f,["classNames"]);return Fe.createElement(Pg,Hn({},v,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Fe.Component);Ja.defaultProps={classNames:""};Ja.propTypes={};var Ag=Ja;function Lg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t,e){var n=function(v){return e&&ae.exports.isValidElement(v)?e(v):v},l=Object.create(null);return t&&ae.exports.Children.map(t,function(f){return f}).forEach(function(f){l[f.key]=n(f)}),l}function Rg(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var l=Object.create(null),f=[];for(var v in t)v in e?f.length&&(l[v]=f,f=[]):f.push(v);var C,u={};for(var i in e){if(l[i])for(C=0;C<l[i].length;C++){var h=l[i][C];u[l[i][C]]=n(h)}u[i]=n(i)}for(C=0;C<f.length;C++)u[f[C]]=n(f[C]);return u}function rn(t,e,n){return n[e]!=null?n[e]:t.props[e]}function Mg(t,e){return el(t.children,function(n){return ae.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:rn(n,"appear",t),enter:rn(n,"enter",t),exit:rn(n,"exit",t)})})}function Fg(t,e,n){var l=el(t.children),f=Rg(e,l);return Object.keys(f).forEach(function(v){var C=f[v];if(!!ae.exports.isValidElement(C)){var u=v in e,i=v in l,h=e[v],d=ae.exports.isValidElement(h)&&!h.props.in;i&&(!u||d)?f[v]=ae.exports.cloneElement(C,{onExited:n.bind(null,C),in:!0,exit:rn(C,"exit",t),enter:rn(C,"enter",t)}):!i&&u&&!d?f[v]=ae.exports.cloneElement(C,{in:!1}):i&&u&&ae.exports.isValidElement(h)&&(f[v]=ae.exports.cloneElement(C,{onExited:n.bind(null,C),in:h.props.in,exit:rn(C,"exit",t),enter:rn(C,"enter",t)}))}}),f}var Ig=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},jg={component:"div",childFactory:function(e){return e}},tl=function(t){Za(e,t);function e(l,f){var v;v=t.call(this,l,f)||this;var C=v.handleExited.bind(Lg(v));return v.state={contextValue:{isMounting:!0},handleExited:C,firstRender:!0},v}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(f,v){var C=v.children,u=v.handleExited,i=v.firstRender;return{children:i?Mg(f,u):Fg(f,C,u),firstRender:!1}},n.handleExited=function(f,v){var C=el(this.props.children);f.key in C||(f.props.onExited&&f.props.onExited(v),this.mounted&&this.setState(function(u){var i=Hn({},u.children);return delete i[f.key],{children:i}}))},n.render=function(){var f=this.props,v=f.component,C=f.childFactory,u=Qa(f,["component","childFactory"]),i=this.state.contextValue,h=Ig(this.state.children).map(C);return delete u.appear,delete u.enter,delete u.exit,v===null?Fe.createElement(Vr.Provider,{value:i},h):Fe.createElement(Vr.Provider,{value:i},Fe.createElement(v,u,h))},e}(Fe.Component);tl.propTypes={};tl.defaultProps=jg;var Ng=tl;function Bg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Hg(t,e,n){return e&&Bu(t.prototype,e),n&&Bu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ws(t,e){return Ws=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Ws(t,e)}function Ug(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ws(t,e)}function Hs(t){return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hs(t)}function zg(t,e){if(e&&(Hs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kt(t)}function Gr(t){return Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Gr(t)}function Wu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,l)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wu(Object(n),!0).forEach(function(l){Bg(t,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wu(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}function Xg(t){var e=Yg();return function(){var l=Gr(t),f;if(e){var v=Gr(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return zg(this,f)}}function Yg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nl=function(t){Ug(n,t);var e=Xg(n);function n(l){var f;return Wg(this,n),f=e.call(this,l),f.onEnter=f.onEnter.bind(Kt(f)),f.onEntering=f.onEntering.bind(Kt(f)),f.onEntered=f.onEntered.bind(Kt(f)),f.onExit=f.onExit.bind(Kt(f)),f.onExiting=f.onExiting.bind(Kt(f)),f.onExited=f.onExited.bind(Kt(f)),f}return Hg(n,[{key:"disabled",get:function(){return this.props.disabled||this.props.options&&this.props.options.disabled||!ke.cssTransition}},{key:"onEnter",value:function(f,v){this.props.onEnter&&this.props.onEnter(f,v),this.props.options&&this.props.options.onEnter&&this.props.options.onEnter(f,v)}},{key:"onEntering",value:function(f,v){this.props.onEntering&&this.props.onEntering(f,v),this.props.options&&this.props.options.onEntering&&this.props.options.onEntering(f,v)}},{key:"onEntered",value:function(f,v){this.props.onEntered&&this.props.onEntered(f,v),this.props.options&&this.props.options.onEntered&&this.props.options.onEntered(f,v)}},{key:"onExit",value:function(f){this.props.onExit&&this.props.onExit(f),this.props.options&&this.props.options.onExit&&this.props.options.onExit(f)}},{key:"onExiting",value:function(f){this.props.onExiting&&this.props.onExiting(f),this.props.options&&this.props.options.onExiting&&this.props.options.onExiting(f)}},{key:"onExited",value:function(f){this.props.onExited&&this.props.onExited(f),this.props.options&&this.props.options.onExited&&this.props.options.onExited(f)}},{key:"componentDidUpdate",value:function(f){if(this.props.in!==f.in&&this.disabled){var v=qa.getRefElement(this.props.nodeRef);this.props.in?(this.onEnter(v,!0),this.onEntering(v,!0),this.onEntered(v,!0)):(this.onExit(v),this.onExiting(v),this.onExited(v))}}},{key:"render",value:function(){if(this.disabled)return this.props.in?this.props.children:null;var f={nodeRef:this.props.nodeRef,in:this.props.in,onEnter:this.onEnter,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited},v={classNames:this.props.classNames,timeout:this.props.timeout,unmountOnExit:this.props.unmountOnExit},C=Yo(Yo(Yo({},v),this.props.options||{}),f);return pe(Ag,mo(Qn({},C),{children:this.props.children}))}}]),n}(ae.exports.Component);function Vg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Gg(t,e,n){return e&&Hu(t.prototype,e),n&&Hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Us(t,e){return Us=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Us(t,e)}function $g(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Us(t,e)}function zs(t){return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zs(t)}function Kg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qg(t,e){if(e&&(zs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kg(t)}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$r(t)}function Qg(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zg(t){var e=Jg();return function(){var l=$r(t),f;if(e){var v=$r(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return qg(this,f)}}function Jg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var go=function(t){$g(n,t);var e=Zg(n);function n(l){var f;Vg(this,n),f=e.call(this,l);var v=l.visible&&fe.hasDOM();return f.state={mounted:v},f}return Gg(n,[{key:"componentDidMount",value:function(){fe.hasDOM()&&!this.state.mounted&&this.setState({mounted:!0},this.props.onMounted)}},{key:"componentWillUnmount",value:function(){this.props.onUnmounted&&this.props.onUnmounted()}},{key:"render",value:function(){var f=this.props.element||this.props.children;if(f&&this.state.mounted){var v=this.props.appendTo||ke.appendTo||document.body;return v==="self"?f:jt.createPortal(f,v)}return null}}]),n}(ae.exports.Component);Qg(go,"defaultProps",{element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null});function Xs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,l=new Array(e);n<e;n++)l[n]=t[n];return l}function em(t){if(Array.isArray(t))return Xs(t)}function tm(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nm(t,e){if(!!t){if(typeof t=="string")return Xs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xs(t,e)}}function im(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vo(t){return em(t)||tm(t)||nm(t)||im()}function Qf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function Zf(t,e,n){return e&&Uu(t.prototype,e),n&&Uu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function In(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ys(t,e){return Ys=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Ys(t,e)}function Jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ys(t,e)}function Vs(t){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function eh(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(t)}function Un(t){return Un=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Un(t)}function il(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zu(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,l)}return n}function Xu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zu(Object(n),!0).forEach(function(l){il(t,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zu(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}function rm(t){var e=om();return function(){var l=Un(t),f;if(e){var v=Un(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return eh(this,f)}}function om(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var th=function(t){Jf(n,t);var e=rm(n);function n(l){var f;return Qf(this,n),f=e.call(this,l),f.onClick=f.onClick.bind(In(f)),f.onClose=f.onClose.bind(In(f)),f}return Zf(n,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){var f=this;this.props.message.sticky||(this.timeout=setTimeout(function(){f.onClose(null)},this.props.message.life||3e3))}},{key:"onClose",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.onClose&&this.props.onClose(this.props.message)}},{key:"onClick",value:function(f){this.props.onClick&&!(fe.hasClass(f.target,"p-toast-icon-close")||fe.hasClass(f.target,"p-toast-icon-close-icon"))&&this.props.onClick(this.props.message)}},{key:"renderCloseIcon",value:function(){return this.props.message.closable!==!1?nn("button",{type:"button",className:"p-toast-icon-close p-link",onClick:this.onClose,children:[pe("span",{className:"p-toast-icon-close-icon pi pi-times"}),pe(qf,{})]}):null}},{key:"renderMessage",value:function(){if(this.props.message){var f=this.props.message,v=f.severity,C=f.content,u=f.summary,i=f.detail,h=qa.getJSXElement(C,Xu(Xu({},this.props),{},{onClose:this.onClose})),d=ut("p-toast-message-icon pi",{"pi-info-circle":v==="info","pi-exclamation-triangle":v==="warn","pi-times":v==="error","pi-check":v==="success"});return h||nn(rg,{children:[pe("span",{className:d}),nn("div",{className:"p-toast-message-text",children:[pe("span",{className:"p-toast-summary",children:u}),i&&pe("div",{className:"p-toast-detail",children:i})]})]})}return null}},{key:"render",value:function(){var f=this.props.message.severity,v=this.props.message.contentClassName,C=this.props.message.contentStyle,u=this.props.message.style,i=ut("p-toast-message",{"p-toast-message-info":f==="info","p-toast-message-warn":f==="warn","p-toast-message-error":f==="error","p-toast-message-success":f==="success"},this.props.message.className),h=this.renderMessage(),d=this.renderCloseIcon();return pe("div",{ref:this.props.forwardRef,className:i,style:u,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:this.onClick,children:nn("div",{className:ut("p-toast-message-content",v),style:C,children:[h,d]})})}}]),n}(ae.exports.Component);il(th,"defaultProps",{message:null,onClose:null,onClick:null});var sm=Fe.forwardRef(function(t,e){return pe(th,Qn({forwardRef:e},t))});function am(t){var e=lm();return function(){var l=Un(t),f;if(e){var v=Un(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return eh(this,f)}}function lm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Yu=0,um=function(t){Jf(n,t);var e=am(n);function n(l){var f;return Qf(this,n),f=e.call(this,l),f.state={messages:[]},f.onClose=f.onClose.bind(In(f)),f.onEntered=f.onEntered.bind(In(f)),f.onExited=f.onExited.bind(In(f)),f}return Zf(n,[{key:"show",value:function(f){if(f&&f){var v;if(Array.isArray(f))for(var C=0;C<f.length;C++)f[C].id=Yu++,v=[].concat(Vo(this.state.messages),Vo(f));else f.id=Yu++,v=this.state.messages?[].concat(Vo(this.state.messages),[f]):[f];this.state.messages.length===0&&qe.set("toast",this.container,ke.autoZIndex,this.props.baseZIndex||ke.zIndex.toast),this.setState({messages:v})}}},{key:"clear",value:function(){qe.clear(this.container),this.setState({messages:[]})}},{key:"onClose",value:function(f){var v=this.state.messages.filter(function(C){return C.id!==f.id});this.setState({messages:v}),this.props.onRemove&&this.props.onRemove(f)}},{key:"onEntered",value:function(){this.props.onShow&&this.props.onShow()}},{key:"onExited",value:function(){this.state.messages.length===0&&qe.clear(this.container),this.props.onHide&&this.props.onHide()}},{key:"componentWillUnmount",value:function(){qe.clear(this.container)}},{key:"renderElement",value:function(){var f=this,v=ut("p-toast p-component p-toast-"+this.props.position,this.props.className);return pe("div",{ref:function(u){f.container=u},id:this.props.id,className:v,style:this.props.style,children:pe(Ng,{children:this.state.messages.map(function(C){var u=Fe.createRef();return pe(nl,{nodeRef:u,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:f.onEntered,onExited:f.onExited,options:f.props.transitionOptions,children:pe(sm,{ref:u,message:C,onClick:f.props.onClick,onClose:f.onClose})},C.id)})})})}},{key:"render",value:function(){var f=this.renderElement();return pe(go,{element:f,appendTo:this.props.appendTo})}}]),n}(ae.exports.Component);il(um,"defaultProps",{id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null});function nh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function ih(t,e,n){return e&&Vu(t.prototype,e),n&&Vu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t,e){return Gs=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Gs(t,e)}function rh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}function $s(t){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function cm(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function Kr(t){return Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Kr(t)}function oh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sh(t){var e=fm();return function(){var l=Kr(t),f;if(e){var v=Kr(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return cm(this,f)}}function fm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ah=function(t){rh(n,t);var e=sh(n);function n(l){var f;return nh(this,n),f=e.call(this,l),f.state={activeItem:null},f.onEnter=f.onEnter.bind(dt(f)),f.submenuRef=Fe.createRef(),f}return ih(n,[{key:"onItemMouseEnter",value:function(f,v){if(v.disabled){f.preventDefault();return}this.setState({activeItem:v})}},{key:"onItemClick",value:function(f,v){if(v.disabled){f.preventDefault();return}v.url||f.preventDefault(),v.command&&v.command({originalEvent:f,item:v}),v.items||this.props.onLeafClick(f)}},{key:"position",value:function(){var f=this.submenuRef.current.parentElement,v=fe.getOffset(this.submenuRef.current.parentElement),C=fe.getViewport(),u=this.submenuRef.current.offsetParent?this.submenuRef.current.offsetWidth:fe.getHiddenElementOuterWidth(this.submenuRef.current),i=fe.getOuterWidth(f.children[0]);this.submenuRef.current.style.top="0px",parseInt(v.left,10)+i+u>C.width-fe.calculateScrollbarWidth()?this.submenuRef.current.style.left=-1*u+"px":this.submenuRef.current.style.left=i+"px"}},{key:"onEnter",value:function(){this.position()}},{key:"isActive",value:function(){return this.props.root||!this.props.resetMenu}},{key:"componentDidUpdate",value:function(){this.isActive()&&this.position()}},{key:"renderSeparator",value:function(f){return pe("li",{className:"p-menu-separator",role:"separator"},"separator_"+f)}},{key:"renderSubmenu",value:function(f){return f.items?pe(n,{model:f.items,resetMenu:f!==this.state.activeItem,onLeafClick:this.props.onLeafClick}):null}},{key:"renderMenuitem",value:function(f,v){var C=this,u=this.state.activeItem===f,i=ut("p-menuitem",{"p-menuitem-active":u},f.className),h=ut("p-menuitem-link",{"p-disabled":f.disabled}),d=ut("p-menuitem-icon",f.icon),s="p-submenu-icon pi pi-angle-right",a=f.icon&&pe("span",{className:d}),r=f.label&&pe("span",{className:"p-menuitem-text",children:f.label}),c=f.items&&pe("span",{className:s}),g=this.renderSubmenu(f),o=nn("a",{href:f.url||"#",className:h,target:f.target,onClick:function(y){return C.onItemClick(y,f,v)},role:"menuitem","aria-haspopup":f.items!=null,"aria-disabled":f.disabled,children:[a,r,c,pe(qf,{})]});if(f.template){var p={onClick:function(y){return C.onItemClick(y,f,v)},className:h,labelClassName:"p-menuitem-text",iconClassName:d,submenuIconClassName:s,element:o,props:this.props,active:u};o=qa.getJSXElement(f.template,f,p)}return nn("li",{role:"none",className:i,style:f.style,onMouseEnter:function(y){return C.onItemMouseEnter(y,f)},children:[o,g]},f.label+"_"+v)}},{key:"renderItem",value:function(f,v){return f.separator?this.renderSeparator(v):this.renderMenuitem(f,v)}},{key:"renderMenu",value:function(){var f=this;return this.props.model?this.props.model.map(function(v,C){return f.renderItem(v,C)}):null}},{key:"render",value:function(){var f=ut({"p-submenu-list":!this.props.root}),v=this.renderMenu(),C=this.isActive();return pe(nl,{nodeRef:this.submenuRef,classNames:"p-contextmenusub",in:C,timeout:{enter:0,exit:0},unmountOnExit:!0,onEnter:this.onEnter,children:pe("ul",{ref:this.submenuRef,className:f,children:v})})}}],[{key:"getDerivedStateFromProps",value:function(f,v){return f.resetMenu===!0?{activeItem:null}:null}}]),n}(ae.exports.Component);oh(ah,"defaultProps",{model:null,root:!1,className:null,resetMenu:!1,onLeafClick:null});var hm=function(t){rh(n,t);var e=sh(n);function n(l){var f;return nh(this,n),f=e.call(this,l),f.state={visible:!1,reshow:!1,resetMenu:!1},f.onMenuClick=f.onMenuClick.bind(dt(f)),f.onLeafClick=f.onLeafClick.bind(dt(f)),f.onMenuMouseEnter=f.onMenuMouseEnter.bind(dt(f)),f.onEnter=f.onEnter.bind(dt(f)),f.onEntered=f.onEntered.bind(dt(f)),f.onExit=f.onExit.bind(dt(f)),f.onExited=f.onExited.bind(dt(f)),f.menuRef=Fe.createRef(),f}return ih(n,[{key:"onMenuClick",value:function(){this.setState({resetMenu:!1})}},{key:"onMenuMouseEnter",value:function(){this.setState({resetMenu:!1})}},{key:"show",value:function(f){var v=this;f instanceof Event||f.persist(),f.stopPropagation(),f.preventDefault(),this.currentEvent=f,this.state.visible?this.setState({reshow:!0}):this.setState({visible:!0},function(){v.props.onShow&&v.props.onShow(v.currentEvent)})}},{key:"hide",value:function(f){var v=this;f instanceof Event||f.persist(),this.currentEvent=f,this.setState({visible:!1,reshow:!1},function(){v.props.onHide&&v.props.onHide(v.currentEvent)})}},{key:"onEnter",value:function(){this.props.autoZIndex&&qe.set("menu",this.menuRef.current,ke.autoZIndex,this.props.baseZIndex||ke.zIndex.menu),this.position(this.currentEvent)}},{key:"onEntered",value:function(){this.bindDocumentListeners()}},{key:"onExit",value:function(){this.currentEvent=null,this.unbindDocumentListeners()}},{key:"onExited",value:function(){qe.clear(this.menuRef.current)}},{key:"position",value:function(f){if(f){var v=f.pageX+1,C=f.pageY+1,u=this.menuRef.current.offsetParent?this.menuRef.current.offsetWidth:fe.getHiddenElementOuterWidth(this.menuRef.current),i=this.menuRef.current.offsetParent?this.menuRef.current.offsetHeight:fe.getHiddenElementOuterHeight(this.menuRef.current),h=fe.getViewport();v+u-document.body.scrollLeft>h.width&&(v-=u),C+i-document.body.scrollTop>h.height&&(C-=i),v<document.body.scrollLeft&&(v=document.body.scrollLeft),C<document.body.scrollTop&&(C=document.body.scrollTop),this.menuRef.current.style.left=v+"px",this.menuRef.current.style.top=C+"px"}}},{key:"onLeafClick",value:function(f){this.setState({resetMenu:!0}),this.hide(f),f.stopPropagation()}},{key:"isOutsideClicked",value:function(f){return this.menuRef&&this.menuRef.current&&!(this.menuRef.current.isSameNode(f.target)||this.menuRef.current.contains(f.target))}},{key:"bindDocumentListeners",value:function(){this.bindDocumentResizeListener(),this.bindDocumentClickListener()}},{key:"unbindDocumentListeners",value:function(){this.unbindDocumentResizeListener(),this.unbindDocumentClickListener()}},{key:"bindDocumentClickListener",value:function(){var f=this;this.documentClickListener||(this.documentClickListener=function(v){f.isOutsideClicked(v)&&v.button!==2&&(f.hide(v),f.setState({resetMenu:!0}))},document.addEventListener("click",this.documentClickListener))}},{key:"bindDocumentContextMenuListener",value:function(){var f=this;this.documentContextMenuListener||(this.documentContextMenuListener=function(v){f.show(v)},document.addEventListener("contextmenu",this.documentContextMenuListener))}},{key:"bindDocumentResizeListener",value:function(){var f=this;this.documentResizeListener||(this.documentResizeListener=function(v){f.state.visible&&!fe.isTouchDevice()&&f.hide(v)},window.addEventListener("resize",this.documentResizeListener))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}},{key:"unbindDocumentContextMenuListener",value:function(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"componentDidMount",value:function(){this.props.global&&this.bindDocumentContextMenuListener()}},{key:"componentDidUpdate",value:function(f,v){var C=this;if(this.state.visible&&(v.reshow!==this.state.reshow||f.model!==this.props.model)){var u=this.currentEvent;this.setState({visible:!1,reshow:!1,rePosition:!1,resetMenu:!0},function(){return C.show(u)})}}},{key:"componentWillUnmount",value:function(){this.unbindDocumentListeners(),this.unbindDocumentContextMenuListener(),qe.clear(this.menuRef.current)}},{key:"renderContextMenu",value:function(){var f=ut("p-contextmenu p-component",this.props.className);return pe(nl,{nodeRef:this.menuRef,classNames:"p-contextmenu",in:this.state.visible,timeout:{enter:250,exit:0},options:this.props.transitionOptions,unmountOnExit:!0,onEnter:this.onEnter,onEntered:this.onEntered,onExit:this.onExit,onExited:this.onExited,children:pe("div",{ref:this.menuRef,id:this.props.id,className:f,style:this.props.style,onClick:this.onMenuClick,onMouseEnter:this.onMenuMouseEnter,children:pe(ah,{model:this.props.model,root:!0,resetMenu:this.state.resetMenu,onLeafClick:this.onLeafClick})})})}},{key:"render",value:function(){var f=this.renderContextMenu();return pe(go,{element:f,appendTo:this.props.appendTo})}}]),n}(ae.exports.Component);oh(hm,"defaultProps",{id:null,model:null,style:null,className:null,global:!1,autoZIndex:!0,baseZIndex:0,appendTo:null,transitionOptions:null,onShow:null,onHide:null});function dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gu(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function pm(t,e,n){return e&&Gu(t.prototype,e),n&&Gu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ks(t,e){return Ks=Object.setPrototypeOf||function(l,f){return l.__proto__=f,l},Ks(t,e)}function gm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ks(t,e)}function qs(t){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function mm(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mi(t)}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qr(t)}function rl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vm(t){var e=ym();return function(){var l=qr(t),f;if(e){var v=qr(this).constructor;f=Reflect.construct(l,arguments,v)}else f=l.apply(this,arguments);return mm(this,f)}}function ym(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(f){return Object.getOwnPropertyDescriptor(t,f).enumerable})),n.push.apply(n,l)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$u(Object(n),!0).forEach(function(l){rl(t,l,n[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(n,l))})}return t}function Dm(t){var e=t.appendTo||document.body,n=document.createDocumentFragment();fe.appendChild(n,e),t=cr(cr({},t),t.options);var l=pe(lh,Qn({},t));jt.render(l,n);var f=function(C){t=cr(cr({},t),C),jt.render(Fe.cloneElement(l,t),n)};return{destroy:function(){jt.unmountComponentAtNode(n)},updateContent:function(C){console.warn("The 'updateContent' method has been deprecated on Tooltip. Use update(newProps) method."),f({content:C})},update:function(C){f(C)}}}var lh=function(t){gm(n,t);var e=vm(n);function n(l){var f;return dm(this,n),f=e.call(this,l),f.state={visible:!1,position:f.props.position},f.show=f.show.bind(mi(f)),f.hide=f.hide.bind(mi(f)),f.onMouseEnter=f.onMouseEnter.bind(mi(f)),f.onMouseLeave=f.onMouseLeave.bind(mi(f)),f}return pm(n,[{key:"isTargetContentEmpty",value:function(f){return!(this.props.content||this.getTargetOption(f,"tooltip"))}},{key:"isContentEmpty",value:function(f){return!(this.props.content||this.getTargetOption(f,"tooltip")||this.props.children)}},{key:"isMouseTrack",value:function(f){return this.getTargetOption(f,"mousetrack")||this.props.mouseTrack}},{key:"isDisabled",value:function(f){return this.getTargetOption(f,"disabled")==="true"||this.hasTargetOption(f,"disabled")||this.props.disabled}},{key:"isShowOnDisabled",value:function(f){return this.getTargetOption(f,"showondisabled")||this.props.showOnDisabled}},{key:"isAutoHide",value:function(){return this.getTargetOption(this.currentTarget,"autohide")||this.props.autoHide}},{key:"getTargetOption",value:function(f,v){return this.hasTargetOption(f,"data-pr-".concat(v))?f.getAttribute("data-pr-".concat(v)):null}},{key:"hasTargetOption",value:function(f,v){return f&&f.hasAttribute(v)}},{key:"getEvents",value:function(f){var v=this.getTargetOption(f,"showevent")||this.props.showEvent,C=this.getTargetOption(f,"hideevent")||this.props.hideEvent;if(this.isMouseTrack(f))v="mousemove",C="mouseleave";else{var u=this.getTargetOption(f,"event")||this.props.event;u==="focus"&&(v="focus",C="blur")}return{showEvent:v,hideEvent:C}}},{key:"getPosition",value:function(f){return this.getTargetOption(f,"position")||this.state.position}},{key:"getMouseTrackPosition",value:function(f){var v=this.getTargetOption(f,"mousetracktop")||this.props.mouseTrackTop,C=this.getTargetOption(f,"mousetrackleft")||this.props.mouseTrackLeft;return{top:v,left:C}}},{key:"updateText",value:function(f,v){if(this.tooltipTextEl){var C=this.getTargetOption(f,"tooltip")||this.props.content;C?(this.tooltipTextEl.innerHTML="",this.tooltipTextEl.appendChild(document.createTextNode(C)),v()):this.props.children&&v()}}},{key:"show",value:function(f){var v=this;this.currentTarget=f.currentTarget;var C=this.isDisabled(this.currentTarget),u=this.isContentEmpty(this.isShowOnDisabled(this.currentTarget)&&C?this.currentTarget.firstChild:this.currentTarget);if(!(u||C)){var i=function(){v.updateText(v.currentTarget,function(){v.props.autoZIndex&&!qe.get(v.containerEl)&&qe.set("tooltip",v.containerEl,ke.autoZIndex,v.props.baseZIndex||ke.zIndex.tooltip),v.containerEl.style.left="",v.containerEl.style.top="",v.isMouseTrack(v.currentTarget)&&!v.containerSize&&(v.containerSize={width:fe.getOuterWidth(v.containerEl),height:fe.getOuterHeight(v.containerEl)}),v.align(v.currentTarget,{x:f.pageX,y:f.pageY})})};this.state.visible?this.applyDelay("updateDelay",i):(this.sendCallback(this.props.onBeforeShow,{originalEvent:f,target:this.currentTarget}),this.applyDelay("showDelay",function(){v.setState({visible:!0,position:v.getPosition(v.currentTarget)},function(){i(),v.sendCallback(v.props.onShow,{originalEvent:f,target:v.currentTarget})}),v.bindDocumentResizeListener(),v.bindScrollListener(),fe.addClass(v.currentTarget,v.getTargetOption(v.currentTarget,"classname"))}))}}},{key:"hide",value:function(f){var v=this;this.clearTimeouts(),this.state.visible&&(fe.removeClass(this.currentTarget,this.getTargetOption(this.currentTarget,"classname")),this.sendCallback(this.props.onBeforeHide,{originalEvent:f,target:this.currentTarget}),this.applyDelay("hideDelay",function(){qe.clear(v.containerEl),fe.removeClass(v.containerEl,"p-tooltip-active"),!(!v.isAutoHide()&&v.allowHide===!1)&&v.setState({visible:!1,position:v.props.position},function(){v.tooltipTextEl&&jt.unmountComponentAtNode(v.tooltipTextEl),v.unbindDocumentResizeListener(),v.unbindScrollListener(),v.currentTarget=null,v.scrollHandler=null,v.containerSize=null,v.allowHide=!0,v.sendCallback(v.props.onHide,{originalEvent:f,target:v.currentTarget})})}))}},{key:"align",value:function(f,v){var C=this,u=0,i=0;if(this.isMouseTrack(f)&&v){var h={width:fe.getOuterWidth(this.containerEl),height:fe.getOuterHeight(this.containerEl)};u=v.x,i=v.y;var d=this.getMouseTrackPosition(f),s=d.top,a=d.left;switch(this.state.position){case"left":u-=h.width+a,i-=h.height/2-s;break;case"right":u+=a,i-=h.height/2-s;break;case"top":u-=h.width/2-a,i-=h.height+s;break;case"bottom":u-=h.width/2-a,i+=s;break}u<=0||this.containerSize.width>h.width?(this.containerEl.style.left="0px",this.containerEl.style.right=window.innerWidth-h.width-u+"px"):(this.containerEl.style.right="",this.containerEl.style.left=u+"px"),this.containerEl.style.top=i+"px",fe.addClass(this.containerEl,"p-tooltip-active")}else{var r=fe.findCollisionPosition(this.state.position),c=this.getTargetOption(f,"my")||this.props.my||r.my,g=this.getTargetOption(f,"at")||this.props.at||r.at;this.containerEl.style.padding="0px",fe.flipfitCollision(this.containerEl,f,c,g,function(o){var p=o.at,m=p.x,y=p.y,_=o.my.x,S=C.props.at?m!=="center"&&m!==_?m:y:o.at["".concat(r.axis)];C.containerEl.style.padding="",C.setState({position:S},function(){C.updateContainerPosition(),fe.addClass(C.containerEl,"p-tooltip-active")})})}}},{key:"updateContainerPosition",value:function(){if(this.containerEl){var f=getComputedStyle(this.containerEl);this.state.position==="left"?this.containerEl.style.left=parseFloat(f.left)-parseFloat(f.paddingLeft)*2+"px":this.state.position==="top"&&(this.containerEl.style.top=parseFloat(f.top)-parseFloat(f.paddingTop)*2+"px")}}},{key:"onMouseEnter",value:function(){this.isAutoHide()||(this.allowHide=!1)}},{key:"onMouseLeave",value:function(f){this.isAutoHide()||(this.allowHide=!0,this.hide(f))}},{key:"bindDocumentResizeListener",value:function(){var f=this;this.documentResizeListener=function(v){fe.isTouchDevice()||f.hide(v)},window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var f=this;this.scrollHandler||(this.scrollHandler=new hg(this.currentTarget,function(v){f.state.visible&&f.hide(v)})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"bindTargetEvent",value:function(f){if(f){var v=this.getEvents(f),C=v.showEvent,u=v.hideEvent,i=this.getTarget(f);i.addEventListener(C,this.show),i.addEventListener(u,this.hide)}}},{key:"unbindTargetEvent",value:function(f){if(f){var v=this.getEvents(f),C=v.showEvent,u=v.hideEvent,i=this.getTarget(f);i.removeEventListener(C,this.show),i.removeEventListener(u,this.hide)}}},{key:"applyDelay",value:function(f,v){this.clearTimeouts();var C=this.getTargetOption(this.currentTarget,f.toLowerCase())||this.props[f];C?this["".concat(f,"Timeout")]=setTimeout(function(){return v()},C):v()}},{key:"sendCallback",value:function(f){if(f){for(var v=arguments.length,C=new Array(v>1?v-1:0),u=1;u<v;u++)C[u-1]=arguments[u];f.apply(void 0,C)}}},{key:"clearTimeouts",value:function(){clearTimeout(this.showDelayTimeout),clearTimeout(this.updateDelayTimeout),clearTimeout(this.hideDelayTimeout)}},{key:"getTarget",value:function(f){if(f){if(this.isShowOnDisabled(f)){var v=document.createElement("span");return f.parentNode.insertBefore(v,f),v.appendChild(f),v}return f}return null}},{key:"updateTargetEvents",value:function(f){this.unloadTargetEvents(f),this.loadTargetEvents(f)}},{key:"loadTargetEvents",value:function(f){this.setTargetEventOperations(f||this.props.target,"bindTargetEvent")}},{key:"unloadTargetEvents",value:function(f){this.setTargetEventOperations(f||this.props.target,"unbindTargetEvent")}},{key:"setTargetEventOperations",value:function(f,v){var C=this;if(f)if(fe.isElement(f))this[v](f);else{var u=function(h){var d=fe.find(document,h);d.forEach(function(s){C[v](s)})};f instanceof Array?f.forEach(function(i){u(i)}):u(f)}}},{key:"componentDidMount",value:function(){this.props.target&&this.loadTargetEvents()}},{key:"componentDidUpdate",value:function(f,v){var C=this;f.target!==this.props.target&&(this.unloadTargetEvents(f.target),this.loadTargetEvents()),this.state.visible&&(f.content!==this.props.content&&this.applyDelay("updateDelay",function(){C.updateText(C.currentTarget,function(){C.align(C.currentTarget)})}),this.currentTarget&&this.isDisabled(this.currentTarget)&&this.hide())}},{key:"componentWillUnmount",value:function(){this.clearTimeouts(),this.unbindDocumentResizeListener(),this.unloadTargetEvents(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),qe.clear(this.containerEl)}},{key:"renderElement",value:function(){var f=this,v=ut("p-tooltip p-component",rl({},"p-tooltip-".concat(this.state.position),!0),this.props.className),C=this.isTargetContentEmpty(this.currentTarget);return nn("div",{id:this.props.id,ref:function(i){return f.containerEl=i},className:v,style:this.props.style,role:"tooltip","aria-hidden":this.state.visible,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[pe("div",{className:"p-tooltip-arrow"}),pe("div",{ref:function(i){return f.tooltipTextEl=i},className:"p-tooltip-text",children:C&&this.props.children})]})}},{key:"render",value:function(){if(this.state.visible){var f=this.renderElement();return pe(go,{element:f,appendTo:this.props.appendTo,visible:!0})}return null}}]),n}(ae.exports.Component);rl(lh,"defaultProps",{id:null,target:null,content:null,disabled:!1,className:null,style:null,appendTo:null,position:"right",my:null,at:null,event:null,showEvent:"mouseenter",hideEvent:"mouseleave",autoZIndex:!0,baseZIndex:0,mouseTrack:!1,mouseTrackTop:5,mouseTrackLeft:5,showDelay:0,updateDelay:0,hideDelay:0,autoHide:!0,showOnDisabled:!1,onBeforeShow:null,onBeforeHide:null,onShow:null,onHide:null});var _m={},Cm={},Sm=Object.freeze(Object.defineProperty({__proto__:null,default:Cm},Symbol.toStringTag,{value:"Module"})),Go=gh(Sm);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.2.1"};if(t.fabric=e,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Go,l=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=l.document,e.jsdomImplForWrapper=Go.implForWrapper,e.nodeCanvas=Go.Canvas,e.window=l,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer!="undefined"&&typeof window=="undefined",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=e),function(){function u(r,c){if(!!this.__eventListeners[r]){var g=this.__eventListeners[r];c?g[g.indexOf(c)]=!1:e.util.array.fill(g,!1)}}function i(r,c){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in r)this.on(g,r[g]);else this.__eventListeners[r]||(this.__eventListeners[r]=[]),this.__eventListeners[r].push(c);return this}function h(r,c){var g=function(){c.apply(this,arguments),this.off(r,g)}.bind(this);this.on(r,g)}function d(r,c){if(arguments.length===1)for(var g in r)h.call(this,g,r[g]);else h.call(this,r,c);return this}function s(r,c){if(!this.__eventListeners)return this;if(arguments.length===0)for(r in this.__eventListeners)u.call(this,r);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in r)u.call(this,g,r[g]);else u.call(this,r,c);return this}function a(r,c){if(!this.__eventListeners)return this;var g=this.__eventListeners[r];if(!g)return this;for(var o=0,p=g.length;o<p;o++)g[o]&&g[o].call(this,c||{});return this.__eventListeners[r]=g.filter(function(m){return m!==!1}),this}e.Observable={fire:a,on:i,once:d,off:s}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var u=0,i=arguments.length;u<i;u++)this._onObjectAdded(arguments[u]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(u,i,h){var d=this._objects;return h?d[i]=u:d.splice(i,0,u),this._onObjectAdded&&this._onObjectAdded(u),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var u=this._objects,i,h=!1,d=0,s=arguments.length;d<s;d++)i=u.indexOf(arguments[d]),i!==-1&&(h=!0,u.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(u,i){for(var h=this.getObjects(),d=0,s=h.length;d<s;d++)u.call(i,h[d],d,h);return this},getObjects:function(u){return typeof u=="undefined"?this._objects.concat():this._objects.filter(function(i){return i.type===u})},item:function(u){return this._objects[u]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(u,i){return this._objects.indexOf(u)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(u,!0)}):!1},complexity:function(){return this._objects.reduce(function(u,i){return u+=i.complexity?i.complexity():0,u},0)}},e.CommonMethods={_setOptions:function(u){for(var i in u)this.set(i,u[i])},_initGradient:function(u,i){u&&u.colorStops&&!(u instanceof e.Gradient)&&this.set(i,new e.Gradient(u))},_initPattern:function(u,i,h){u&&u.source&&!(u instanceof e.Pattern)?this.set(i,new e.Pattern(u,h)):h&&h()},_setObject:function(u){for(var i in u)this._set(i,u[i])},set:function(u,i){return typeof u=="object"?this._setObject(u):this._set(u,i),this},_set:function(u,i){this[u]=i},toggle:function(u){var i=this.get(u);return typeof i=="boolean"&&this.set(u,!i),this},get:function(u){return this[u]}},function(u){var i=Math.sqrt,h=Math.atan2,d=Math.pow,s=Math.PI/180,a=Math.PI/2;e.util={cos:function(r){if(r===0)return 1;r<0&&(r=-r);var c=r/a;switch(c){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},sin:function(r){if(r===0)return 0;var c=r/a,g=1;switch(r<0&&(g=-1),c){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(r)},removeFromArray:function(r,c){var g=r.indexOf(c);return g!==-1&&r.splice(g,1),r},getRandomInt:function(r,c){return Math.floor(Math.random()*(c-r+1))+r},degreesToRadians:function(r){return r*s},radiansToDegrees:function(r){return r/s},rotatePoint:function(r,c,g){var o=new e.Point(r.x-c.x,r.y-c.y),p=e.util.rotateVector(o,g);return new e.Point(p.x,p.y).addEquals(c)},rotateVector:function(r,c){var g=e.util.sin(c),o=e.util.cos(c),p=r.x*o-r.y*g,m=r.x*g+r.y*o;return{x:p,y:m}},createVector:function(r,c){return new e.Point(c.x-r.x,c.y-r.y)},calcAngleBetweenVectors:function(r,c){return Math.acos((r.x*c.x+r.y*c.y)/(Math.hypot(r.x,r.y)*Math.hypot(c.x,c.y)))},getHatVector:function(r){return new e.Point(r.x,r.y).multiply(1/Math.hypot(r.x,r.y))},getBisector:function(r,c,g){var o=e.util.createVector(r,c),p=e.util.createVector(r,g),m=e.util.calcAngleBetweenVectors(o,p),y=e.util.calcAngleBetweenVectors(e.util.rotateVector(o,m),p),_=m*(y===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(o,_)),angle:m}},projectStrokeOnPoints:function(r,c,g){var o=[],p=c.strokeWidth/2,m=c.strokeUniform?new e.Point(1/c.scaleX,1/c.scaleY):new e.Point(1,1),y=function(_){var S=p/Math.hypot(_.x,_.y);return new e.Point(_.x*S*m.x,_.y*S*m.y)};return r.length<=1||r.forEach(function(_,S){var w=new e.Point(_.x,_.y),E,O;S===0?(O=r[S+1],E=g?y(e.util.createVector(O,w)).addEquals(w):r[r.length-1]):S===r.length-1?(E=r[S-1],O=g?y(e.util.createVector(E,w)).addEquals(w):r[0]):(E=r[S-1],O=r[S+1]);var A=e.util.getBisector(w,E,O),j=A.vector,V=A.angle,G,$;if(c.strokeLineJoin==="miter"&&(G=-p/Math.sin(V/2),$=new e.Point(j.x*G*m.x,j.y*G*m.y),Math.hypot($.x,$.y)/p<=c.strokeMiterLimit)){o.push(w.add($)),o.push(w.subtract($));return}G=-p*Math.SQRT2,$=new e.Point(j.x*G*m.x,j.y*G*m.y),o.push(w.add($)),o.push(w.subtract($))}),o},transformPoint:function(r,c,g){return g?new e.Point(c[0]*r.x+c[2]*r.y,c[1]*r.x+c[3]*r.y):new e.Point(c[0]*r.x+c[2]*r.y+c[4],c[1]*r.x+c[3]*r.y+c[5])},makeBoundingBoxFromPoints:function(r,c){if(c)for(var g=0;g<r.length;g++)r[g]=e.util.transformPoint(r[g],c);var o=[r[0].x,r[1].x,r[2].x,r[3].x],p=e.util.array.min(o),m=e.util.array.max(o),y=m-p,_=[r[0].y,r[1].y,r[2].y,r[3].y],S=e.util.array.min(_),w=e.util.array.max(_),E=w-S;return{left:p,top:S,width:y,height:E}},invertTransform:function(r){var c=1/(r[0]*r[3]-r[1]*r[2]),g=[c*r[3],-c*r[1],-c*r[2],c*r[0]],o=e.util.transformPoint({x:r[4],y:r[5]},g,!0);return g[4]=-o.x,g[5]=-o.y,g},toFixed:function(r,c){return parseFloat(Number(r).toFixed(c))},parseUnit:function(r,c){var g=/\D{0,2}$/.exec(r),o=parseFloat(r);switch(c||(c=e.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return o*e.DPI/25.4;case"cm":return o*e.DPI/2.54;case"in":return o*e.DPI;case"pt":return o*e.DPI/72;case"pc":return o*e.DPI/72*12;case"em":return o*c;default:return o}},falseFunction:function(){return!1},getKlass:function(r,c){return r=e.util.string.camelize(r.charAt(0).toUpperCase()+r.slice(1)),e.util.resolveNamespace(c)[r]},getSvgAttributes:function(r){var c=["instantiated_by_use","style","id","class"];switch(r){case"linearGradient":c=c.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":c=c.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":c=c.concat(["offset","stop-color","stop-opacity"]);break}return c},resolveNamespace:function(r){if(!r)return e;var c=r.split("."),g=c.length,o,p=u||e.window;for(o=0;o<g;++o)p=p[c[o]];return p},loadImage:function(r,c,g,o){if(!r){c&&c.call(g,r);return}var p=e.util.createImage(),m=function(){c&&c.call(g,p,!1),p=p.onload=p.onerror=null};p.onload=m,p.onerror=function(){e.log("Error loading "+p.src),c&&c.call(g,null,!0),p=p.onload=p.onerror=null},r.indexOf("data")!==0&&o!==void 0&&o!==null&&(p.crossOrigin=o),r.substring(0,14)==="data:image/svg"&&(p.onload=null,e.util.loadImageInDom(p,m)),p.src=r},loadImageInDom:function(r,c){var g=e.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(r),e.document.querySelector("body").appendChild(g),r.onload=function(){c(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(r,c,g,o){r=r||[];var p=[],m=0,y=r.length;function _(){++m===y&&c&&c(p.filter(function(S){return S}))}if(!y){c&&c(p);return}r.forEach(function(S,w){if(!S||!S.type){_();return}var E=e.util.getKlass(S.type,g);E.fromObject(S,function(O,A){A||(p[w]=O),o&&o(S,O,A),_()})})},enlivenObjectEnlivables:function(r,c,g){var o=e.Object.ENLIVEN_PROPS.filter(function(p){return!!r[p]});e.util.enlivenObjects(o.map(function(p){return r[p]}),function(p){var m={};o.forEach(function(y,_){m[y]=p[_],c&&(c[y]=p[_])}),g&&g(m)})},enlivenPatterns:function(r,c){r=r||[];function g(){++p===m&&c&&c(o)}var o=[],p=0,m=r.length;if(!m){c&&c(o);return}r.forEach(function(y,_){y&&y.source?new e.Pattern(y,function(S){o[_]=S,g()}):(o[_]=y,g())})},groupSVGElements:function(r,c,g){var o;return r&&r.length===1?r[0]:(c&&(c.width&&c.height?c.centerPoint={x:c.width/2,y:c.height/2}:(delete c.width,delete c.height)),o=new e.Group(r,c),typeof g!="undefined"&&(o.sourcePath=g),o)},populateWithProperties:function(r,c,g){if(g&&Array.isArray(g))for(var o=0,p=g.length;o<p;o++)g[o]in r&&(c[g[o]]=r[g[o]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(r){var c=e.util.createCanvasElement();return c.width=r.width,c.height=r.height,c.getContext("2d").drawImage(r,0,0),c},toDataURL:function(r,c,g){return r.toDataURL("image/"+c,g)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(r,c,g){return[r[0]*c[0]+r[2]*c[1],r[1]*c[0]+r[3]*c[1],r[0]*c[2]+r[2]*c[3],r[1]*c[2]+r[3]*c[3],g?0:r[0]*c[4]+r[2]*c[5]+r[4],g?0:r[1]*c[4]+r[3]*c[5]+r[5]]},qrDecompose:function(r){var c=h(r[1],r[0]),g=d(r[0],2)+d(r[1],2),o=i(g),p=(r[0]*r[3]-r[2]*r[1])/o,m=h(r[0]*r[2]+r[1]*r[3],g);return{angle:c/s,scaleX:o,scaleY:p,skewX:m/s,skewY:0,translateX:r[4],translateY:r[5]}},calcRotateMatrix:function(r){if(!r.angle)return e.iMatrix.concat();var c=e.util.degreesToRadians(r.angle),g=e.util.cos(c),o=e.util.sin(c);return[g,o,-o,g,0,0]},calcDimensionsMatrix:function(r){var c=typeof r.scaleX=="undefined"?1:r.scaleX,g=typeof r.scaleY=="undefined"?1:r.scaleY,o=[r.flipX?-c:c,0,0,r.flipY?-g:g,0,0],p=e.util.multiplyTransformMatrices,m=e.util.degreesToRadians;return r.skewX&&(o=p(o,[1,0,Math.tan(m(r.skewX)),1],!0)),r.skewY&&(o=p(o,[1,Math.tan(m(r.skewY)),0,1],!0)),o},composeMatrix:function(r){var c=[1,0,0,1,r.translateX||0,r.translateY||0],g=e.util.multiplyTransformMatrices;return r.angle&&(c=g(c,e.util.calcRotateMatrix(r))),(r.scaleX!==1||r.scaleY!==1||r.skewX||r.skewY||r.flipX||r.flipY)&&(c=g(c,e.util.calcDimensionsMatrix(r))),c},resetObjectTransform:function(r){r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},saveObjectTransform:function(r){return{scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}},isTransparent:function(r,c,g,o){o>0&&(c>o?c-=o:c=0,g>o?g-=o:g=0);var p=!0,m,y,_=r.getImageData(c,g,o*2||1,o*2||1),S=_.data.length;for(m=3;m<S&&(y=_.data[m],p=y<=0,p!==!1);m+=4);return _=null,p},parsePreserveAspectRatioAttribute:function(r){var c="meet",g="Mid",o="Mid",p=r.split(" "),m;return p&&p.length&&(c=p.pop(),c!=="meet"&&c!=="slice"?(m=c,c="meet"):p.length&&(m=p.pop())),g=m!=="none"?m.slice(1,4):"none",o=m!=="none"?m.slice(5,8):"none",{meetOrSlice:c,alignX:g,alignY:o}},clearFabricFontCache:function(r){r=(r||"").toLowerCase(),r?e.charWidthsCache[r]&&delete e.charWidthsCache[r]:e.charWidthsCache={}},limitDimsByArea:function(r,c){var g=Math.sqrt(c*r),o=Math.floor(c/g);return{x:Math.floor(g),y:o}},capValue:function(r,c,g){return Math.max(r,Math.min(c,g))},findScaleToFit:function(r,c){return Math.min(c.width/r.width,c.height/r.height)},findScaleToCover:function(r,c){return Math.max(c.width/r.width,c.height/r.height)},matrixToSVG:function(r){return"matrix("+r.map(function(c){return e.util.toFixed(c,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(r,c){var g=e.util.invertTransform(c),o=e.util.multiplyTransformMatrices(g,r.calcOwnMatrix());e.util.applyTransformToObject(r,o)},addTransformToObject:function(r,c){e.util.applyTransformToObject(r,e.util.multiplyTransformMatrices(c,r.calcOwnMatrix()))},applyTransformToObject:function(r,c){var g=e.util.qrDecompose(c),o=new e.Point(g.translateX,g.translateY);r.flipX=!1,r.flipY=!1,r.set("scaleX",g.scaleX),r.set("scaleY",g.scaleY),r.skewX=g.skewX,r.skewY=g.skewY,r.angle=g.angle,r.setPositionByOrigin(o,"center","center")},sizeAfterTransform:function(r,c,g){var o=r/2,p=c/2,m=[{x:-o,y:-p},{x:o,y:-p},{x:-o,y:p},{x:o,y:p}],y=e.util.calcDimensionsMatrix(g),_=e.util.makeBoundingBoxFromPoints(m,y);return{x:_.width,y:_.height}},mergeClipPaths:function(r,c){var g=r,o=c;g.inverted&&!o.inverted&&(g=c,o=r),e.util.applyTransformToObject(o,e.util.multiplyTransformMatrices(e.util.invertTransform(g.calcTransformMatrix()),o.calcTransformMatrix()));var p=g.inverted&&o.inverted;return p&&(g.inverted=o.inverted=!1),new e.Group([g],{clipPath:o,inverted:p})}}}(t),function(){var u=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function d(T,D,b,k,R,P,x,L,M,W,I){var X=e.util.cos(T),q=e.util.sin(T),J=e.util.cos(D),N=e.util.sin(D),F=b*R*J-k*P*N+x,U=k*R*J+b*P*N+L,z=W+M*(-b*R*q-k*P*X),B=I+M*(-k*R*q+b*P*X),Y=F+M*(b*R*N+k*P*J),ee=U+M*(k*R*N-b*P*J);return["C",z,B,Y,ee,F,U]}function s(T,D,b,k,R,P,x){var L=Math.PI,M=x*L/180,W=e.util.sin(M),I=e.util.cos(M),X=0,q=0;b=Math.abs(b),k=Math.abs(k);var J=-I*T*.5-W*D*.5,N=-I*D*.5+W*T*.5,F=b*b,U=k*k,z=N*N,B=J*J,Y=F*U-F*z-U*B,ee=0;if(Y<0){var ue=Math.sqrt(1-Y/(F*U));b*=ue,k*=ue}else ee=(R===P?-1:1)*Math.sqrt(Y/(F*z+U*B));var oe=ee*b*N/k,H=-ee*k*J/b,se=I*oe-W*H+T*.5,ce=W*oe+I*H+D*.5,he=a(1,0,(J-oe)/b,(N-H)/k),_e=a((J-oe)/b,(N-H)/k,(-J-oe)/b,(-N-H)/k);P===0&&_e>0?_e-=2*L:P===1&&_e<0&&(_e+=2*L);for(var ge=Math.ceil(Math.abs(_e/L*2)),Be=[],Te=_e/ge,Yt=8/3*Math.sin(Te/4)*Math.sin(Te/4)/Math.sin(Te/2),qn=he+Te,ot=0;ot<ge;ot++)Be[ot]=d(he,qn,I,W,b,k,se,ce,Yt,X,q),X=Be[ot][5],q=Be[ot][6],he=qn,qn+=Te;return Be}function a(T,D,b,k){var R=Math.atan2(D,T),P=Math.atan2(k,b);return P>=R?P-R:2*Math.PI-(R-P)}function r(T,D,b,k,R,P,x,L){var M;if(e.cachesBoundsOfCurve&&(M=u.call(arguments),e.boundsOfCurveCache[M]))return e.boundsOfCurveCache[M];var W=Math.sqrt,I=Math.min,X=Math.max,q=Math.abs,J=[],N=[[],[]],F,U,z,B,Y,ee,ue,oe;U=6*T-12*b+6*R,F=-3*T+9*b-9*R+3*x,z=3*b-3*T;for(var H=0;H<2;++H){if(H>0&&(U=6*D-12*k+6*P,F=-3*D+9*k-9*P+3*L,z=3*k-3*D),q(F)<1e-12){if(q(U)<1e-12)continue;B=-z/U,0<B&&B<1&&J.push(B);continue}ue=U*U-4*z*F,!(ue<0)&&(oe=W(ue),Y=(-U+oe)/(2*F),0<Y&&Y<1&&J.push(Y),ee=(-U-oe)/(2*F),0<ee&&ee<1&&J.push(ee))}for(var se,ce,he=J.length,_e=he,ge;he--;)B=J[he],ge=1-B,se=ge*ge*ge*T+3*ge*ge*B*b+3*ge*B*B*R+B*B*B*x,N[0][he]=se,ce=ge*ge*ge*D+3*ge*ge*B*k+3*ge*B*B*P+B*B*B*L,N[1][he]=ce;N[0][_e]=T,N[1][_e]=D,N[0][_e+1]=x,N[1][_e+1]=L;var Be=[{x:I.apply(null,N[0]),y:I.apply(null,N[1])},{x:X.apply(null,N[0]),y:X.apply(null,N[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[M]=Be),Be}function c(T,D,b){for(var k=b[1],R=b[2],P=b[3],x=b[4],L=b[5],M=b[6],W=b[7],I=s(M-T,W-D,k,R,x,L,P),X=0,q=I.length;X<q;X++)I[X][1]+=T,I[X][2]+=D,I[X][3]+=T,I[X][4]+=D,I[X][5]+=T,I[X][6]+=D;return I}function g(T){var D=0,b=0,k=T.length,R=0,P=0,x,L,M,W=[],I,X,q;for(L=0;L<k;++L){switch(M=!1,x=T[L].slice(0),x[0]){case"l":x[0]="L",x[1]+=D,x[2]+=b;case"L":D=x[1],b=x[2];break;case"h":x[1]+=D;case"H":x[0]="L",x[2]=b,D=x[1];break;case"v":x[1]+=b;case"V":x[0]="L",b=x[1],x[1]=D,x[2]=b;break;case"m":x[0]="M",x[1]+=D,x[2]+=b;case"M":D=x[1],b=x[2],R=x[1],P=x[2];break;case"c":x[0]="C",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b,x[5]+=D,x[6]+=b;case"C":X=x[3],q=x[4],D=x[5],b=x[6];break;case"s":x[0]="S",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b;case"S":I==="C"?(X=2*D-X,q=2*b-q):(X=D,q=b),D=x[3],b=x[4],x[0]="C",x[5]=x[3],x[6]=x[4],x[3]=x[1],x[4]=x[2],x[1]=X,x[2]=q,X=x[3],q=x[4];break;case"q":x[0]="Q",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b;case"Q":X=x[1],q=x[2],D=x[3],b=x[4];break;case"t":x[0]="T",x[1]+=D,x[2]+=b;case"T":I==="Q"?(X=2*D-X,q=2*b-q):(X=D,q=b),x[0]="Q",D=x[1],b=x[2],x[1]=X,x[2]=q,x[3]=D,x[4]=b;break;case"a":x[0]="A",x[6]+=D,x[7]+=b;case"A":M=!0,W=W.concat(c(D,b,x)),D=x[6],b=x[7];break;case"z":case"Z":D=R,b=P;break}M||W.push(x),I=x[0]}return W}function o(T,D,b,k){return Math.sqrt((b-T)*(b-T)+(k-D)*(k-D))}function p(T){return T*T*T}function m(T){return 3*T*T*(1-T)}function y(T){return 3*T*(1-T)*(1-T)}function _(T){return(1-T)*(1-T)*(1-T)}function S(T,D,b,k,R,P,x,L){return function(M){var W=p(M),I=m(M),X=y(M),q=_(M);return{x:x*W+R*I+b*X+T*q,y:L*W+P*I+k*X+D*q}}}function w(T,D,b,k,R,P,x,L){return function(M){var W=1-M,I=3*W*W*(b-T)+6*W*M*(R-b)+3*M*M*(x-R),X=3*W*W*(k-D)+6*W*M*(P-k)+3*M*M*(L-P);return Math.atan2(X,I)}}function E(T){return T*T}function O(T){return 2*T*(1-T)}function A(T){return(1-T)*(1-T)}function j(T,D,b,k,R,P){return function(x){var L=E(x),M=O(x),W=A(x);return{x:R*L+b*M+T*W,y:P*L+k*M+D*W}}}function V(T,D,b,k,R,P){return function(x){var L=1-x,M=2*L*(b-T)+2*x*(R-b),W=2*L*(k-D)+2*x*(P-k);return Math.atan2(W,M)}}function G(T,D,b){var k={x:D,y:b},R,P=0,x;for(x=1;x<=100;x+=1)R=T(x/100),P+=o(k.x,k.y,R.x,R.y),k=R;return P}function $(T,D){for(var b=0,k=0,R=T.iterator,P={x:T.x,y:T.y},x,L,M=.01,W=T.angleFinder,I;k<D&&M>1e-4;)x=R(b),I=b,L=o(P.x,P.y,x.x,x.y),L+k>D?(b-=M,M/=2):(P=x,b+=M,k+=L);return x.angle=W(I),x}function Q(T){for(var D=0,b=T.length,k,R=0,P=0,x=0,L=0,M=[],W,I,X,q=0;q<b;q++){switch(k=T[q],I={x:R,y:P,command:k[0]},k[0]){case"M":I.length=0,x=R=k[1],L=P=k[2];break;case"L":I.length=o(R,P,k[1],k[2]),R=k[1],P=k[2];break;case"C":W=S(R,P,k[1],k[2],k[3],k[4],k[5],k[6]),X=w(R,P,k[1],k[2],k[3],k[4],k[5],k[6]),I.iterator=W,I.angleFinder=X,I.length=G(W,R,P),R=k[5],P=k[6];break;case"Q":W=j(R,P,k[1],k[2],k[3],k[4]),X=V(R,P,k[1],k[2],k[3],k[4]),I.iterator=W,I.angleFinder=X,I.length=G(W,R,P),R=k[3],P=k[4];break;case"Z":case"z":I.destX=x,I.destY=L,I.length=o(R,P,x,L),R=x,P=L;break}D+=I.length,M.push(I)}return M.push({length:D,x:R,y:P}),M}function K(T,D,b){b||(b=Q(T));for(var k=0;D-b[k].length>0&&k<b.length-2;)D-=b[k].length,k++;var R=b[k],P=D/R.length,x=R.command,L=T[k],M;switch(x){case"M":return{x:R.x,y:R.y,angle:0};case"Z":case"z":return M=new e.Point(R.x,R.y).lerp(new e.Point(R.destX,R.destY),P),M.angle=Math.atan2(R.destY-R.y,R.destX-R.x),M;case"L":return M=new e.Point(R.x,R.y).lerp(new e.Point(L[1],L[2]),P),M.angle=Math.atan2(L[2]-R.y,L[1]-R.x),M;case"C":return $(R,D);case"Q":return $(R,D)}}function te(T){var D=[],b=[],k,R,P=e.rePathCommand,x="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",L="("+x+")"+e.commaWsp,M="([01])"+e.commaWsp+"?",W=L+"?"+L+"?"+L+M+M+L+"?("+x+")",I=new RegExp(W,"g"),X,q,J;if(!T||!T.match)return D;J=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var N=0,F,U=J.length;N<U;N++){k=J[N],q=k.slice(1).trim(),b.length=0;var z=k.charAt(0);if(F=[z],z.toLowerCase()==="a")for(var B;B=I.exec(q);)for(var Y=1;Y<B.length;Y++)b.push(B[Y]);else for(;X=P.exec(q);)b.push(X[0]);for(var Y=0,ee=b.length;Y<ee;Y++)R=parseFloat(b[Y]),isNaN(R)||F.push(R);var ue=i[z.toLowerCase()],oe=h[z]||z;if(F.length-1>ue)for(var H=1,se=F.length;H<se;H+=ue)D.push([z].concat(F.slice(H,H+ue))),z=oe;else D.push(F)}return D}function re(T,D){var b=[],k,R=new e.Point(T[0].x,T[0].y),P=new e.Point(T[1].x,T[1].y),x=T.length,L=1,M=0,W=x>2;for(D=D||0,W&&(L=T[2].x<P.x?-1:T[2].x===P.x?0:1,M=T[2].y<P.y?-1:T[2].y===P.y?0:1),b.push(["M",R.x-L*D,R.y-M*D]),k=1;k<x;k++){if(!R.eq(P)){var I=R.midPointFrom(P);b.push(["Q",R.x,R.y,I.x,I.y])}R=T[k],k+1<T.length&&(P=T[k+1])}return W&&(L=R.x>T[k-2].x?1:R.x===T[k-2].x?0:-1,M=R.y>T[k-2].y?1:R.y===T[k-2].y?0:-1),b.push(["L",R.x+L*D,R.y+M*D]),b}function ne(T,D,b){return b&&(D=e.util.multiplyTransformMatrices(D,[1,0,0,1,-b.x,-b.y])),T.map(function(k){for(var R=k.slice(0),P={},x=1;x<k.length-1;x+=2)P.x=k[x],P.y=k[x+1],P=e.util.transformPoint(P,D),R[x]=P.x,R[x+1]=P.y;return R})}e.util.joinPath=function(T){return T.map(function(D){return D.join(" ")}).join(" ")},e.util.parsePath=te,e.util.makePathSimpler=g,e.util.getSmoothPathFromPoints=re,e.util.getPathSegmentsInfo=Q,e.util.getBoundsOfCurve=r,e.util.getPointOnPath=K,e.util.transformPath=ne}(),function(){var u=Array.prototype.slice;function i(r,c){for(var g=u.call(arguments,2),o=[],p=0,m=r.length;p<m;p++)o[p]=g.length?r[p][c].apply(r[p],g):r[p][c].call(r[p]);return o}function h(r,c){return a(r,c,function(g,o){return g>=o})}function d(r,c){return a(r,c,function(g,o){return g<o})}function s(r,c){for(var g=r.length;g--;)r[g]=c;return r}function a(r,c,g){if(!(!r||r.length===0)){var o=r.length-1,p=c?r[o][c]:r[o];if(c)for(;o--;)g(r[o][c],p)&&(p=r[o][c]);else for(;o--;)g(r[o],p)&&(p=r[o]);return p}}e.util.array={fill:s,invoke:i,min:d,max:h}}(),function(){function u(h,d,s){if(s)if(!e.isLikelyNode&&d instanceof Element)h=d;else if(d instanceof Array){h=[];for(var a=0,r=d.length;a<r;a++)h[a]=u({},d[a],s)}else if(d&&typeof d=="object")for(var c in d)c==="canvas"||c==="group"?h[c]=null:d.hasOwnProperty(c)&&(h[c]=u({},d[c],s));else h=d;else for(var c in d)h[c]=d[c];return h}function i(h,d){return u({},h,d)}e.util.object={extend:u,clone:i},e.util.object.extend(e.util,e.Observable)}(),function(){function u(a){return a.replace(/-+(.)?/g,function(r,c){return c?c.toUpperCase():""})}function i(a,r){return a.charAt(0).toUpperCase()+(r?a.slice(1):a.slice(1).toLowerCase())}function h(a){return a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(a){var r=0,c,g=[];for(r=0,c;r<a.length;r++)(c=s(a,r))!==!1&&g.push(c);return g}function s(a,r){var c=a.charCodeAt(r);if(isNaN(c))return"";if(c<55296||c>57343)return a.charAt(r);if(55296<=c&&c<=56319){if(a.length<=r+1)throw"High surrogate without following low surrogate";var g=a.charCodeAt(r+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return a.charAt(r)+a.charAt(r+1)}if(r===0)throw"Low surrogate without preceding high surrogate";var o=a.charCodeAt(r-1);if(55296>o||o>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:u,capitalize:i,escapeXml:h,graphemeSplit:d}}(),function(){var u=Array.prototype.slice,i=function(){},h=function(){for(var c in{toString:1})if(c==="toString")return!1;return!0}(),d=function(c,g,o){for(var p in g)p in c.prototype&&typeof c.prototype[p]=="function"&&(g[p]+"").indexOf("callSuper")>-1?c.prototype[p]=function(m){return function(){var y=this.constructor.superclass;this.constructor.superclass=o;var _=g[m].apply(this,arguments);if(this.constructor.superclass=y,m!=="initialize")return _}}(p):c.prototype[p]=g[p],h&&(g.toString!==Object.prototype.toString&&(c.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(c.prototype.valueOf=g.valueOf))};function s(){}function a(c){for(var g=null,o=this;o.constructor.superclass;){var p=o.constructor.superclass.prototype[c];if(o[c]!==p){g=p;break}o=o.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,u.call(arguments,1)):g.call(this):console.log("tried to callSuper "+c+", method not found in prototype chain",this)}function r(){var c=null,g=u.call(arguments,0);typeof g[0]=="function"&&(c=g.shift());function o(){this.initialize.apply(this,arguments)}o.superclass=c,o.subclasses=[],c&&(s.prototype=c.prototype,o.prototype=new s,c.subclasses.push(o));for(var p=0,m=g.length;p<m;p++)d(o,g[p],c);return o.prototype.initialize||(o.prototype.initialize=i),o.prototype.constructor=o,o.prototype.callSuper=a,o}e.util.createClass=r}(),function(){var u=!!e.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];e.util.addListener=function(d,s,a,r){d&&d.addEventListener(s,a,u?!1:r)},e.util.removeListener=function(d,s,a,r){d&&d.removeEventListener(s,a,u?!1:r)};function h(d){var s=d.changedTouches;return s&&s[0]?s[0]:d}e.util.getPointer=function(d){var s=d.target,a=e.util.getScrollLeftTop(s),r=h(d);return{x:r.clientX+a.left,y:r.clientY+a.top}},e.util.isTouchEvent=function(d){return i.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function u(r,c){var g=r.style;if(!g)return r;if(typeof c=="string")return r.style.cssText+=";"+c,c.indexOf("opacity")>-1?a(r,c.match(/opacity:\s*(\d?\.?\d*)/)[1]):r;for(var o in c)if(o==="opacity")a(r,c[o]);else{var p=o==="float"||o==="cssFloat"?typeof g.styleFloat=="undefined"?"cssFloat":"styleFloat":o;g[p]=c[o]}return r}var i=e.document.createElement("div"),h=typeof i.style.opacity=="string",d=typeof i.style.filter=="string",s=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,a=function(r){return r};h?a=function(r,c){return r.style.opacity=c,r}:d&&(a=function(r,c){var g=r.style;return r.currentStyle&&!r.currentStyle.hasLayout&&(g.zoom=1),s.test(g.filter)?(c=c>=.9999?"":"alpha(opacity="+c*100+")",g.filter=g.filter.replace(s,c)):g.filter+=" alpha(opacity="+c*100+")",r}),e.util.setStyle=u}(),function(){var u=Array.prototype.slice;function i(_){return typeof _=="string"?e.document.getElementById(_):_}var h,d=function(_){return u.call(_,0)};try{h=d(e.document.childNodes)instanceof Array}catch{}h||(d=function(_){for(var S=new Array(_.length),w=_.length;w--;)S[w]=_[w];return S});function s(_,S){var w=e.document.createElement(_);for(var E in S)E==="class"?w.className=S[E]:E==="for"?w.htmlFor=S[E]:w.setAttribute(E,S[E]);return w}function a(_,S){_&&(" "+_.className+" ").indexOf(" "+S+" ")===-1&&(_.className+=(_.className?" ":"")+S)}function r(_,S,w){return typeof S=="string"&&(S=s(S,w)),_.parentNode&&_.parentNode.replaceChild(S,_),S.appendChild(_),S}function c(_){for(var S=0,w=0,E=e.document.documentElement,O=e.document.body||{scrollLeft:0,scrollTop:0};_&&(_.parentNode||_.host)&&(_=_.parentNode||_.host,_===e.document?(S=O.scrollLeft||E.scrollLeft||0,w=O.scrollTop||E.scrollTop||0):(S+=_.scrollLeft||0,w+=_.scrollTop||0),!(_.nodeType===1&&_.style.position==="fixed")););return{left:S,top:w}}function g(_){var S,w=_&&_.ownerDocument,E={left:0,top:0},O={left:0,top:0},A,j={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!w)return O;for(var V in j)O[j[V]]+=parseInt(o(_,V),10)||0;return S=w.documentElement,typeof _.getBoundingClientRect!="undefined"&&(E=_.getBoundingClientRect()),A=c(_),{left:E.left+A.left-(S.clientLeft||0)+O.left,top:E.top+A.top-(S.clientTop||0)+O.top}}var o;e.document.defaultView&&e.document.defaultView.getComputedStyle?o=function(_,S){var w=e.document.defaultView.getComputedStyle(_,null);return w?w[S]:void 0}:o=function(_,S){var w=_.style[S];return!w&&_.currentStyle&&(w=_.currentStyle[S]),w},function(){var _=e.document.documentElement.style,S="userSelect"in _?"userSelect":"MozUserSelect"in _?"MozUserSelect":"WebkitUserSelect"in _?"WebkitUserSelect":"KhtmlUserSelect"in _?"KhtmlUserSelect":"";function w(O){return typeof O.onselectstart!="undefined"&&(O.onselectstart=e.util.falseFunction),S?O.style[S]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function E(O){return typeof O.onselectstart!="undefined"&&(O.onselectstart=null),S?O.style[S]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}e.util.makeElementUnselectable=w,e.util.makeElementSelectable=E}();function p(_){var S=e.jsdomImplForWrapper(_);return S._canvas||S._image}function m(_){if(!!e.isLikelyNode){var S=e.jsdomImplForWrapper(_);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function y(_,S){_.imageSmoothingEnabled=_.imageSmoothingEnabled||_.webkitImageSmoothingEnabled||_.mozImageSmoothingEnabled||_.msImageSmoothingEnabled||_.oImageSmoothingEnabled,_.imageSmoothingEnabled=S}e.util.setImageSmoothing=y,e.util.getById=i,e.util.toArray=d,e.util.addClass=a,e.util.makeElement=s,e.util.wrapElement=r,e.util.getScrollLeftTop=c,e.util.getElementOffset=g,e.util.getNodeCanvas=p,e.util.cleanUpJsdomNode=m}(),function(){function u(d,s){return d+(/\?/.test(d)?"&":"?")+s}function i(){}function h(d,s){s||(s={});var a=s.method?s.method.toUpperCase():"GET",r=s.onComplete||function(){},c=new e.window.XMLHttpRequest,g=s.body||s.parameters;return c.onreadystatechange=function(){c.readyState===4&&(r(c),c.onreadystatechange=i)},a==="GET"&&(g=null,typeof s.parameters=="string"&&(d=u(d,s.parameters))),c.open(a,d,!0),(a==="POST"||a==="PUT")&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(g),c}e.util.request=h}(),e.log=console.log,e.warn=console.warn,function(){var u=e.util.object.extend,i=e.util.object.clone,h=[];e.util.object.extend(h,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(m){m.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var m=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===p});return m.forEach(function(y){y.cancel()}),m},cancelByTarget:function(p){var m=this.findAnimationsByTarget(p);return m.forEach(function(y){y.cancel()}),m},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(m){return m.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(m){return m.target===p}):[]}});function d(){return!1}function s(p,m,y,_){return-y*Math.cos(p/_*(Math.PI/2))+y+m}function a(p){p||(p={});var m=!1,y,_=function(){var S=e.runningAnimations.indexOf(y);return S>-1&&e.runningAnimations.splice(S,1)[0]};return y=u(i(p),{cancel:function(){return m=!0,_()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(y),g(function(S){var w=S||+new Date,E=p.duration||500,O=w+E,A,j=p.onChange||d,V=p.abort||d,G=p.onComplete||d,$=p.easing||s,Q="startValue"in p?p.startValue.length>0:!1,K="startValue"in p?p.startValue:0,te="endValue"in p?p.endValue:100,re=p.byValue||(Q?K.map(function(ne,T){return te[T]-K[T]}):te-K);p.onStart&&p.onStart(),function ne(T){A=T||+new Date;var D=A>O?E:A-w,b=D/E,k=Q?K.map(function(P,x){return $(D,K[x],re[x],E)}):$(D,K,re,E),R=Math.abs(Q?(k[0]-K[0])/re[0]:(k-K)/re);if(y.currentValue=Q?k.slice():k,y.completionRate=R,y.durationRate=b,!m){if(V(k,R,b)){_();return}if(A>O){y.currentValue=Q?te.slice():te,y.completionRate=1,y.durationRate=1,j(Q?te.slice():te,1,1),G(te,1,1),_();return}else j(k,R,b),g(ne)}}(w)}),y.cancel}var r=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(p){return e.window.setTimeout(p,1e3/60)},c=e.window.cancelAnimationFrame||e.window.clearTimeout;function g(){return r.apply(e.window,arguments)}function o(){return c.apply(e.window,arguments)}e.util.animate=a,e.util.requestAnimFrame=g,e.util.cancelAnimFrame=o,e.runningAnimations=h}(),function(){function u(h,d,s){var a="rgba("+parseInt(h[0]+s*(d[0]-h[0]),10)+","+parseInt(h[1]+s*(d[1]-h[1]),10)+","+parseInt(h[2]+s*(d[2]-h[2]),10);return a+=","+(h&&d?parseFloat(h[3]+s*(d[3]-h[3])):1),a+=")",a}function i(h,d,s,a){var r=new e.Color(h).getSource(),c=new e.Color(d).getSource(),g=a.onComplete,o=a.onChange;return a=a||{},e.util.animate(e.util.object.extend(a,{duration:s||500,startValue:r,endValue:c,byValue:c,easing:function(p,m,y,_){var S=a.colorEasing?a.colorEasing(p,_):1-Math.cos(p/_*(Math.PI/2));return u(m,y,S)},onComplete:function(p,m,y){if(g)return g(u(c,c,0),m,y)},onChange:function(p,m,y){if(o){if(Array.isArray(p))return o(u(p,p,0),m,y);o(p,m,y)}}}))}e.util.animateColor=i}(),function(){function u(T,D,b,k){return T<Math.abs(D)?(T=D,k=b/4):D===0&&T===0?k=b/(2*Math.PI)*Math.asin(1):k=b/(2*Math.PI)*Math.asin(D/T),{a:T,c:D,p:b,s:k}}function i(T,D,b){return T.a*Math.pow(2,10*(D-=1))*Math.sin((D*b-T.s)*(2*Math.PI)/T.p)}function h(T,D,b,k){return b*((T=T/k-1)*T*T+1)+D}function d(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T+D:b/2*((T-=2)*T*T+2)+D}function s(T,D,b,k){return b*(T/=k)*T*T*T+D}function a(T,D,b,k){return-b*((T=T/k-1)*T*T*T-1)+D}function r(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T*T+D:-b/2*((T-=2)*T*T*T-2)+D}function c(T,D,b,k){return b*(T/=k)*T*T*T*T+D}function g(T,D,b,k){return b*((T=T/k-1)*T*T*T*T+1)+D}function o(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T*T*T+D:b/2*((T-=2)*T*T*T*T+2)+D}function p(T,D,b,k){return-b*Math.cos(T/k*(Math.PI/2))+b+D}function m(T,D,b,k){return b*Math.sin(T/k*(Math.PI/2))+D}function y(T,D,b,k){return-b/2*(Math.cos(Math.PI*T/k)-1)+D}function _(T,D,b,k){return T===0?D:b*Math.pow(2,10*(T/k-1))+D}function S(T,D,b,k){return T===k?D+b:b*(-Math.pow(2,-10*T/k)+1)+D}function w(T,D,b,k){return T===0?D:T===k?D+b:(T/=k/2,T<1?b/2*Math.pow(2,10*(T-1))+D:b/2*(-Math.pow(2,-10*--T)+2)+D)}function E(T,D,b,k){return-b*(Math.sqrt(1-(T/=k)*T)-1)+D}function O(T,D,b,k){return b*Math.sqrt(1-(T=T/k-1)*T)+D}function A(T,D,b,k){return T/=k/2,T<1?-b/2*(Math.sqrt(1-T*T)-1)+D:b/2*(Math.sqrt(1-(T-=2)*T)+1)+D}function j(T,D,b,k){var R=1.70158,P=0,x=b;if(T===0)return D;if(T/=k,T===1)return D+b;P||(P=k*.3);var L=u(x,b,P,R);return-i(L,T,k)+D}function V(T,D,b,k){var R=1.70158,P=0,x=b;if(T===0)return D;if(T/=k,T===1)return D+b;P||(P=k*.3);var L=u(x,b,P,R);return L.a*Math.pow(2,-10*T)*Math.sin((T*k-L.s)*(2*Math.PI)/L.p)+L.c+D}function G(T,D,b,k){var R=1.70158,P=0,x=b;if(T===0)return D;if(T/=k/2,T===2)return D+b;P||(P=k*(.3*1.5));var L=u(x,b,P,R);return T<1?-.5*i(L,T,k)+D:L.a*Math.pow(2,-10*(T-=1))*Math.sin((T*k-L.s)*(2*Math.PI)/L.p)*.5+L.c+D}function $(T,D,b,k,R){return R===void 0&&(R=1.70158),b*(T/=k)*T*((R+1)*T-R)+D}function Q(T,D,b,k,R){return R===void 0&&(R=1.70158),b*((T=T/k-1)*T*((R+1)*T+R)+1)+D}function K(T,D,b,k,R){return R===void 0&&(R=1.70158),T/=k/2,T<1?b/2*(T*T*(((R*=1.525)+1)*T-R))+D:b/2*((T-=2)*T*(((R*=1.525)+1)*T+R)+2)+D}function te(T,D,b,k){return b-re(k-T,0,b,k)+D}function re(T,D,b,k){return(T/=k)<1/2.75?b*(7.5625*T*T)+D:T<2/2.75?b*(7.5625*(T-=1.5/2.75)*T+.75)+D:T<2.5/2.75?b*(7.5625*(T-=2.25/2.75)*T+.9375)+D:b*(7.5625*(T-=2.625/2.75)*T+.984375)+D}function ne(T,D,b,k){return T<k/2?te(T*2,0,b,k)*.5+D:re(T*2-k,0,b,k)*.5+b*.5+D}e.util.ease={easeInQuad:function(T,D,b,k){return b*(T/=k)*T+D},easeOutQuad:function(T,D,b,k){return-b*(T/=k)*(T-2)+D},easeInOutQuad:function(T,D,b,k){return T/=k/2,T<1?b/2*T*T+D:-b/2*(--T*(T-2)-1)+D},easeInCubic:function(T,D,b,k){return b*(T/=k)*T*T+D},easeOutCubic:h,easeInOutCubic:d,easeInQuart:s,easeOutQuart:a,easeInOutQuart:r,easeInQuint:c,easeOutQuint:g,easeInOutQuint:o,easeInSine:p,easeOutSine:m,easeInOutSine:y,easeInExpo:_,easeOutExpo:S,easeInOutExpo:w,easeInCirc:E,easeOutCirc:O,easeInOutCirc:A,easeInElastic:j,easeOutElastic:V,easeInOutElastic:G,easeInBack:$,easeOutBack:Q,easeInOutBack:K,easeInBounce:te,easeOutBounce:re,easeInOutBounce:ne}}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,s=i.util.toFixed,a=i.util.parseUnit,r=i.util.multiplyTransformMatrices,c=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],o=["pattern","defs","symbol","metadata","clipPath","mask","desc"],p=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},_="font-size",S="clip-path";i.svgValidTagNamesRegEx=O(c),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(o),i.svgValidParentsRegEx=O(p),i.cssRules={},i.gradientDefs={},i.clipPaths={};function w(P){return P in m?m[P]:P}function E(P,x,L,M){var W=Array.isArray(x),I;if((P==="fill"||P==="stroke")&&x==="none")x="";else{if(P==="strokeUniform")return x==="non-scaling-stroke";if(P==="strokeDashArray")x==="none"?x=null:x=x.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")L&&L.transformMatrix?x=r(L.transformMatrix,i.parseTransformAttribute(x)):x=i.parseTransformAttribute(x);else if(P==="visible")x=x!=="none"&&x!=="hidden",L&&L.visible===!1&&(x=!1);else if(P==="opacity")x=parseFloat(x),L&&typeof L.opacity!="undefined"&&(x*=L.opacity);else if(P==="textAnchor")x=x==="start"?"left":x==="end"?"right":"center";else if(P==="charSpacing")I=a(x,M)/M*1e3;else if(P==="paintFirst"){var X=x.indexOf("fill"),q=x.indexOf("stroke"),x="fill";(X>-1&&q>-1&&q<X||X===-1&&q>-1)&&(x="stroke")}else{if(P==="href"||P==="xlink:href"||P==="font")return x;if(P==="imageSmoothing")return x==="optimizeQuality";I=W?x.map(a):a(x,M)}}return!W&&isNaN(I)?x:I}function O(P){return new RegExp("^("+P.join("|")+")\\b","i")}function A(P){for(var x in y)if(!(typeof P[y[x]]=="undefined"||P[x]==="")){if(typeof P[x]=="undefined"){if(!i.Object.prototype[x])continue;P[x]=i.Object.prototype[x]}if(P[x].indexOf("url(")!==0){var L=new i.Color(P[x]);P[x]=L.setAlpha(s(L.getAlpha()*P[y[x]],2)).toRgba()}}return P}function j(P,x){var L,M=[],W,I,X;for(I=0,X=x.length;I<X;I++)L=x[I],W=P.getElementsByTagName(L),M=M.concat(Array.prototype.slice.call(W));return M}i.parseTransformAttribute=function(){function P(H,se){var ce=i.util.cos(se[0]),he=i.util.sin(se[0]),_e=0,ge=0;se.length===3&&(_e=se[1],ge=se[2]),H[0]=ce,H[1]=he,H[2]=-he,H[3]=ce,H[4]=_e-(ce*_e-he*ge),H[5]=ge-(he*_e+ce*ge)}function x(H,se){var ce=se[0],he=se.length===2?se[1]:se[0];H[0]=ce,H[3]=he}function L(H,se,ce){H[ce]=Math.tan(i.util.degreesToRadians(se[0]))}function M(H,se){H[4]=se[0],se.length===2&&(H[5]=se[1])}var W=i.iMatrix,I=i.reNum,X=i.commaWsp,q="(?:(skewX)\\s*\\(\\s*("+I+")\\s*\\))",J="(?:(skewY)\\s*\\(\\s*("+I+")\\s*\\))",N="(?:(rotate)\\s*\\(\\s*("+I+")(?:"+X+"("+I+")"+X+"("+I+"))?\\s*\\))",F="(?:(scale)\\s*\\(\\s*("+I+")(?:"+X+"("+I+"))?\\s*\\))",U="(?:(translate)\\s*\\(\\s*("+I+")(?:"+X+"("+I+"))?\\s*\\))",z="(?:(matrix)\\s*\\(\\s*("+I+")"+X+"("+I+")"+X+"("+I+")"+X+"("+I+")"+X+"("+I+")"+X+"("+I+")\\s*\\))",B="(?:"+z+"|"+U+"|"+F+"|"+N+"|"+q+"|"+J+")",Y="(?:"+B+"(?:"+X+"*"+B+")*)",ee="^\\s*(?:"+Y+"?)\\s*$",ue=new RegExp(ee),oe=new RegExp(B,"g");return function(H){var se=W.concat(),ce=[];if(!H||H&&!ue.test(H))return se;H.replace(oe,function(_e){var ge=new RegExp(B).exec(_e).filter(function(Yt){return!!Yt}),Be=ge[1],Te=ge.slice(2).map(parseFloat);switch(Be){case"translate":M(se,Te);break;case"rotate":Te[0]=i.util.degreesToRadians(Te[0]),P(se,Te);break;case"scale":x(se,Te);break;case"skewX":L(se,Te,2);break;case"skewY":L(se,Te,1);break;case"matrix":se=Te;break}ce.push(se.concat()),se=W.concat()});for(var he=ce[0];ce.length>1;)ce.shift(),he=i.util.multiplyTransformMatrices(he,ce[0]);return he}}();function V(P,x){var L,M;P.replace(/;\s*$/,"").split(";").forEach(function(W){var I=W.split(":");L=I[0].trim().toLowerCase(),M=I[1].trim(),x[L]=M})}function G(P,x){var L,M;for(var W in P)typeof P[W]!="undefined"&&(L=W.toLowerCase(),M=P[W],x[L]=M)}function $(P,x){var L={};for(var M in i.cssRules[x])if(Q(P,M.split(" ")))for(var W in i.cssRules[x][M])L[W]=i.cssRules[x][M][W];return L}function Q(P,x){var L,M=!0;return L=te(P,x.pop()),L&&x.length&&(M=K(P,x)),L&&M&&x.length===0}function K(P,x){for(var L,M=!0;P.parentNode&&P.parentNode.nodeType===1&&x.length;)M&&(L=x.pop()),P=P.parentNode,M=te(P,L);return x.length===0}function te(P,x){var L=P.nodeName,M=P.getAttribute("class"),W=P.getAttribute("id"),I,X;if(I=new RegExp("^"+L,"i"),x=x.replace(I,""),W&&x.length&&(I=new RegExp("#"+W+"(?![a-zA-Z\\-]+)","i"),x=x.replace(I,"")),M&&x.length)for(M=M.split(" "),X=M.length;X--;)I=new RegExp("\\."+M[X]+"(?![a-zA-Z\\-]+)","i"),x=x.replace(I,"");return x.length===0}function re(P,x){var L;if(P.getElementById&&(L=P.getElementById(x)),L)return L;var M,W,I,X=P.getElementsByTagName("*");for(W=0,I=X.length;W<I;W++)if(M=X[W],x===M.getAttribute("id"))return M}function ne(P){for(var x=j(P,["use","svg:use"]),L=0;x.length&&L<x.length;){var M=x[L],W=M.getAttribute("xlink:href")||M.getAttribute("href");if(W===null)return;var I=W.slice(1),X=M.getAttribute("x")||0,q=M.getAttribute("y")||0,J=re(P,I).cloneNode(!0),N=(J.getAttribute("transform")||"")+" translate("+X+", "+q+")",F,U=x.length,z,B,Y,ee,ue=i.svgNS;if(D(J),/^svg$/i.test(J.nodeName)){var oe=J.ownerDocument.createElementNS(ue,"g");for(B=0,Y=J.attributes,ee=Y.length;B<ee;B++)z=Y.item(B),oe.setAttributeNS(ue,z.nodeName,z.nodeValue);for(;J.firstChild;)oe.appendChild(J.firstChild);J=oe}for(B=0,Y=M.attributes,ee=Y.length;B<ee;B++)z=Y.item(B),!(z.nodeName==="x"||z.nodeName==="y"||z.nodeName==="xlink:href"||z.nodeName==="href")&&(z.nodeName==="transform"?N=z.nodeValue+" "+N:J.setAttribute(z.nodeName,z.nodeValue));J.setAttribute("transform",N),J.setAttribute("instantiated_by_use","1"),J.removeAttribute("id"),F=M.parentNode,F.replaceChild(J,M),x.length===U&&L++}}var T=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(P){if(!i.svgViewBoxElementsRegEx.test(P.nodeName))return{};var x=P.getAttribute("viewBox"),L=1,M=1,W=0,I=0,X,q,J,N,F=P.getAttribute("width"),U=P.getAttribute("height"),z=P.getAttribute("x")||0,B=P.getAttribute("y")||0,Y=P.getAttribute("preserveAspectRatio")||"",ee=!x||!(x=x.match(T)),ue=!F||!U||F==="100%"||U==="100%",oe=ee&&ue,H={},se="",ce=0,he=0;if(H.width=0,H.height=0,H.toBeParsed=oe,ee&&(z||B)&&P.parentNode&&P.parentNode.nodeName!=="#document"&&(se=" translate("+a(z)+" "+a(B)+") ",J=(P.getAttribute("transform")||"")+se,P.setAttribute("transform",J),P.removeAttribute("x"),P.removeAttribute("y")),oe)return H;if(ee)return H.width=a(F),H.height=a(U),H;if(W=-parseFloat(x[1]),I=-parseFloat(x[2]),X=parseFloat(x[3]),q=parseFloat(x[4]),H.minX=W,H.minY=I,H.viewBoxWidth=X,H.viewBoxHeight=q,ue?(H.width=X,H.height=q):(H.width=a(F),H.height=a(U),L=H.width/X,M=H.height/q),Y=i.util.parsePreserveAspectRatioAttribute(Y),Y.alignX!=="none"&&(Y.meetOrSlice==="meet"&&(M=L=L>M?M:L),Y.meetOrSlice==="slice"&&(M=L=L>M?L:M),ce=H.width-X*L,he=H.height-q*L,Y.alignX==="Mid"&&(ce/=2),Y.alignY==="Mid"&&(he/=2),Y.alignX==="Min"&&(ce=0),Y.alignY==="Min"&&(he=0)),L===1&&M===1&&W===0&&I===0&&z===0&&B===0)return H;if((z||B)&&P.parentNode.nodeName!=="#document"&&(se=" translate("+a(z)+" "+a(B)+") "),J=se+" matrix("+L+" 0 0 "+M+" "+(W*L+ce)+" "+(I*M+he)+") ",P.nodeName==="svg"){for(N=P.ownerDocument.createElementNS(i.svgNS,"g");P.firstChild;)N.appendChild(P.firstChild);P.appendChild(N)}else N=P,N.removeAttribute("x"),N.removeAttribute("y"),J=N.getAttribute("transform")+J;return N.setAttribute("transform",J),H}function b(P,x){for(;P&&(P=P.parentNode);)if(P.nodeName&&x.test(P.nodeName.replace("svg:",""))&&!P.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(P,x,L,M){if(!!P){ne(P);var W=i.Object.__uid++,I,X,q=D(P),J=i.util.toArray(P.getElementsByTagName("*"));if(q.crossOrigin=M&&M.crossOrigin,q.svgUid=W,J.length===0&&i.isLikelyNode){J=P.selectNodes('//*[name(.)!="svg"]');var N=[];for(I=0,X=J.length;I<X;I++)N[I]=J[I];J=N}var F=J.filter(function(z){return D(z),i.svgValidTagNamesRegEx.test(z.nodeName.replace("svg:",""))&&!b(z,i.svgInvalidAncestorsRegEx)});if(!F||F&&!F.length){x&&x([],{});return}var U={};J.filter(function(z){return z.nodeName.replace("svg:","")==="clipPath"}).forEach(function(z){var B=z.getAttribute("id");U[B]=i.util.toArray(z.getElementsByTagName("*")).filter(function(Y){return i.svgValidTagNamesRegEx.test(Y.nodeName.replace("svg:",""))})}),i.gradientDefs[W]=i.getGradientDefs(P),i.cssRules[W]=i.getCSSRules(P),i.clipPaths[W]=U,i.parseElements(F,function(z,B){x&&(x(z,q,B,J),delete i.gradientDefs[W],delete i.cssRules[W],delete i.clipPaths[W])},d(q),L,M)}};function k(P,x){var L=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",W=x.getAttribute(M).slice(1),I=re(P,W);if(I&&I.getAttribute(M)&&k(P,I),L.forEach(function(q){I&&!x.hasAttribute(q)&&I.hasAttribute(q)&&x.setAttribute(q,I.getAttribute(q))}),!x.children.length)for(var X=I.cloneNode(!0);X.firstChild;)x.appendChild(X.firstChild);x.removeAttribute(M)}var R=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(P,x){var L=P.match(R);if(!!L){var M=L[1],W=L[3],I=L[4],X=L[5],q=L[6];M&&(x.fontStyle=M),W&&(x.fontWeight=isNaN(parseFloat(W))?W:parseFloat(W)),I&&(x.fontSize=a(I)),q&&(x.fontFamily=q),X&&(x.lineHeight=X==="normal"?1:X)}},getGradientDefs:function(P){var x=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],L=j(P,x),M,W=0,I={};for(W=L.length;W--;)M=L[W],M.getAttribute("xlink:href")&&k(P,M),I[M.getAttribute("id")]=M;return I},parseAttributes:function(P,x,L){if(!!P){var M,W={},I,X;typeof L=="undefined"&&(L=P.getAttribute("svgUid")),P.parentNode&&i.svgValidParentsRegEx.test(P.parentNode.nodeName)&&(W=i.parseAttributes(P.parentNode,x,L));var q=x.reduce(function(Y,ee){return M=P.getAttribute(ee),M&&(Y[ee]=M),Y},{}),J=h($(P,L),i.parseStyleAttribute(P));q=h(q,J),J[S]&&P.setAttribute(S,J[S]),I=X=W.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,q[_]&&(q[_]=I=a(q[_],X));var N,F,U={};for(var z in q)N=w(z),F=E(N,q[z],W,I),U[N]=F;U&&U.font&&i.parseFontDeclaration(U.font,U);var B=h(W,U);return i.svgValidParentsRegEx.test(P.nodeName)?B:A(B)}},parseElements:function(P,x,L,M,W){new i.ElementsParser(P,x,L,M,W).parse()},parseStyleAttribute:function(P){var x={},L=P.getAttribute("style");return L&&(typeof L=="string"?V(L,x):G(L,x)),x},parsePointsAttribute:function(P){if(!P)return null;P=P.replace(/,/g," ").trim(),P=P.split(/\s+/);var x=[],L,M;for(L=0,M=P.length;L<M;L+=2)x.push({x:parseFloat(P[L]),y:parseFloat(P[L+1])});return x},getCSSRules:function(P){var x=P.getElementsByTagName("style"),L,M,W={},I;for(L=0,M=x.length;L<M;L++){var X=x[L].textContent;X=X.replace(/\/\*[\s\S]*?\*\//g,""),X.trim()!==""&&(I=X.split("}"),I=I.filter(function(q){return q.trim()}),I.forEach(function(q){var J=q.split("{"),N={},F=J[1].trim(),U=F.split(";").filter(function(ee){return ee.trim()});for(L=0,M=U.length;L<M;L++){var z=U[L].split(":"),B=z[0].trim(),Y=z[1].trim();N[B]=Y}q=J[0].trim(),q.split(",").forEach(function(ee){ee=ee.replace(/^svg/i,"").trim(),ee!==""&&(W[ee]?i.util.object.extend(W[ee],N):W[ee]=i.util.object.clone(N))})}))}return W},loadSVGFromURL:function(P,x,L,M){P=P.replace(/^\n\s*/,"").trim(),new i.util.request(P,{method:"get",onComplete:W});function W(I){var X=I.responseXML;if(!X||!X.documentElement)return x&&x(null),!1;i.parseSVGDocument(X.documentElement,function(q,J,N,F){x&&x(q,J,N,F)},L,M)}},loadSVGFromString:function(P,x,L,M){var W=new i.window.DOMParser,I=W.parseFromString(P.trim(),"text/xml");i.parseSVGDocument(I.documentElement,function(X,q,J,N){x(X,q,J,N)},L,M)}})}(t),e.ElementsParser=function(u,i,h,d,s,a){this.elements=u,this.callback=i,this.options=h,this.reviver=d,this.svgUid=h&&h.svgUid||0,this.parsingOptions=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},function(u){u.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},u.createObjects=function(){var i=this;this.elements.forEach(function(h,d){h.setAttribute("svgUid",i.svgUid),i.createObject(h,d)})},u.findTag=function(i){return e[e.util.string.capitalize(i.tagName.replace("svg:",""))]},u.createObject=function(i,h){var d=this.findTag(i);if(d&&d.fromElement)try{d.fromElement(i,this.createCallback(h,i),this.options)}catch(s){e.log(s)}else this.checkIfDone()},u.createCallback=function(i,h){var d=this;return function(s){var a;d.resolveGradient(s,h,"fill"),d.resolveGradient(s,h,"stroke"),s instanceof e.Image&&s._originalElement&&(a=s.parsePreserveAspectRatioAttribute(h)),s._removeTransformMatrix(a),d.resolveClipPath(s,h),d.reviver&&d.reviver(h,s),d.instances[i]=s,d.checkIfDone()}},u.extractPropertyDefinition=function(i,h,d){var s=i[h],a=this.regexUrl;if(!!a.test(s)){a.lastIndex=0;var r=a.exec(s)[1];return a.lastIndex=0,e[d][this.svgUid][r]}},u.resolveGradient=function(i,h,d){var s=this.extractPropertyDefinition(i,d,"gradientDefs");if(s){var a=h.getAttribute(d+"-opacity"),r=e.Gradient.fromElement(s,i,a,this.options);i.set(d,r)}},u.createClipPathCallback=function(i,h){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,h.push(d)}},u.resolveClipPath=function(i,h){var d=this.extractPropertyDefinition(i,"clipPath","clipPaths"),s,a,r,c,g,o;if(d){c=[],r=e.util.invertTransform(i.calcTransformMatrix());for(var p=d[0].parentNode,m=h;m.parentNode&&m.getAttribute("clip-path")!==i.clipPath;)m=m.parentNode;m.parentNode.appendChild(p);for(var y=0;y<d.length;y++)s=d[y],a=this.findTag(s),a.fromElement(s,this.createClipPathCallback(i,c),this.options);c.length===1?d=c[0]:d=new e.Group(c),g=e.util.multiplyTransformMatrices(r,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,m);var o=e.util.qrDecompose(g);d.flipX=!1,d.flipY=!1,d.set("scaleX",o.scaleX),d.set("scaleY",o.scaleY),d.angle=o.angle,d.skewX=o.skewX,d.skewY=0,d.setPositionByOrigin({x:o.translateX,y:o.translateY},"center","center"),i.clipPath=d}else delete i.clipPath},u.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(u){var i=u.fabric||(u.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(d,s){this.x=d,this.y=s}h.prototype={type:"point",constructor:h,add:function(d){return new h(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new h(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new h(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new h(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new h(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new h(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,s){return typeof s=="undefined"&&(s=.5),s=Math.max(Math.min(1,s),0),new h(this.x+(d.x-this.x)*s,this.y+(d.y-this.y)*s)},distanceFrom:function(d){var s=this.x-d.x,a=this.y-d.y;return Math.sqrt(s*s+a*a)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new h(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new h(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,s){return this.x=d,this.y=s,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var s=this.x,a=this.y;this.x=d.x,this.y=d.y,d.x=s,d.y=a},clone:function(){return new h(this.x,this.y)}}}(t),function(u){var i=u.fabric||(u.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(d){this.status=d,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},i.Intersection.intersectLineLine=function(d,s,a,r){var c,g=(r.x-a.x)*(d.y-a.y)-(r.y-a.y)*(d.x-a.x),o=(s.x-d.x)*(d.y-a.y)-(s.y-d.y)*(d.x-a.x),p=(r.y-a.y)*(s.x-d.x)-(r.x-a.x)*(s.y-d.y);if(p!==0){var m=g/p,y=o/p;0<=m&&m<=1&&0<=y&&y<=1?(c=new h("Intersection"),c.appendPoint(new i.Point(d.x+m*(s.x-d.x),d.y+m*(s.y-d.y)))):c=new h}else g===0||o===0?c=new h("Coincident"):c=new h("Parallel");return c},i.Intersection.intersectLinePolygon=function(d,s,a){var r=new h,c=a.length,g,o,p,m;for(m=0;m<c;m++)g=a[m],o=a[(m+1)%c],p=h.intersectLineLine(d,s,g,o),r.appendPoints(p.points);return r.points.length>0&&(r.status="Intersection"),r},i.Intersection.intersectPolygonPolygon=function(d,s){var a=new h,r=d.length,c;for(c=0;c<r;c++){var g=d[c],o=d[(c+1)%r],p=h.intersectLinePolygon(g,o,s);a.appendPoints(p.points)}return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonRectangle=function(d,s,a){var r=s.min(a),c=s.max(a),g=new i.Point(c.x,r.y),o=new i.Point(r.x,c.y),p=h.intersectLinePolygon(r,g,d),m=h.intersectLinePolygon(g,c,d),y=h.intersectLinePolygon(c,o,d),_=h.intersectLinePolygon(o,r,d),S=new h;return S.appendPoints(p.points),S.appendPoints(m.points),S.appendPoints(y.points),S.appendPoints(_.points),S.points.length>0&&(S.status="Intersection"),S}}(t),function(u){var i=u.fabric||(u.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(s){s?this._tryParsingColor(s):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(s){var a;s in h.colorNameMap&&(s=h.colorNameMap[s]),s==="transparent"&&(a=[255,255,255,0]),a||(a=h.sourceFromHex(s)),a||(a=h.sourceFromRgb(s)),a||(a=h.sourceFromHsl(s)),a||(a=[0,0,0,1]),a&&this.setSource(a)},_rgbToHsl:function(s,a,r){s/=255,a/=255,r/=255;var c,g,o,p=i.util.array.max([s,a,r]),m=i.util.array.min([s,a,r]);if(o=(p+m)/2,p===m)c=g=0;else{var y=p-m;switch(g=o>.5?y/(2-p-m):y/(p+m),p){case s:c=(a-r)/y+(a<r?6:0);break;case a:c=(r-s)/y+2;break;case r:c=(s-a)/y+4;break}c/=6}return[Math.round(c*360),Math.round(g*100),Math.round(o*100)]},getSource:function(){return this._source},setSource:function(s){this._source=s},toRgb:function(){var s=this.getSource();return"rgb("+s[0]+","+s[1]+","+s[2]+")"},toRgba:function(){var s=this.getSource();return"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"},toHsl:function(){var s=this.getSource(),a=this._rgbToHsl(s[0],s[1],s[2]);return"hsl("+a[0]+","+a[1]+"%,"+a[2]+"%)"},toHsla:function(){var s=this.getSource(),a=this._rgbToHsl(s[0],s[1],s[2]);return"hsla("+a[0]+","+a[1]+"%,"+a[2]+"%,"+s[3]+")"},toHex:function(){var s=this.getSource(),a,r,c;return a=s[0].toString(16),a=a.length===1?"0"+a:a,r=s[1].toString(16),r=r.length===1?"0"+r:r,c=s[2].toString(16),c=c.length===1?"0"+c:c,a.toUpperCase()+r.toUpperCase()+c.toUpperCase()},toHexa:function(){var s=this.getSource(),a;return a=Math.round(s[3]*255),a=a.toString(16),a=a.length===1?"0"+a:a,this.toHex()+a.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(s){var a=this.getSource();return a[3]=s,this.setSource(a),this},toGrayscale:function(){var s=this.getSource(),a=parseInt((s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),10),r=s[3];return this.setSource([a,a,a,r]),this},toBlackWhite:function(s){var a=this.getSource(),r=(a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),c=a[3];return s=s||127,r=Number(r)<Number(s)?0:255,this.setSource([r,r,r,c]),this},overlayWith:function(s){s instanceof h||(s=new h(s));var a=[],r=this.getAlpha(),c=.5,g=this.getSource(),o=s.getSource(),p;for(p=0;p<3;p++)a.push(Math.round(g[p]*(1-c)+o[p]*c));return a[3]=r,this.setSource(a),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(s,a,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?s+(a-s)*6*r:r<1/2?a:r<2/3?s+(a-s)*(2/3-r)*6:s}i.Color.fromRgb=function(s){return h.fromSource(h.sourceFromRgb(s))},i.Color.sourceFromRgb=function(s){var a=s.match(h.reRGBa);if(a){var r=parseInt(a[1],10)/(/%$/.test(a[1])?100:1)*(/%$/.test(a[1])?255:1),c=parseInt(a[2],10)/(/%$/.test(a[2])?100:1)*(/%$/.test(a[2])?255:1),g=parseInt(a[3],10)/(/%$/.test(a[3])?100:1)*(/%$/.test(a[3])?255:1);return[parseInt(r,10),parseInt(c,10),parseInt(g,10),a[4]?parseFloat(a[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(s){return h.fromSource(h.sourceFromHsl(s))},i.Color.sourceFromHsl=function(s){var a=s.match(h.reHSLa);if(!!a){var r=(parseFloat(a[1])%360+360)%360/360,c=parseFloat(a[2])/(/%$/.test(a[2])?100:1),g=parseFloat(a[3])/(/%$/.test(a[3])?100:1),o,p,m;if(c===0)o=p=m=g;else{var y=g<=.5?g*(c+1):g+c-g*c,_=g*2-y;o=d(_,y,r+1/3),p=d(_,y,r),m=d(_,y,r-1/3)}return[Math.round(o*255),Math.round(p*255),Math.round(m*255),a[4]?parseFloat(a[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(s){return h.fromSource(h.sourceFromHex(s))},i.Color.sourceFromHex=function(s){if(s.match(h.reHex)){var a=s.slice(s.indexOf("#")+1),r=a.length===3||a.length===4,c=a.length===8||a.length===4,g=r?a.charAt(0)+a.charAt(0):a.substring(0,2),o=r?a.charAt(1)+a.charAt(1):a.substring(2,4),p=r?a.charAt(2)+a.charAt(2):a.substring(4,6),m=c?r?a.charAt(3)+a.charAt(3):a.substring(6,8):"FF";return[parseInt(g,16),parseInt(o,16),parseInt(p,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},i.Color.fromSource=function(s){var a=new h;return a.setSource(s),a}}(t),function(u){var i=u.fabric||(u.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],s={},a="left",r="top",c="right",g="bottom",o="center",p={top:g,bottom:r,left:c,right:a,center:o},m=i.util.radiansToDegrees,y=Math.sign||function(N){return(N>0)-(N<0)||+N};function _(N,F){var U=N.angle+m(Math.atan2(F.y,F.x))+360;return Math.round(U%360/45)}function S(N,F){var U=F.transform.target,z=U.canvas,B=i.util.object.clone(F);B.target=U,z&&z.fire("object:"+N,B),U.fire(N,F)}function w(N,F){var U=F.canvas,z=U.uniScaleKey,B=N[z];return U.uniformScaling&&!B||!U.uniformScaling&&B}function E(N){return N.originX===o&&N.originY===o}function O(N,F,U){var z=N.lockScalingX,B=N.lockScalingY;return!!(z&&B||!F&&(z||B)&&U||z&&F==="x"||B&&F==="y")}function A(N,F,U){var z="not-allowed",B=w(N,U),Y="";if(F.x!==0&&F.y===0?Y="x":F.x===0&&F.y!==0&&(Y="y"),O(U,Y,B))return z;var ee=_(U,F);return h[ee]+"-resize"}function j(N,F,U){var z="not-allowed";if(F.x!==0&&U.lockSkewingY||F.y!==0&&U.lockSkewingX)return z;var B=_(U,F)%4;return d[B]+"-resize"}function V(N,F,U){return N[U.canvas.altActionKey]?s.skewCursorStyleHandler(N,F,U):s.scaleCursorStyleHandler(N,F,U)}function G(N,F,U){var z=N[U.canvas.altActionKey];if(F.x===0)return z?"skewX":"scaleY";if(F.y===0)return z?"skewY":"scaleX"}function $(N,F,U){return U.lockRotation?"not-allowed":F.cursorStyle}function Q(N,F,U,z){return{e:N,transform:F,pointer:{x:U,y:z}}}function K(N){return function(F,U,z,B){var Y=U.target,ee=Y.getCenterPoint(),ue=Y.translateToOriginPoint(ee,U.originX,U.originY),oe=N(F,U,z,B);return Y.setPositionByOrigin(ue,U.originX,U.originY),oe}}function te(N,F){return function(U,z,B,Y){var ee=F(U,z,B,Y);return ee&&S(N,Q(U,z,B,Y)),ee}}function re(N,F,U,z,B){var Y=N.target,ee=Y.controls[N.corner],ue=Y.canvas.getZoom(),oe=Y.padding/ue,H=Y.toLocalPoint(new i.Point(z,B),F,U);return H.x>=oe&&(H.x-=oe),H.x<=-oe&&(H.x+=oe),H.y>=oe&&(H.y-=oe),H.y<=oe&&(H.y+=oe),H.x-=ee.offsetX,H.y-=ee.offsetY,H}function ne(N){return N.flipX!==N.flipY}function T(N,F,U,z,B){if(N[F]!==0){var Y=N._getTransformedDimensions()[z],ee=B/Y*N[U];N.set(U,ee)}}function D(N,F,U,z){var B=F.target,Y=B._getTransformedDimensions(0,B.skewY),ee=re(F,F.originX,F.originY,U,z),ue=Math.abs(ee.x*2)-Y.x,oe=B.skewX,H;ue<2?H=0:(H=m(Math.atan2(ue/B.scaleX,Y.y/B.scaleY)),F.originX===a&&F.originY===g&&(H=-H),F.originX===c&&F.originY===r&&(H=-H),ne(B)&&(H=-H));var se=oe!==H;if(se){var ce=B._getTransformedDimensions().y;B.set("skewX",H),T(B,"skewY","scaleY","y",ce)}return se}function b(N,F,U,z){var B=F.target,Y=B._getTransformedDimensions(B.skewX,0),ee=re(F,F.originX,F.originY,U,z),ue=Math.abs(ee.y*2)-Y.y,oe=B.skewY,H;ue<2?H=0:(H=m(Math.atan2(ue/B.scaleY,Y.x/B.scaleX)),F.originX===a&&F.originY===g&&(H=-H),F.originX===c&&F.originY===r&&(H=-H),ne(B)&&(H=-H));var se=oe!==H;if(se){var ce=B._getTransformedDimensions().x;B.set("skewY",H),T(B,"skewX","scaleX","x",ce)}return se}function k(N,F,U,z){var B=F.target,Y=B.skewX,ee,ue=F.originY;if(B.lockSkewingX)return!1;if(Y===0){var oe=re(F,o,o,U,z);oe.x>0?ee=a:ee=c}else Y>0&&(ee=ue===r?a:c),Y<0&&(ee=ue===r?c:a),ne(B)&&(ee=ee===a?c:a);F.originX=ee;var H=te("skewing",K(D));return H(N,F,U,z)}function R(N,F,U,z){var B=F.target,Y=B.skewY,ee,ue=F.originX;if(B.lockSkewingY)return!1;if(Y===0){var oe=re(F,o,o,U,z);oe.y>0?ee=r:ee=g}else Y>0&&(ee=ue===a?r:g),Y<0&&(ee=ue===a?g:r),ne(B)&&(ee=ee===r?g:r);F.originY=ee;var H=te("skewing",K(b));return H(N,F,U,z)}function P(N,F,U,z){var B=F,Y=B.target,ee=Y.translateToOriginPoint(Y.getCenterPoint(),B.originX,B.originY);if(Y.lockRotation)return!1;var ue=Math.atan2(B.ey-ee.y,B.ex-ee.x),oe=Math.atan2(z-ee.y,U-ee.x),H=m(oe-ue+B.theta),se=!0;if(Y.snapAngle>0){var ce=Y.snapAngle,he=Y.snapThreshold||ce,_e=Math.ceil(H/ce)*ce,ge=Math.floor(H/ce)*ce;Math.abs(H-ge)<he?H=ge:Math.abs(H-_e)<he&&(H=_e)}return H<0&&(H=360+H),H%=360,se=Y.angle!==H,Y.angle=H,se}function x(N,F,U,z,B){B=B||{};var Y=F.target,ee=Y.lockScalingX,ue=Y.lockScalingY,oe=B.by,H,se,ce,he,_e=w(N,Y),ge=O(Y,oe,_e),Be,Te,Yt=F.gestureScale;if(ge)return!1;if(Yt)se=F.scaleX*Yt,ce=F.scaleY*Yt;else{if(H=re(F,F.originX,F.originY,U,z),Be=oe!=="y"?y(H.x):1,Te=oe!=="x"?y(H.y):1,F.signX||(F.signX=Be),F.signY||(F.signY=Te),Y.lockScalingFlip&&(F.signX!==Be||F.signY!==Te))return!1;if(he=Y._getTransformedDimensions(),_e&&!oe){var qn=Math.abs(H.x)+Math.abs(H.y),ot=F.original,uh=Math.abs(he.x*ot.scaleX/Y.scaleX)+Math.abs(he.y*ot.scaleY/Y.scaleY),ol=qn/uh;se=ot.scaleX*ol,ce=ot.scaleY*ol}else se=Math.abs(H.x*Y.scaleX/he.x),ce=Math.abs(H.y*Y.scaleY/he.y);E(F)&&(se*=2,ce*=2),F.signX!==Be&&oe!=="y"&&(F.originX=p[F.originX],se*=-1,F.signX=Be),F.signY!==Te&&oe!=="x"&&(F.originY=p[F.originY],ce*=-1,F.signY=Te)}var ch=Y.scaleX,fh=Y.scaleY;return oe?(oe==="x"&&Y.set("scaleX",se),oe==="y"&&Y.set("scaleY",ce)):(!ee&&Y.set("scaleX",se),!ue&&Y.set("scaleY",ce)),ch!==Y.scaleX||fh!==Y.scaleY}function L(N,F,U,z){return x(N,F,U,z)}function M(N,F,U,z){return x(N,F,U,z,{by:"x"})}function W(N,F,U,z){return x(N,F,U,z,{by:"y"})}function I(N,F,U,z){return N[F.target.canvas.altActionKey]?s.skewHandlerX(N,F,U,z):s.scalingY(N,F,U,z)}function X(N,F,U,z){return N[F.target.canvas.altActionKey]?s.skewHandlerY(N,F,U,z):s.scalingX(N,F,U,z)}function q(N,F,U,z){var B=F.target,Y=re(F,F.originX,F.originY,U,z),ee=B.strokeWidth/(B.strokeUniform?B.scaleX:1),ue=E(F)?2:1,oe=B.width,H=Math.abs(Y.x*ue/B.scaleX)-ee;return B.set("width",Math.max(H,0)),oe!==H}function J(N,F,U,z){var B=F.target,Y=U-F.offsetX,ee=z-F.offsetY,ue=!B.get("lockMovementX")&&B.left!==Y,oe=!B.get("lockMovementY")&&B.top!==ee;return ue&&B.set("left",Y),oe&&B.set("top",ee),(ue||oe)&&S("moving",Q(N,F,U,z)),ue||oe}s.scaleCursorStyleHandler=A,s.skewCursorStyleHandler=j,s.scaleSkewCursorStyleHandler=V,s.rotationWithSnapping=te("rotating",K(P)),s.scalingEqually=te("scaling",K(L)),s.scalingX=te("scaling",K(M)),s.scalingY=te("scaling",K(W)),s.scalingYOrSkewingX=I,s.scalingXOrSkewingY=X,s.changeWidth=te("resizing",K(q)),s.skewHandlerX=k,s.skewHandlerY=R,s.dragHandler=J,s.scaleOrSkewActionName=G,s.rotationStyleHandler=$,s.fireEvent=S,s.wrapWithFixedAnchor=K,s.wrapWithFireEvent=te,s.getLocalPoint=re,i.controlsUtils=s}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians,d=i.controlsUtils;function s(r,c,g,o,p){o=o||{};var m=this.sizeX||o.cornerSize||p.cornerSize,y=this.sizeY||o.cornerSize||p.cornerSize,_=typeof o.transparentCorners!="undefined"?o.transparentCorners:p.transparentCorners,S=_?"stroke":"fill",w=!_&&(o.cornerStrokeColor||p.cornerStrokeColor),E=c,O=g,A;r.save(),r.fillStyle=o.cornerColor||p.cornerColor,r.strokeStyle=o.cornerStrokeColor||p.cornerStrokeColor,m>y?(A=m,r.scale(1,y/m),O=g*m/y):y>m?(A=y,r.scale(m/y,1),E=c*y/m):A=m,r.lineWidth=1,r.beginPath(),r.arc(E,O,A/2,0,2*Math.PI,!1),r[S](),w&&r.stroke(),r.restore()}function a(r,c,g,o,p){o=o||{};var m=this.sizeX||o.cornerSize||p.cornerSize,y=this.sizeY||o.cornerSize||p.cornerSize,_=typeof o.transparentCorners!="undefined"?o.transparentCorners:p.transparentCorners,S=_?"stroke":"fill",w=!_&&(o.cornerStrokeColor||p.cornerStrokeColor),E=m/2,O=y/2;r.save(),r.fillStyle=o.cornerColor||p.cornerColor,r.strokeStyle=o.cornerStrokeColor||p.cornerStrokeColor,r.lineWidth=1,r.translate(c,g),r.rotate(h(p.angle)),r[S+"Rect"](-E,-O,m,y),w&&r.strokeRect(-E,-O,m,y),r.restore()}d.renderCircleControl=s,d.renderSquareControl=a}(t),function(u){var i=u.fabric||(u.fabric={});function h(d){for(var s in d)this[s]=d[s]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,s){return s.cursorStyle},getActionName:function(d,s){return s.actionName},getVisibility:function(d,s){var a=d._controlsVisibility;return a&&typeof a[s]!="undefined"?a[s]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,s){var a=i.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},s);return a},calcCornerCoords:function(d,s,a,r,c){var g,o,p,m,y=c?this.touchSizeX:this.sizeX,_=c?this.touchSizeY:this.sizeY;if(y&&_&&y!==_){var S=Math.atan2(_,y),w=Math.sqrt(y*y+_*_)/2,E=S-i.util.degreesToRadians(d),O=Math.PI/2-S-i.util.degreesToRadians(d);g=w*i.util.cos(E),o=w*i.util.sin(E),p=w*i.util.cos(O),m=w*i.util.sin(O)}else{var A=y&&_?y:s;w=A*.7071067812;var E=i.util.degreesToRadians(45-d);g=p=w*i.util.cos(E),o=m=w*i.util.sin(E)}return{tl:{x:a-m,y:r-p},tr:{x:a+g,y:r-o},bl:{x:a-g,y:r+o},br:{x:a+m,y:r+p}}},render:function(d,s,a,r,c){switch(r=r||{},r.cornerStyle||c.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,d,s,a,r,c);break;default:i.controlsUtils.renderSquareControl.call(this,d,s,a,r,c)}}}}(t),function(){function u(a,r){var c=a.getAttribute("style"),g=a.getAttribute("offset")||0,o,p,m,y;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,c){var _=c.split(/\s*;\s*/);for(_[_.length-1]===""&&_.pop(),y=_.length;y--;){var S=_[y].split(/\s*:\s*/),w=S[0].trim(),E=S[1].trim();w==="stop-color"?o=E:w==="stop-opacity"&&(m=E)}}return o||(o=a.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=a.getAttribute("stop-opacity")),o=new e.Color(o),p=o.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=p*r,{offset:g,color:o.toRgb(),opacity:m}}function i(a){return{x1:a.getAttribute("x1")||0,y1:a.getAttribute("y1")||0,x2:a.getAttribute("x2")||"100%",y2:a.getAttribute("y2")||0}}function h(a){return{x1:a.getAttribute("fx")||a.getAttribute("cx")||"50%",y1:a.getAttribute("fy")||a.getAttribute("cy")||"50%",r1:0,x2:a.getAttribute("cx")||"50%",y2:a.getAttribute("cy")||"50%",r2:a.getAttribute("r")||"50%"}}var d=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(a){a||(a={}),a.coords||(a.coords={});var r,c=this;Object.keys(a).forEach(function(g){c[g]=a[g]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,r={x1:a.coords.x1||0,y1:a.coords.y1||0,x2:a.coords.x2||0,y2:a.coords.y2||0},this.type==="radial"&&(r.r1=a.coords.r1||0,r.r2=a.coords.r2||0),this.coords=r,this.colorStops=a.colorStops.slice()},addColorStop:function(a){for(var r in a){var c=new e.Color(a[r]);this.colorStops.push({offset:parseFloat(r),color:c.toRgb(),opacity:c.getAlpha()})}return this},toObject:function(a){var r={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,r,a),r},toSVG:function(a,p){var c=d(this.coords,!0),g,o,p=p||{},m,y,_=d(this.colorStops,!0),S=c.r1>c.r2,w=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),E=-this.offsetX,O=-this.offsetY,A=!!p.additionalTransform,j=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(_.sort(function(K,te){return K.offset-te.offset}),j==="objectBoundingBox"?(E/=a.width,O/=a.height):(E+=a.width/2,O+=a.height/2),a.type==="path"&&this.gradientUnits!=="percentage"&&(E-=a.pathOffset.x,O-=a.pathOffset.y),w[4]-=E,w[5]-=O,y='id="SVGID_'+this.id+'" gradientUnits="'+j+'"',y+=' gradientTransform="'+(A?p.additionalTransform+" ":"")+e.util.matrixToSVG(w)+'" ',this.type==="linear"?m=["<linearGradient ",y,' x1="',c.x1,'" y1="',c.y1,'" x2="',c.x2,'" y2="',c.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",y,' cx="',S?c.x1:c.x2,'" cy="',S?c.y1:c.y2,'" r="',S?c.r1:c.r2,'" fx="',S?c.x2:c.x1,'" fy="',S?c.y2:c.y1,`">
`]),this.type==="radial"){if(S)for(_=_.concat(),_.reverse(),g=0,o=_.length;g<o;g++)_[g].offset=1-_[g].offset;var V=Math.min(c.r1,c.r2);if(V>0){var G=Math.max(c.r1,c.r2),$=V/G;for(g=0,o=_.length;g<o;g++)_[g].offset+=$*(1-_[g].offset)}}for(g=0,o=_.length;g<o;g++){var Q=_[g];m.push("<stop ",'offset="',Q.offset*100+"%",'" style="stop-color:',Q.color,typeof Q.opacity!="undefined"?";stop-opacity: "+Q.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(a){var r,c=e.util.object.clone(this.coords),g,o;if(!!this.type){for(this.type==="linear"?r=a.createLinearGradient(c.x1,c.y1,c.x2,c.y2):this.type==="radial"&&(r=a.createRadialGradient(c.x1,c.y1,c.r1,c.x2,c.y2,c.r2)),g=0,o=this.colorStops.length;g<o;g++){var p=this.colorStops[g].color,m=this.colorStops[g].opacity,y=this.colorStops[g].offset;typeof m!="undefined"&&(p=new e.Color(p).setAlpha(m).toRgba()),r.addColorStop(y,p)}return r}}}),e.util.object.extend(e.Gradient,{fromElement:function(a,r,c,g){var o=parseFloat(c)/(/%$/.test(c)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var p=a.getElementsByTagName("stop"),m,y=a.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",_=a.getAttribute("gradientTransform")||"",S=[],w,E,O=0,A=0,j;for(a.nodeName==="linearGradient"||a.nodeName==="LINEARGRADIENT"?(m="linear",w=i(a)):(m="radial",w=h(a)),E=p.length;E--;)S.push(u(p[E],o));j=e.parseTransformAttribute(_),s(r,w,g,y),y==="pixels"&&(O=-r.left,A=-r.top);var V=new e.Gradient({id:a.getAttribute("id"),type:m,coords:w,colorStops:S,gradientUnits:y,gradientTransform:j,offsetX:O,offsetY:A});return V}});function s(a,r,c,g){var o,p;Object.keys(r).forEach(function(m){o=r[m],o==="Infinity"?p=1:o==="-Infinity"?p=0:(p=parseFloat(r[m],10),typeof o=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(o)&&(p*=.01,g==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(p*=c.viewBoxWidth||c.width),(m==="y1"||m==="y2")&&(p*=c.viewBoxHeight||c.height)))),r[m]=p})}}(),function(){var u=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=e.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var d=this;this.source=e.util.createImage(),e.util.loadImage(i.source,function(s,a){d.source=s,h&&h(d,a)},null,this.crossOrigin)}},toObject:function(i){var h=e.Object.NUM_FRACTION_DIGITS,d,s;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),s={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:u(this.offsetX,h),offsetY:u(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,s,i),s},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,d=h.width/i.width,s=h.height/i.height,a=this.offsetX/i.width,r=this.offsetY/i.height,c="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(s=1,r&&(s+=Math.abs(r))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,a&&(d+=Math.abs(a))),h.src?c=h.src:h.toDataURL&&(c=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+a+'" y="'+r+'" width="'+d+'" height="'+s+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+c+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src!="undefined"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(u){var i=u.fabric||(u.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var s in d)this[s]=d[s];this.id=i.Object.__uid++},_parseShadow:function(d){var s=d.trim(),a=i.Shadow.reOffsetsAndBlur.exec(s)||[],r=s.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(a[1],10)||0,offsetY:parseFloat(a[2],10)||0,blur:parseFloat(a[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var s=40,a=40,r=i.Object.NUM_FRACTION_DIGITS,c=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-d.angle)),g=20,o=new i.Color(this.color);return d.width&&d.height&&(s=h((Math.abs(c.x)+this.blur)/d.width,r)*100+g,a=h((Math.abs(c.y)+this.blur)/d.height,r)*100+g),d.flipX&&(c.x*=-1),d.flipY&&(c.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+a+'%" height="'+(100+2*a)+'%" x="-'+s+'%" width="'+(100+2*s)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,r)+`"></feGaussianBlur>
	<feOffset dx="`+h(c.x,r)+'" dy="'+h(c.y,r)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+o.toRgb()+'" flood-opacity="'+o.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},s=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(a){this[a]!==s[a]&&(d[a]=this[a])},this),d}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var u=e.util.object.extend,i=e.util.getElementOffset,h=e.util.removeFromArray,d=e.util.toFixed,s=e.util.transformPoint,a=e.util.invertTransform,r=e.util.getNodeCanvas,c=e.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(o,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(o,p){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(o),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,m),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,m),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,m),p.overlayColor&&this.setOverlayColor(p.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var o=e.devicePixelRatio;this.__initRetinaScaling(o,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(o,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(o,p,m){p.setAttribute("width",this.width*o),p.setAttribute("height",this.height*o),m.scale(o,o)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(o,p,m){return this.__setBgOverlayImage("overlayImage",o,p,m)},setBackgroundImage:function(o,p,m){return this.__setBgOverlayImage("backgroundImage",o,p,m)},setOverlayColor:function(o,p){return this.__setBgOverlayColor("overlayColor",o,p)},setBackgroundColor:function(o,p){return this.__setBgOverlayColor("backgroundColor",o,p)},__setBgOverlayImage:function(o,p,m,y){return typeof p=="string"?e.util.loadImage(p,function(_,S){if(_){var w=new e.Image(_,y);this[o]=w,w.canvas=this}m&&m(_,S)},this,y&&y.crossOrigin):(y&&p.setOptions(y),this[o]=p,p&&(p.canvas=this),m&&m(p,!1)),this},__setBgOverlayColor:function(o,p,m){return this[o]=p,this._initGradient(p,o),this._initPattern(p,o,m),this},_createCanvasElement:function(){var o=c();if(!o||(o.style||(o.style={}),typeof o.getContext=="undefined"))throw g;return o},_initOptions:function(o){var p=this.lowerCanvasEl;this._setOptions(o),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(o){o&&o.getContext?this.lowerCanvasEl=o:this.lowerCanvasEl=e.util.getById(o)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(o,p){return this.setDimensions({width:o},p)},setHeight:function(o,p){return this.setDimensions({height:o},p)},setDimensions:function(o,p){var m;p=p||{};for(var y in o)m=o[y],p.cssOnly||(this._setBackstoreDimension(y,o[y]),m+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(y,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(o,p){return this.lowerCanvasEl[o]=p,this.upperCanvasEl&&(this.upperCanvasEl[o]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[o]=p),this[o]=p,this},_setCssDimension:function(o,p){return this.lowerCanvasEl.style[o]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[o]=p),this.wrapperEl&&(this.wrapperEl.style[o]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(o){var p=this._activeObject,m=this.backgroundImage,y=this.overlayImage,_,S,w;for(this.viewportTransform=o,S=0,w=this._objects.length;S<w;S++)_=this._objects[S],_.group||_.setCoords(!0);return p&&p.setCoords(),m&&m.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(o,p){var m=o,y=this.viewportTransform.slice(0);o=s(o,a(this.viewportTransform)),y[0]=p,y[3]=p;var _=s(o,y);return y[4]+=m.x-_.x,y[5]+=m.y-_.y,this.setViewportTransform(y)},setZoom:function(o){return this.zoomToPoint(new e.Point(0,0),o),this},absolutePan:function(o){var p=this.viewportTransform.slice(0);return p[4]=-o.x,p[5]=-o.y,this.setViewportTransform(p)},relativePan:function(o){return this.absolutePan(new e.Point(-o.x-this.viewportTransform[4],-o.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(o){this.stateful&&o.setupState(),o._set("canvas",this),o.setCoords(),this.fire("object:added",{target:o}),o.fire("added")},_onObjectRemoved:function(o){this.fire("object:removed",{target:o}),o.fire("removed"),delete o.canvas},clearContext:function(o){return o.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var o=this.contextContainer;return this.renderCanvas(o,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var o={},p=this.width,m=this.height,y=a(this.viewportTransform);return o.tl=s({x:0,y:0},y),o.br=s({x:p,y:m},y),o.tr=new e.Point(o.br.x,o.tl.y),o.bl=new e.Point(o.tl.x,o.br.y),this.vptCoords=o,o},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(o,p){var m=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(o),e.util.setImageSmoothing(o,this.imageSmoothingEnabled),this.fire("before:render",{ctx:o}),this._renderBackground(o),o.save(),o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(o,p),o.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(o)),this._renderOverlay(o),this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),this.fire("after:render",{ctx:o})},drawClipPathOnCanvas:function(o){var p=this.viewportTransform,m=this.clipPath;o.save(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.globalCompositeOperation="destination-in",m.transform(o),o.scale(1/m.zoomX,1/m.zoomY),o.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),o.restore()},_renderObjects:function(o,p){var m,y;for(m=0,y=p.length;m<y;++m)p[m]&&p[m].render(o)},_renderBackgroundOrOverlay:function(o,p){var m=this[p+"Color"],y=this[p+"Image"],_=this.viewportTransform,S=this[p+"Vpt"];if(!(!m&&!y)){if(m){o.save(),o.beginPath(),o.moveTo(0,0),o.lineTo(this.width,0),o.lineTo(this.width,this.height),o.lineTo(0,this.height),o.closePath(),o.fillStyle=m.toLive?m.toLive(o,this):m,S&&o.transform(_[0],_[1],_[2],_[3],_[4],_[5]),o.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var w=m.gradientTransform||m.patternTransform;w&&o.transform(w[0],w[1],w[2],w[3],w[4],w[5]),o.fill(),o.restore()}y&&(o.save(),S&&o.transform(_[0],_[1],_[2],_[3],_[4],_[5]),y.render(o),o.restore())}},_renderBackground:function(o){this._renderBackgroundOrOverlay(o,"background")},_renderOverlay:function(o){this._renderBackgroundOrOverlay(o,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(o){return this._centerObject(o,new e.Point(this.getCenterPoint().x,o.getCenterPoint().y))},centerObjectV:function(o){return this._centerObject(o,new e.Point(o.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(o){var p=this.getCenterPoint();return this._centerObject(o,p)},viewportCenterObject:function(o){var p=this.getVpCenter();return this._centerObject(o,p)},viewportCenterObjectH:function(o){var p=this.getVpCenter();return this._centerObject(o,new e.Point(p.x,o.getCenterPoint().y)),this},viewportCenterObjectV:function(o){var p=this.getVpCenter();return this._centerObject(o,new e.Point(o.getCenterPoint().x,p.y))},getVpCenter:function(){var o=this.getCenterPoint(),p=a(this.viewportTransform);return s(o,p)},_centerObject:function(o,p){return o.setPositionByOrigin(p,"center","center"),o.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(o){return this.toDatalessObject(o)},toObject:function(o){return this._toObjectMethod("toObject",o)},toDatalessObject:function(o){return this._toObjectMethod("toDatalessObject",o)},_toObjectMethod:function(o,p){var m=this.clipPath,y={version:e.version,objects:this._toObjects(o,p)};return m&&!m.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,o,p)),u(y,this.__serializeBgOverlay(o,p)),e.util.populateWithProperties(this,y,p),y},_toObjects:function(o,p){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,o,p)},this)},_toObject:function(o,p,m){var y;this.includeDefaultValues||(y=o.includeDefaultValues,o.includeDefaultValues=!1);var _=o[p](m);return this.includeDefaultValues||(o.includeDefaultValues=y),_},__serializeBgOverlay:function(o,p){var m={},y=this.backgroundImage,_=this.overlayImage,S=this.backgroundColor,w=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(m.background=S.toObject(p)):S&&(m.background=S),w&&w.toObject?w.excludeFromExport||(m.overlay=w.toObject(p)):w&&(m.overlay=w),y&&!y.excludeFromExport&&(m.backgroundImage=this._toObject(y,o,p)),_&&!_.excludeFromExport&&(m.overlayImage=this._toObject(_,o,p)),m},svgViewportTransformation:!0,toSVG:function(o,p){o||(o={}),o.reviver=p;var m=[];return this._setSVGPreamble(m,o),this._setSVGHeader(m,o),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",p),this._setSVGObjects(m,p),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",p),m.push("</svg>"),m.join("")},_setSVGPreamble:function(o,p){p.suppressPreamble||o.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(o,p){var m=p.width||this.width,y=p.height||this.height,_,S='viewBox="0 0 '+this.width+" "+this.height+'" ',w=e.Object.NUM_FRACTION_DIGITS;p.viewBox?S='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(_=this.viewportTransform,S='viewBox="'+d(-_[4]/_[0],w)+" "+d(-_[5]/_[3],w)+" "+d(this.width/_[0],w)+" "+d(this.height/_[3],w)+'" '),o.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',y,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)},createSVGClipPathMarkup:function(o){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+p.clipPathId+`" >
`+this.clipPath.toClipPathSVG(o.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var o=this,p=["background","overlay"].map(function(m){var y=o[m+"Color"];if(y&&y.toLive){var _=o[m+"Vpt"],S=o.viewportTransform,w={width:o.width/(_?S[0]:1),height:o.height/(_?S[3]:1)};return y.toSVG(w,{additionalTransform:_?e.util.matrixToSVG(S):""})}});return p.join("")},createSVGFontFacesMarkup:function(){var o="",p={},m,y,_,S,w,E,O,A,j,V=e.fontPaths,G=[];for(this._objects.forEach(function Q(K){G.push(K),K._objects&&K._objects.forEach(Q)}),A=0,j=G.length;A<j;A++)if(m=G[A],y=m.fontFamily,!(m.type.indexOf("text")===-1||p[y]||!V[y])&&(p[y]=!0,!!m.styles)){_=m.styles;for(w in _){S=_[w];for(O in S)E=S[O],y=E.fontFamily,!p[y]&&V[y]&&(p[y]=!0)}}for(var $ in p)o+=[`		@font-face {
`,"			font-family: '",$,`';
`,"			src: url('",V[$],`');
`,`		}
`].join("");return o&&(o=['	<style type="text/css">',`<![CDATA[
`,o,"]]>",`</style>
`].join("")),o},_setSVGObjects:function(o,p){var m,y,_,S=this._objects;for(y=0,_=S.length;y<_;y++)m=S[y],!m.excludeFromExport&&this._setSVGObject(o,m,p)},_setSVGObject:function(o,p,m){o.push(p.toSVG(m))},_setSVGBgOverlayImage:function(o,p,m){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&o.push(this[p].toSVG(m))},_setSVGBgOverlayColor:function(o,p){var m=this[p+"Color"],y=this.viewportTransform,_=this.width,S=this.height;if(!!m)if(m.toLive){var w=m.repeat,E=e.util.invertTransform(y),O=this[p+"Vpt"],A=O?e.util.matrixToSVG(E):"";o.push('<rect transform="'+A+" translate(",_/2,",",S/2,')"',' x="',m.offsetX-_/2,'" y="',m.offsetY-S/2,'" ','width="',w==="repeat-y"||w==="no-repeat"?m.source.width:_,'" height="',w==="repeat-x"||w==="no-repeat"?m.source.height:S,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else o.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(o){if(!o)return this;var p=this._activeObject,m,y,_;if(o===p&&o.type==="activeSelection")for(_=p._objects,m=_.length;m--;)y=_[m],h(this._objects,y),this._objects.unshift(y);else h(this._objects,o),this._objects.unshift(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(o){if(!o)return this;var p=this._activeObject,m,y,_;if(o===p&&o.type==="activeSelection")for(_=p._objects,m=0;m<_.length;m++)y=_[m],h(this._objects,y),this._objects.push(y);else h(this._objects,o),this._objects.push(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(o,p){if(!o)return this;var m=this._activeObject,y,_,S,w,E,O=0;if(o===m&&o.type==="activeSelection")for(E=m._objects,y=0;y<E.length;y++)_=E[y],S=this._objects.indexOf(_),S>0+O&&(w=S-1,h(this._objects,_),this._objects.splice(w,0,_)),O++;else S=this._objects.indexOf(o),S!==0&&(w=this._findNewLowerIndex(o,S,p),h(this._objects,o),this._objects.splice(w,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(o,p,m){var y,_;if(m)for(y=p,_=p-1;_>=0;--_){var S=o.intersectsWithObject(this._objects[_])||o.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(o);if(S){y=_;break}}else y=p-1;return y},bringForward:function(o,p){if(!o)return this;var m=this._activeObject,y,_,S,w,E,O=0;if(o===m&&o.type==="activeSelection")for(E=m._objects,y=E.length;y--;)_=E[y],S=this._objects.indexOf(_),S<this._objects.length-1-O&&(w=S+1,h(this._objects,_),this._objects.splice(w,0,_)),O++;else S=this._objects.indexOf(o),S!==this._objects.length-1&&(w=this._findNewUpperIndex(o,S,p),h(this._objects,o),this._objects.splice(w,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(o,p,m){var y,_,S;if(m)for(y=p,_=p+1,S=this._objects.length;_<S;++_){var w=o.intersectsWithObject(this._objects[_])||o.isContainedWithinObject(this._objects[_])||this._objects[_].isContainedWithinObject(o);if(w){y=_;break}}else y=p+1;return y},moveTo:function(o,p){return h(this._objects,o),this._objects.splice(p,0,o),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),u(e.StaticCanvas.prototype,e.Observable),u(e.StaticCanvas.prototype,e.Collection),u(e.StaticCanvas.prototype,e.DataURLExporter),u(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(o){var p=c();if(!p||!p.getContext)return null;var m=p.getContext("2d");if(!m)return null;switch(o){case"setLineDash":return typeof m.setLineDash!="undefined";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var o=r(this.lowerCanvasEl);return o&&o.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(o){var p=r(this.lowerCanvasEl);return p&&p.createJPEGStream(o)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(u){u.strokeStyle=this.color,u.lineWidth=this.width,u.lineCap=this.strokeLineCap,u.miterLimit=this.strokeMiterLimit,u.lineJoin=this.strokeLineJoin,u.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(u){var i=this.canvas.viewportTransform;u.save(),u.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(!!this.shadow){var u=this.canvas,i=this.shadow,h=u.contextTop,d=u.getZoom();u&&u._isRetinaScaling()&&(d*=e.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*d,h.shadowOffsetX=i.offsetX*d,h.shadowOffsetY=i.offsetY*d}},needsFullRender:function(){var u=new e.Color(this.color);return u.getAlpha()<1||!!this.shadow},_resetShadow:function(){var u=this.canvas.contextTop;u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0},_isOutSideCanvas:function(u){return u.x<0||u.x>this.canvas.getWidth()||u.y<0||u.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(u){this.canvas=u,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(u,i,h){var d=i.midPointFrom(h);return u.quadraticCurveTo(i.x,i.y,d.x,d.y),d},onMouseDown:function(u,i){!this.canvas._isMainEvent(i.e)||(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(u),this._captureDrawingPath(u),this._render())},onMouseMove:function(u,i){if(!!this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u))&&this._captureDrawingPath(u)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,d=h.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,h[d-2],h[d-1],!0),s.stroke(),s.restore()}},onMouseUp:function(u){return this.canvas._isMainEvent(u.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(u){var i=new e.Point(u.x,u.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(u){return this._points.length>1&&u.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(u),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(u){var i=new e.Point(u.x,u.y);return this._addPoint(i)},_render:function(u){var i,h,d=this._points[0],s=this._points[1];if(u=u||this.canvas.contextTop,this._saveAndTransform(u),u.beginPath(),this._points.length===2&&d.x===s.x&&d.y===s.y){var a=this.width/1e3;d=new e.Point(d.x,d.y),s=new e.Point(s.x,s.y),d.x-=a,s.x+=a}for(u.moveTo(d.x,d.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(u,d,s),d=this._points[i],s=this._points[i+1];u.lineTo(d.x,d.y),u.stroke(),u.restore()},convertPointsToSVGPath:function(u){var i=this.width/1e3;return e.util.getSmoothPathFromPoints(u,i)},_isEmptySVGPath:function(u){var i=e.util.joinPath(u);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(u){var i=new e.Path(u,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new e.Shadow(this.shadow)),i},decimatePoints:function(u,i){if(u.length<=2)return u;var h=this.canvas.getZoom(),d=Math.pow(i/h,2),s,a=u.length-1,r=u[0],c=[r],g;for(s=1;s<a-1;s++)g=Math.pow(r.x-u[s].x,2)+Math.pow(r.y-u[s].y,2),g>=d&&(r=u[s],c.push(r));return c.push(u[a]),c},_finalizeAndAddPath:function(){var u=this.canvas.contextTop;u.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(u){this.canvas=u,this.points=[]},drawDot:function(u){var i=this.addPoint(u),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(u,i){u.fillStyle=i.fill,u.beginPath(),u.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),u.closePath(),u.fill()},onMouseDown:function(u){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(u)},_render:function(){var u=this.canvas.contextTop,i,h,d=this.points;for(this._saveAndTransform(u),i=0,h=d.length;i<h;i++)this.dot(u,d[i]);u.restore()},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(u),this._render()):this.drawDot(u))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var d=[];for(i=0,h=this.points.length;i<h;i++){var s=this.points[i],a=new e.Circle({radius:s.radius,left:s.x,top:s.y,originX:"center",originY:"center",fill:s.fill});this.shadow&&(a.shadow=new e.Shadow(this.shadow)),d.push(a)}var r=new e.Group(d);r.canvas=this.canvas,this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.fire("path:created",{path:r}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},addPoint:function(u){var i=new e.Point(u.x,u.y),h=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=d,this.points.push(i),i}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(u){this.canvas=u,this.sprayChunks=[]},onMouseDown:function(u){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(u),this.render(this.sprayChunkPoints)},onMouseMove:function(u){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(u)||(this.addSprayChunk(u),this.render(this.sprayChunkPoints))},onMouseUp:function(){var u=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,d=this.sprayChunks.length;h<d;h++)for(var s=this.sprayChunks[h],a=0,r=s.length;a<r;a++){var c=new e.Rect({width:s[a].width,height:s[a].width,left:s[a].x+1,top:s[a].y+1,originX:"center",originY:"center",fill:this.color});i.push(c)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new e.Group(i);this.shadow&&g.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=u,this.canvas.requestRenderAll()},_getOptimizedRects:function(u){var i={},h,d,s;for(d=0,s=u.length;d<s;d++)h=u[d].left+""+u[d].top,i[h]||(i[h]=u[d]);var a=[];for(h in i)a.push(i[h]);return a},render:function(u){var i=this.canvas.contextTop,h,d;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,d=u.length;h<d;h++){var s=u[h];typeof s.opacity!="undefined"&&(i.globalAlpha=s.opacity),i.fillRect(s.x,s.y,s.width,s.width)}i.restore()},_render:function(){var u=this.canvas.contextTop,i,h;for(u.fillStyle=this.color,this._saveAndTransform(u),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);u.restore()},addSprayChunk:function(u){this.sprayChunkPoints=[];var i,h,d,s=this.width/2,a;for(a=0;a<this.density;a++){i=e.util.getRandomInt(u.x-s,u.x+s),h=e.util.getRandomInt(u.y-s,u.y+s),this.dotWidthVariance?d=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var r=new e.Point(i,h);r.width=d,this.randomOpacity&&(r.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(r)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var u=20,i=5,h=e.util.createCanvasElement(),d=h.getContext("2d");return h.width=h.height=u+i,d.fillStyle=this.color,d.beginPath(),d.arc(u/2,u/2,u/2,0,Math.PI*2,!1),d.closePath(),d.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(u){return u.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(u){this.callSuper("_setBrushStyles",u),u.strokeStyle=this.getPattern(u)},createPath:function(u){var i=this.callSuper("createPath",u),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var u=e.util.getPointer,i=e.util.degreesToRadians,h=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(s,a){a||(a={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,a),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var s=this.getActiveObjects(),a,r,c;if(s.length>0&&!this.preserveObjectStacking){r=[],c=[];for(var g=0,o=this._objects.length;g<o;g++)a=this._objects[g],s.indexOf(a)===-1?r.push(a):c.push(a);s.length>1&&(this._activeObject._objects=c),r.push.apply(r,c)}else r=this._objects;return r},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var s=this.contextContainer;return this.renderCanvas(s,this._chooseObjectsToRender()),this},renderTopLayer:function(s){s.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(s),this.contextTopDirty=!0),s.restore()},renderTop:function(){var s=this.contextTop;return this.clearContext(s),this.renderTopLayer(s),this.fire("after:render"),this},_normalizePointer:function(s,a){var r=s.calcTransformMatrix(),c=e.util.invertTransform(r),g=this.restorePointerVpt(a);return e.util.transformPoint(g,c)},isTargetTransparent:function(s,a,r){if(s.shouldCache()&&s._cacheCanvas&&s!==this._activeObject){var c=this._normalizePointer(s,{x:a,y:r}),g=Math.max(s.cacheTranslationX+c.x*s.zoomX,0),o=Math.max(s.cacheTranslationY+c.y*s.zoomY,0),_=e.util.isTransparent(s._cacheContext,Math.round(g),Math.round(o),this.targetFindTolerance);return _}var p=this.contextCache,m=s.selectionBackgroundColor,y=this.viewportTransform;s.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(y[0],y[1],y[2],y[3],y[4],y[5]),s.render(p),p.restore(),s.selectionBackgroundColor=m;var _=e.util.isTransparent(p,a,r,this.targetFindTolerance);return _},_isSelectionKeyPressed:function(s){var a=!1;return Array.isArray(this.selectionKey)?a=!!this.selectionKey.find(function(r){return s[r]===!0}):a=s[this.selectionKey],a},_shouldClearSelection:function(s,a){var r=this.getActiveObjects(),c=this._activeObject;return!a||a&&c&&r.length>1&&r.indexOf(a)===-1&&c!==a&&!this._isSelectionKeyPressed(s)||a&&!a.evented||a&&!a.selectable&&c&&c!==a},_shouldCenterTransform:function(s,a,r){if(!!s){var c;return a==="scale"||a==="scaleX"||a==="scaleY"||a==="resizing"?c=this.centeredScaling||s.centeredScaling:a==="rotate"&&(c=this.centeredRotation||s.centeredRotation),c?!r:r}},_getOriginFromCorner:function(s,a){var r={x:s.originX,y:s.originY};return a==="ml"||a==="tl"||a==="bl"?r.x="right":(a==="mr"||a==="tr"||a==="br")&&(r.x="left"),a==="tl"||a==="mt"||a==="tr"?r.y="bottom":(a==="bl"||a==="mb"||a==="br")&&(r.y="top"),r},_getActionFromCorner:function(s,a,r,c){if(!a||!s)return"drag";var g=c.controls[a];return g.getActionName(r,g,c)},_setupCurrentTransform:function(s,a,r){if(!!a){var c=this.getPointer(s),g=a.__corner,o=a.controls[g],p=r&&g?o.getActionHandler(s,a,o):e.controlsUtils.dragHandler,m=this._getActionFromCorner(r,g,s,a),y=this._getOriginFromCorner(a,g),_=s[this.centeredKey],S={target:a,action:m,actionHandler:p,corner:g,scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,offsetX:c.x-a.left,offsetY:c.y-a.top,originX:y.x,originY:y.y,ex:c.x,ey:c.y,lastX:c.x,lastY:c.y,theta:i(a.angle),width:a.width*a.scaleX,shiftKey:s.shiftKey,altKey:_,original:e.util.saveObjectTransform(a)};this._shouldCenterTransform(a,m,_)&&(S.originX="center",S.originY="center"),S.original.originX=y.x,S.original.originY=y.y,this._currentTransform=S,this._beforeTransform(s)}},setCursor:function(s){this.upperCanvasEl.style.cursor=s},_drawSelection:function(s){var a=this._groupSelector,r=new e.Point(a.ex,a.ey),c=e.util.transformPoint(r,this.viewportTransform),g=new e.Point(a.ex+a.left,a.ey+a.top),o=e.util.transformPoint(g,this.viewportTransform),p=Math.min(c.x,o.x),m=Math.min(c.y,o.y),y=Math.max(c.x,o.x),_=Math.max(c.y,o.y),S=this.selectionLineWidth/2;this.selectionColor&&(s.fillStyle=this.selectionColor,s.fillRect(p,m,y-p,_-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(s.lineWidth=this.selectionLineWidth,s.strokeStyle=this.selectionBorderColor,p+=S,m+=S,y-=S,_-=S,e.Object.prototype._setLineDash.call(this,s,this.selectionDashArray),s.strokeRect(p,m,y-p,_-m))},findTarget:function(s,a){if(!this.skipTargetFind){var r=!0,c=this.getPointer(s,r),g=this._activeObject,o=this.getActiveObjects(),p,m,y=h(s),_=o.length>1&&!a||o.length===1;if(this.targets=[],_&&g._findTargetCorner(c,y)||o.length>1&&!a&&g===this._searchPossibleTargets([g],c))return g;if(o.length===1&&g===this._searchPossibleTargets([g],c))if(this.preserveObjectStacking)p=g,m=this.targets,this.targets=[];else return g;var S=this._searchPossibleTargets(this._objects,c);return s[this.altSelectionKey]&&S&&p&&S!==p&&(S=p,this.targets=m),S}},_checkTarget:function(s,a,r){if(a&&a.visible&&a.evented&&a.containsPoint(s))if((this.perPixelTargetFind||a.perPixelTargetFind)&&!a.isEditing){var c=this.isTargetTransparent(a,r.x,r.y);if(!c)return!0}else return!0},_searchPossibleTargets:function(s,a){for(var r,c=s.length,g;c--;){var o=s[c],p=o.group?this._normalizePointer(o.group,a):a;if(this._checkTarget(p,o,a)){r=s[c],r.subTargetCheck&&r instanceof e.Group&&(g=this._searchPossibleTargets(r._objects,a),g&&this.targets.push(g));break}}return r},restorePointerVpt:function(s){return e.util.transformPoint(s,e.util.invertTransform(this.viewportTransform))},getPointer:function(s,a){if(this._absolutePointer&&!a)return this._absolutePointer;if(this._pointer&&a)return this._pointer;var r=u(s),c=this.upperCanvasEl,g=c.getBoundingClientRect(),o=g.width||0,p=g.height||0,m;(!o||!p)&&("top"in g&&"bottom"in g&&(p=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(o=Math.abs(g.right-g.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,a||(r=this.restorePointerVpt(r));var y=this.getRetinaScaling();return y!==1&&(r.x/=y,r.y/=y),o===0||p===0?m={width:1,height:1}:m={width:c.width/o,height:c.height/p},{x:r.x*m.width,y:r.y*m.height}},_createUpperCanvas:function(){var s=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),a=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),e.util.addClass(r,"upper-canvas "+s),this.wrapperEl.appendChild(r),this._copyCanvasStyle(a,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(s){var a=this.width||s.width,r=this.height||s.height;e.util.setStyle(s,{position:"absolute",width:a+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),s.width=a,s.height=r,e.util.makeElementUnselectable(s)},_copyCanvasStyle:function(s,a){a.style.cssText=s.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var s=this._activeObject;return s?s.type==="activeSelection"&&s._objects?s._objects.slice(0):[s]:[]},_onObjectRemoved:function(s){s===this._activeObject&&(this.fire("before:selection:cleared",{target:s}),this._discardActiveObject(),this.fire("selection:cleared",{target:s}),s.fire("deselected")),s===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",s)},_fireSelectionEvents:function(s,a){var r=!1,c=this.getActiveObjects(),g=[],o=[];s.forEach(function(p){c.indexOf(p)===-1&&(r=!0,p.fire("deselected",{e:a,target:p}),o.push(p))}),c.forEach(function(p){s.indexOf(p)===-1&&(r=!0,p.fire("selected",{e:a,target:p}),g.push(p))}),s.length>0&&c.length>0?r&&this.fire("selection:updated",{e:a,selected:g,deselected:o}):c.length>0?this.fire("selection:created",{e:a,selected:g}):s.length>0&&this.fire("selection:cleared",{e:a,deselected:o})},setActiveObject:function(s,a){var r=this.getActiveObjects();return this._setActiveObject(s,a),this._fireSelectionEvents(r,a),this},_setActiveObject:function(s,a){return this._activeObject===s||!this._discardActiveObject(a,s)||s.onSelect({e:a})?!1:(this._activeObject=s,!0)},_discardActiveObject:function(s,a){var r=this._activeObject;if(r){if(r.onDeselect({e:s,object:a}))return!1;this._activeObject=null}return!0},discardActiveObject:function(s){var a=this.getActiveObjects(),r=this.getActiveObject();return a.length&&this.fire("before:selection:cleared",{target:r,e:s}),this._discardActiveObject(s),this._fireSelectionEvents(a,s),this},dispose:function(){var s=this.wrapperEl;return this.removeListeners(),s.removeChild(this.upperCanvasEl),s.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(a){e.util.cleanUpJsdomNode(this[a]),this[a]=void 0}.bind(this)),s.parentNode&&s.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(s){var a=this._activeObject;a&&a._renderControls(s)},_toObject:function(s,a,r){var c=this._realizeGroupTransformOnObject(s),g=this.callSuper("_toObject",s,a,r);return this._unwindGroupTransformOnObject(s,c),g},_realizeGroupTransformOnObject:function(s){if(s.group&&s.group.type==="activeSelection"&&this._activeObject===s.group){var a=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],r={};return a.forEach(function(c){r[c]=s[c]}),e.util.addTransformToObject(s,this._activeObject.calcOwnMatrix()),r}else return null},_unwindGroupTransformOnObject:function(s,a){a&&s.set(a)},_setSVGObject:function(s,a,r){var c=this._realizeGroupTransformOnObject(a);this.callSuper("_setSVGObject",s,a,r),this._unwindGroupTransformOnObject(a,c)},setViewportTransform:function(s){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,s)}});for(var d in e.StaticCanvas)d!=="prototype"&&(e.Canvas[d]=e.StaticCanvas[d])}(),function(){var u=e.util.addListener,i=e.util.removeListener,h=3,d=2,s=1,a={passive:!1};function r(c,g){return c.button&&c.button===g-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(u,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(c,g){var o=this.upperCanvasEl,p=this._getEventPrefix();c(e.window,"resize",this._onResize),c(o,p+"down",this._onMouseDown),c(o,p+"move",this._onMouseMove,a),c(o,p+"out",this._onMouseOut),c(o,p+"enter",this._onMouseEnter),c(o,"wheel",this._onMouseWheel),c(o,"contextmenu",this._onContextMenu),c(o,"dblclick",this._onDoubleClick),c(o,"dragover",this._onDragOver),c(o,"dragenter",this._onDragEnter),c(o,"dragleave",this._onDragLeave),c(o,"drop",this._onDrop),this.enablePointerEvents||c(o,"touchstart",this._onTouchStart,a),typeof eventjs!="undefined"&&g in eventjs&&(eventjs[g](o,"gesture",this._onGesture),eventjs[g](o,"drag",this._onDrag),eventjs[g](o,"orientation",this._onOrientationChange),eventjs[g](o,"shake",this._onShake),eventjs[g](o,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var c=this._getEventPrefix();i(e.document,c+"up",this._onMouseUp),i(e.document,"touchend",this._onTouchEnd,a),i(e.document,c+"move",this._onMouseMove,a),i(e.document,"touchmove",this._onMouseMove,a)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(c,g){this.__onTransformGesture&&this.__onTransformGesture(c,g)},_onDrag:function(c,g){this.__onDrag&&this.__onDrag(c,g)},_onMouseWheel:function(c){this.__onMouseWheel(c)},_onMouseOut:function(c){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:c}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:c});var o=this;this._hoveredTargets.forEach(function(p){o.fire("mouse:out",{target:g,e:c}),p&&g.fire("mouseout",{e:c})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(p){p.isEditing&&p.hiddenTextarea.focus()})},_onMouseEnter:function(c){!this._currentTransform&&!this.findTarget(c)&&(this.fire("mouse:over",{target:null,e:c}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(c,g){this.__onOrientationChange&&this.__onOrientationChange(c,g)},_onShake:function(c,g){this.__onShake&&this.__onShake(c,g)},_onLongPress:function(c,g){this.__onLongPress&&this.__onLongPress(c,g)},_onDragOver:function(c){c.preventDefault();var g=this._simpleEventHandler("dragover",c);this._fireEnterLeaveEvents(g,c)},_onDrop:function(c){return this._simpleEventHandler("drop:before",c),this._simpleEventHandler("drop",c)},_onContextMenu:function(c){return this.stopContextMenu&&(c.stopPropagation(),c.preventDefault()),!1},_onDoubleClick:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"dblclick"),this._resetTransformEventData(c)},getPointerId:function(c){var g=c.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?c.pointerId:-1},_isMainEvent:function(c){return c.isPrimary===!0?!0:c.isPrimary===!1?!1:c.type==="touchend"&&c.touches.length===0?!0:c.changedTouches?c.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(c){c.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(c)),this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();u(e.document,"touchend",this._onTouchEnd,a),u(e.document,"touchmove",this._onMouseMove,a),i(g,o+"down",this._onMouseDown)},_onMouseDown:function(c){this.__onMouseDown(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();i(g,o+"move",this._onMouseMove,a),u(e.document,o+"up",this._onMouseUp),u(e.document,o+"move",this._onMouseMove,a)},_onTouchEnd:function(c){if(!(c.touches.length>0)){this.__onMouseUp(c),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(e.document,"touchend",this._onTouchEnd,a),i(e.document,"touchmove",this._onMouseMove,a);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){u(o.upperCanvasEl,g+"down",o._onMouseDown),o._willAddMouseDown=0},400)}},_onMouseUp:function(c){this.__onMouseUp(c),this._resetTransformEventData();var g=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(c)&&(i(e.document,o+"up",this._onMouseUp),i(e.document,o+"move",this._onMouseMove,a),u(g,o+"move",this._onMouseMove,a))},_onMouseMove:function(c){!this.allowTouchScrolling&&c.preventDefault&&c.preventDefault(),this.__onMouseMove(c)},_onResize:function(){this.calcOffset()},_shouldRender:function(c){var g=this._activeObject;return!!g!=!!c||g&&c&&g!==c?!0:(g&&g.isEditing,!1)},__onMouseUp:function(c){var g,o=this._currentTransform,p=this._groupSelector,m=!1,y=!p||p.left===0&&p.top===0;if(this._cacheTransformEventData(c),g=this._target,this._handleEvent(c,"up:before"),r(c,h)){this.fireRightClick&&this._handleEvent(c,"up",h,y);return}if(r(c,d)){this.fireMiddleClick&&this._handleEvent(c,"up",d,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(c);return}if(!!this._isMainEvent(c)){if(o&&(this._finalizeCurrentTransform(c),m=o.actionPerformed),!y){var _=g===this._activeObject;this._maybeGroupObjects(c),m||(m=this._shouldRender(g)||!_&&g===this._activeObject)}var S,w;if(g){if(S=g._findTargetCorner(this.getPointer(c,!0),e.util.isTouchEvent(c)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,c),m=!0;else{var E=g.controls[S],O=E&&E.getMouseUpHandler(c,g,E);O&&(w=this.getPointer(c),O(c,o,w.x,w.y))}g.isMoving=!1}if(o&&(o.target!==g||o.corner!==S)){var A=o.target&&o.target.controls[o.corner],j=A&&A.getMouseUpHandler(c,g,E);w=w||this.getPointer(c),j&&j(c,o,w.x,w.y)}this._setCursorFromEvent(c,g),this._handleEvent(c,"up",s,y),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),m?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(c,g){var o=this.findTarget(g),p=this.targets,m={e:g,target:o,subTargets:p};if(this.fire(c,m),o&&o.fire(c,m),!p)return o;for(var y=0;y<p.length;y++)p[y].fire(c,m);return o},_handleEvent:function(c,g,o,p){var m=this._target,y=this.targets||[],_={e:c,target:m,subTargets:y,button:o||s,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(_.currentTarget=this.findTarget(c),_.currentSubTargets=this.targets),this.fire("mouse:"+g,_),m&&m.fire("mouse"+g,_);for(var S=0;S<y.length;S++)y[S].fire("mouse"+g,_)},_finalizeCurrentTransform:function(c){var g=this._currentTransform,o=g.target,p={e:c,target:o,transform:g,action:g.action};o._scaling&&(o._scaling=!1),o.setCoords(),(g.actionPerformed||this.stateful&&o.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(c){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(c).requestRenderAll();var g=this.getPointer(c);this.freeDrawingBrush.onMouseDown(g,{e:c,pointer:g}),this._handleEvent(c,"down")},_onMouseMoveInDrawingMode:function(c){if(this._isCurrentlyDrawing){var g=this.getPointer(c);this.freeDrawingBrush.onMouseMove(g,{e:c,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(c,"move")},_onMouseUpInDrawingMode:function(c){var g=this.getPointer(c);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:c,pointer:g}),this._handleEvent(c,"up")},__onMouseDown:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"down:before");var g=this._target;if(r(c,h)){this.fireRightClick&&this._handleEvent(c,"down",h);return}if(r(c,d)){this.fireMiddleClick&&this._handleEvent(c,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(c);return}if(!!this._isMainEvent(c)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var p=this._shouldRender(g),m=this._shouldGroup(c,g);if(this._shouldClearSelection(c,g)?this.discardActiveObject(c):m&&(this._handleGrouping(c,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var y=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,c);var _=g._findTargetCorner(this.getPointer(c,!0),e.util.isTouchEvent(c));if(g.__corner=_,g===this._activeObject&&(_||!m)){this._setupCurrentTransform(c,g,y);var S=g.controls[_],o=this.getPointer(c),w=S&&S.getMouseDownHandler(c,g,S);w&&w(c,this._currentTransform,o.x,o.y)}}this._handleEvent(c,"down"),(p||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(c){this._resetTransformEventData(),this._pointer=this.getPointer(c,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(c)||null},_beforeTransform:function(c){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:c,transform:g})},__onMouseMove:function(c){this._handleEvent(c,"move:before"),this._cacheTransformEventData(c);var g,o;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(c);return}if(!!this._isMainEvent(c)){var p=this._groupSelector;p?(o=this._absolutePointer,p.left=o.x-p.ex,p.top=o.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(c):(g=this.findTarget(c)||null,this._setCursorFromEvent(c,g),this._fireOverOutEvents(g,c)),this._handleEvent(c,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(c,g){var o=this._hoveredTarget,p=this._hoveredTargets,m=this.targets,y=Math.max(p.length,m.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:o,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(m[_],g,{oldTarget:p[_],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=c,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(c,g){var o=this._draggedoverTarget,p=this._hoveredTargets,m=this.targets,y=Math.max(p.length,m.length);this.fireSyntheticInOutEvents(c,g,{oldTarget:o,evtOut:"dragleave",evtIn:"dragenter"});for(var _=0;_<y;_++)this.fireSyntheticInOutEvents(m[_],g,{oldTarget:p[_],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=c},fireSyntheticInOutEvents:function(c,g,o){var p,m,y=o.oldTarget,_,S,w=y!==c,E=o.canvasEvtIn,O=o.canvasEvtOut;w&&(p={e:g,target:c,previousTarget:y},m={e:g,target:y,nextTarget:c}),S=c&&w,_=y&&w,_&&(O&&this.fire(O,m),y.fire(o.evtOut,m)),S&&(E&&this.fire(E,p),c.fire(o.evtIn,p))},__onMouseWheel:function(c){this._cacheTransformEventData(c),this._handleEvent(c,"wheel"),this._resetTransformEventData()},_transformObject:function(c){var g=this.getPointer(c),o=this._currentTransform;o.reset=!1,o.shiftKey=c.shiftKey,o.altKey=c[this.centeredKey],this._performTransformAction(c,o,g),o.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(c,g,o){var p=o.x,m=o.y,y=g.action,_=!1,S=g.actionHandler;S&&(_=S(c,g,p,m)),y==="drag"&&_&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||_},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(c,g){if(!g)return this.setCursor(this.defaultCursor),!1;var o=g.hoverCursor||this.hoverCursor,p=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!p||!p.contains(g))&&g._findTargetCorner(this.getPointer(c,!0));m?this.setCursor(this.getCornerCursor(m,g,c)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(y){o=y.hoverCursor||o}),this.setCursor(o))},getCornerCursor:function(c,g,o){var p=g.controls[c];return p.cursorStyleHandler(o,p,g)}})}(),function(){var u=Math.min,i=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(h,d){var s=this._activeObject;return s&&this._isSelectionKeyPressed(h)&&d&&d.selectable&&this.selection&&(s!==d||s.type==="activeSelection")&&!d.onSelect({e:h})},_handleGrouping:function(h,d){var s=this._activeObject;s.__corner||d===s&&(d=this.findTarget(h,!0),!d||!d.selectable)||(s&&s.type==="activeSelection"?this._updateActiveSelection(d,h):this._createActiveSelection(d,h))},_updateActiveSelection:function(h,d){var s=this._activeObject,a=s._objects.slice(0);s.contains(h)?(s.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),s.size()===1&&this._setActiveObject(s.item(0),d)):(s.addWithUpdate(h),this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(a,d)},_createActiveSelection:function(h,d){var s=this.getActiveObjects(),a=this._createGroup(h);this._hoveredTarget=a,this._setActiveObject(a,d),this._fireSelectionEvents(s,d)},_createGroup:function(h){var d=this._objects,s=d.indexOf(this._activeObject)<d.indexOf(h),a=s?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(a,{canvas:this})},_groupSelectedObjects:function(h){var d=this._collectObjects(h),s;d.length===1?this.setActiveObject(d[0],h):d.length>1&&(s=new e.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(s,h))},_collectObjects:function(h){for(var d=[],s,a=this._groupSelector.ex,r=this._groupSelector.ey,c=a+this._groupSelector.left,g=r+this._groupSelector.top,o=new e.Point(u(a,c),u(r,g)),p=new e.Point(i(a,c),i(r,g)),m=!this.selectionFullyContained,y=a===c&&r===g,_=this._objects.length;_--&&(s=this._objects[_],!(!(!s||!s.selectable||!s.visible)&&(m&&s.intersectsWithRect(o,p,!0)||s.isContainedWithinRect(o,p,!0)||m&&s.containsPoint(o,null,!0)||m&&s.containsPoint(p,null,!0))&&(d.push(s),y))););return d.length>1&&(d=d.filter(function(S){return!S.onSelect({e:h})})),d},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(u){u||(u={});var i=u.format||"png",h=u.quality||1,d=(u.multiplier||1)*(u.enableRetinaScaling?this.getRetinaScaling():1),s=this.toCanvasElement(d,u);return e.util.toDataURL(s,i,h)},toCanvasElement:function(u,i){u=u||1,i=i||{};var h=(i.width||this.width)*u,d=(i.height||this.height)*u,s=this.getZoom(),a=this.width,r=this.height,c=s*u,g=this.viewportTransform,o=(g[4]-(i.left||0))*u,p=(g[5]-(i.top||0))*u,m=this.interactive,y=[c,0,0,c,o,p],_=this.enableRetinaScaling,S=e.util.createCanvasElement(),w=this.contextTop;return S.width=h,S.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=h,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=g,this.width=a,this.height=r,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=_,this.contextTop=w,S}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(u,i,h){if(!!u){var d=typeof u=="string"?JSON.parse(u):e.util.object.clone(u),s=this,a=d.clipPath,r=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(c){s.clear(),s._setBgOverlay(d,function(){a?s._enlivenObjects([a],function(g){s.clipPath=g[0],s.__setupCanvas.call(s,d,c,r,i)}):s.__setupCanvas.call(s,d,c,r,i)})},h),this}},__setupCanvas:function(u,i,h,d){var s=this;i.forEach(function(a,r){s.insertAt(a,r)}),this.renderOnAddRemove=h,delete u.objects,delete u.backgroundImage,delete u.overlayImage,delete u.background,delete u.overlay,this._setOptions(u),this.renderAll(),d&&d()},_setBgOverlay:function(u,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!u.backgroundImage&&!u.overlayImage&&!u.background&&!u.overlay){i&&i();return}var d=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",u.backgroundImage,h,d),this.__setBgOverlay("overlayImage",u.overlayImage,h,d),this.__setBgOverlay("backgroundColor",u.background,h,d),this.__setBgOverlay("overlayColor",u.overlay,h,d)},__setBgOverlay:function(u,i,h,d){var s=this;if(!i){h[u]=!0,d&&d();return}u==="backgroundImage"||u==="overlayImage"?e.util.enlivenObjects([i],function(a){s[u]=a[0],h[u]=!0,d&&d()}):this["set"+e.util.string.capitalize(u,!0)](i,function(){h[u]=!0,d&&d()})},_enlivenObjects:function(u,i,h){if(!u||u.length===0){i&&i([]);return}e.util.enlivenObjects(u,function(d){i&&i(d)},null,h)},_toDataURL:function(u,i){this.clone(function(h){i(h.toDataURL(u))})},_toDataURLWithMultiplier:function(u,i,h){this.clone(function(d){h(d.toDataURLWithMultiplier(u,i))})},clone:function(u,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(d){d.loadFromJSON(h,function(){u&&u(d)})})},cloneWithoutData:function(u){var i=e.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new e.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),u&&u(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):u&&u(h)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,s=i.util.toFixed,a=i.util.string.capitalize,r=i.util.degreesToRadians,c=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:c,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(o){o&&this.setOptions(o)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(o){var p=i.perfLimitSizeTotal,m=o.width,y=o.height,_=i.maxCacheSideLimit,S=i.minCacheSideLimit;if(m<=_&&y<=_&&m*y<=p)return m<S&&(o.width=S),y<S&&(o.height=S),o;var w=m/y,E=i.util.limitDimsByArea(w,p),O=i.util.capValue,A=O(S,E.x,_),j=O(S,E.y,_);return m>A&&(o.zoomX/=m/A,o.width=A,o.capped=!0),y>j&&(o.zoomY/=y/j,o.height=j,o.capped=!0),o},_getCacheCanvasDimensions:function(){var o=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),m=p.x*o.scaleX/this.scaleX,y=p.y*o.scaleY/this.scaleY;return{width:m+g,height:y+g,zoomX:o.scaleX,zoomY:o.scaleY,x:m,y}},_updateCacheCanvas:function(){var o=this.canvas;if(this.noScaleCache&&o&&o._currentTransform){var p=o._currentTransform.target,m=o._currentTransform.action;if(this===p&&m.slice&&m.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,_=this._limitCacheSize(this._getCacheCanvasDimensions()),S=i.minCacheSideLimit,w=_.width,E=_.height,O,A,j=_.zoomX,V=_.zoomY,G=w!==this.cacheWidth||E!==this.cacheHeight,$=this.zoomX!==j||this.zoomY!==V,Q=G||$,K=0,te=0,re=!1;if(G){var ne=this._cacheCanvas.width,T=this._cacheCanvas.height,D=w>ne||E>T,b=(w<ne*.9||E<T*.9)&&ne>S&&T>S;re=D||b,D&&!_.capped&&(w>S||E>S)&&(K=w*.1,te=E*.1)}return this instanceof i.Text&&this.path&&(Q=!0,re=!0,K+=this.getHeightOfLine(0)*this.zoomX,te+=this.getHeightOfLine(0)*this.zoomY),Q?(re?(y.width=Math.ceil(w+K),y.height=Math.ceil(E+te)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),O=_.x/2,A=_.y/2,this.cacheTranslationX=Math.round(y.width/2-O)+O,this.cacheTranslationY=Math.round(y.height/2-A)+A,this.cacheWidth=w,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(j,V),this.zoomX=j,this.zoomY=V,!0):!1},setOptions:function(o){this._setOptions(o),this._initGradient(o.fill,"fill"),this._initGradient(o.stroke,"stroke"),this._initPattern(o.fill,"fill"),this._initPattern(o.stroke,"stroke")},transform:function(o){var p=this.group&&!this.group._transformDone||this.group&&this.canvas&&o===this.canvas.contextTop,m=this.calcTransformMatrix(!p);o.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(o){var p=i.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:s(this.left,p),top:s(this.top,p),width:s(this.width,p),height:s(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:s(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:s(this.strokeMiterLimit,p),scaleX:s(this.scaleX,p),scaleY:s(this.scaleY,p),angle:s(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:s(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:s(this.skewX,p),skewY:s(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(o),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,m,o),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(o){return this.toObject(o)},_removeDefaultValues:function(o){var p=i.util.getKlass(o.type).prototype,m=p.stateProperties;return m.forEach(function(y){y==="left"||y==="top"||(o[y]===p[y]&&delete o[y],Array.isArray(o[y])&&Array.isArray(p[y])&&o[y].length===0&&p[y].length===0&&delete o[y])}),o},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var o=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(o.scaleX),scaleY:Math.abs(o.scaleY)}},getTotalObjectScaling:function(){var o=this.getObjectScaling(),p=o.scaleX,m=o.scaleY;if(this.canvas){var y=this.canvas.getZoom(),_=this.canvas.getRetinaScaling();p*=y*_,m*=y*_}return{scaleX:p,scaleY:m}},getObjectOpacity:function(){var o=this.opacity;return this.group&&(o*=this.group.getObjectOpacity()),o},_set:function(o,p){var m=o==="scaleX"||o==="scaleY",y=this[o]!==p,_=!1;return m&&(p=this._constrainScale(p)),o==="scaleX"&&p<0?(this.flipX=!this.flipX,p*=-1):o==="scaleY"&&p<0?(this.flipY=!this.flipY,p*=-1):o==="shadow"&&p&&!(p instanceof i.Shadow)?p=new i.Shadow(p):o==="dirty"&&this.group&&this.group.set("dirty",p),this[o]=p,y&&(_=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(o)>-1?(this.dirty=!0,_&&this.group.set("dirty",!0)):_&&this.stateProperties.indexOf(o)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(o){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(o.save(),this._setupCompositeOperation(o),this.drawSelectionBackground(o),this.transform(o),this._setOpacity(o),this._setShadow(o,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(o)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(o),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),o.restore())},renderCache:function(o){o=o||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,o.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(o,p){if(o.save(),p.inverted?o.globalCompositeOperation="destination-out":o.globalCompositeOperation="destination-in",p.absolutePositioned){var m=i.util.invertTransform(this.calcTransformMatrix());o.transform(m[0],m[1],m[2],m[3],m[4],m[5])}p.transform(o),o.scale(1/p.zoomX,1/p.zoomY),o.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),o.restore()},drawObject:function(o,p){var m=this.fill,y=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(o)):this._renderBackground(o),this._render(o),this._drawClipPath(o,this.clipPath),this.fill=m,this.stroke=y},_drawClipPath:function(o,p){!p||(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(o,p))},drawCacheOnCanvas:function(o){o.scale(1/this.zoomX,1/this.zoomY),o.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(o){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!o&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!o){var p=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-m/2,p,m)}return!0}return!1},_renderBackground:function(o){if(!!this.backgroundColor){var p=this._getNonTransformedDimensions();o.fillStyle=this.backgroundColor,o.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(o)}},_setOpacity:function(o){this.group&&!this.group._transformDone?o.globalAlpha=this.getObjectOpacity():o.globalAlpha*=this.opacity},_setStrokeStyles:function(o,p){var m=p.stroke;m&&(o.lineWidth=p.strokeWidth,o.lineCap=p.strokeLineCap,o.lineDashOffset=p.strokeDashOffset,o.lineJoin=p.strokeLineJoin,o.miterLimit=p.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(o,m):(o.strokeStyle=m.toLive(o,this),this._applyPatternGradientTransform(o,m)):o.strokeStyle=p.stroke)},_setFillStyles:function(o,p){var m=p.fill;m&&(m.toLive?(o.fillStyle=m.toLive(o,this),this._applyPatternGradientTransform(o,p.fill)):o.fillStyle=m)},_setClippingProperties:function(o){o.globalAlpha=1,o.strokeStyle="transparent",o.fillStyle="#000000"},_setLineDash:function(o,p){!p||p.length===0||(1&p.length&&p.push.apply(p,p),o.setLineDash(p))},_renderControls:function(o,p){var m=this.getViewportTransform(),y=this.calcTransformMatrix(),_,S,w;p=p||{},S=typeof p.hasBorders!="undefined"?p.hasBorders:this.hasBorders,w=typeof p.hasControls!="undefined"?p.hasControls:this.hasControls,y=i.util.multiplyTransformMatrices(m,y),_=i.util.qrDecompose(y),o.save(),o.translate(_.translateX,_.translateY),o.lineWidth=1*this.borderScaleFactor,this.group||(o.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(_.angle-=180),o.rotate(r(this.group?_.angle:this.angle)),p.forActiveSelection||this.group?S&&this.drawBordersInGroup(o,_,p):S&&this.drawBorders(o,p),w&&this.drawControls(o,p),o.restore()},_setShadow:function(o){if(!!this.shadow){var p=this.shadow,m=this.canvas,y,_=m&&m.viewportTransform[0]||1,S=m&&m.viewportTransform[3]||1;p.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),m&&m._isRetinaScaling()&&(_*=i.devicePixelRatio,S*=i.devicePixelRatio),o.shadowColor=p.color,o.shadowBlur=p.blur*i.browserShadowBlurConstant*(_+S)*(y.scaleX+y.scaleY)/4,o.shadowOffsetX=p.offsetX*_*y.scaleX,o.shadowOffsetY=p.offsetY*S*y.scaleY}},_removeShadow:function(o){!this.shadow||(o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0)},_applyPatternGradientTransform:function(o,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var m=p.gradientTransform||p.patternTransform,y=-this.width/2+p.offsetX||0,_=-this.height/2+p.offsetY||0;return p.gradientUnits==="percentage"?o.transform(this.width,0,0,this.height,y,_):o.transform(1,0,0,1,y,_),m&&o.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:y,offsetY:_}},_renderPaintInOrder:function(o){this.paintFirst==="stroke"?(this._renderStroke(o),this._renderFill(o)):(this._renderFill(o),this._renderStroke(o))},_render:function(){},_renderFill:function(o){!this.fill||(o.save(),this._setFillStyles(o,this),this.fillRule==="evenodd"?o.fill("evenodd"):o.fill(),o.restore())},_renderStroke:function(o){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();o.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&o.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(o,this.strokeDashArray),this._setStrokeStyles(o,this),o.stroke(),o.restore()}},_applyPatternForTransformedGradient:function(o,p){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),y=i.util.createCanvasElement(),_,S=this.canvas.getRetinaScaling(),w=m.x/this.scaleX/S,E=m.y/this.scaleY/S;y.width=w,y.height=E,_=y.getContext("2d"),_.beginPath(),_.moveTo(0,0),_.lineTo(w,0),_.lineTo(w,E),_.lineTo(0,E),_.closePath(),_.translate(w/2,E/2),_.scale(m.zoomX/this.scaleX/S,m.zoomY/this.scaleY/S),this._applyPatternGradientTransform(_,p),_.fillStyle=p.toLive(o),_.fill(),o.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),o.scale(S*this.scaleX/m.zoomX,S*this.scaleY/m.zoomY),o.strokeStyle=_.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var o=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",o.scaleX),this.set("scaleY",o.scaleY),this.angle=o.angle,this.skewX=o.skewX,this.skewY=0}},_removeTransformMatrix:function(o){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=i.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,o&&(this.scaleX*=o.scaleX,this.scaleY*=o.scaleY,this.cropX=o.cropX,this.cropY=o.cropY,p.x+=o.offsetLeft,p.y+=o.offsetTop,this.width=o.width,this.height=o.height),this.setPositionByOrigin(p,"center","center")},clone:function(o,p){var m=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(m,o):i.Object._fromObject("Object",m,o)},cloneAsImage:function(o,p){var m=this.toCanvasElement(p);return o&&o(new i.Image(m)),this},toCanvasElement:function(o){o||(o={});var p=i.util,m=p.saveObjectTransform(this),y=this.group,_=this.shadow,S=Math.abs,w=(o.multiplier||1)*(o.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,o.withoutTransform&&p.resetObjectTransform(this),o.withoutShadow&&(this.shadow=null);var E=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),A=this.shadow,j,V={x:0,y:0},G,$,Q;A&&(G=A.blur,A.nonScaling?j={scaleX:1,scaleY:1}:j=this.getObjectScaling(),V.x=2*Math.round(S(A.offsetX)+G)*S(j.scaleX),V.y=2*Math.round(S(A.offsetY)+G)*S(j.scaleY)),$=O.width+V.x,Q=O.height+V.y,E.width=Math.ceil($),E.height=Math.ceil(Q);var K=new i.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});o.format==="jpeg"&&(K.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(K.width/2,K.height/2),"center","center");var te=this.canvas;K.add(this);var re=K.toCanvasElement(w||1,o);return this.shadow=_,this.set("canvas",te),y&&(this.group=y),this.set(m).setCoords(),K._objects=[],K.dispose(),K=null,re},toDataURL:function(o){return o||(o={}),i.util.toDataURL(this.toCanvasElement(o),o.format||"png",o.quality||1)},isType:function(o){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===o},complexity:function(){return 1},toJSON:function(o){return this.toObject(o)},rotate:function(o){var p=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",o),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(o,p){p=p||this.canvas.getPointer(o);var m=new i.Point(p.x,p.y),y=this._getLeftTopCoords();return this.angle&&(m=i.util.rotatePoint(m,y,r(-this.angle))),{x:m.x-y.x,y:m.y-y.y}},_setupCompositeOperation:function(o){this.globalCompositeOperation&&(o.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(o,p,m,y){var _=i[o];p=d(p,!0),i.util.enlivenPatterns([p.fill,p.stroke],function(S){typeof S[0]!="undefined"&&(p.fill=S[0]),typeof S[1]!="undefined"&&(p.stroke=S[1]),i.util.enlivenObjectEnlivables(p,p,function(){var w=y?new _(p[y],p):new _(p);m&&m(w)})})},i.Object.__uid=0)}(t),function(){var u=e.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(d,s,a,r,c){var g=d.x,o=d.y,p,m,y;return typeof s=="string"?s=i[s]:s-=.5,typeof r=="string"?r=i[r]:r-=.5,p=r-s,typeof a=="string"?a=h[a]:a-=.5,typeof c=="string"?c=h[c]:c-=.5,m=c-a,(p||m)&&(y=this._getTransformedDimensions(),g=d.x+p*y.x,o=d.y+m*y.y),new e.Point(g,o)},translateToCenterPoint:function(d,s,a){var r=this.translateToGivenOrigin(d,s,a,"center","center");return this.angle?e.util.rotatePoint(r,d,u(this.angle)):r},translateToOriginPoint:function(d,s,a){var r=this.translateToGivenOrigin(d,"center","center",s,a);return this.angle?e.util.rotatePoint(r,d,u(this.angle)):r},getCenterPoint:function(){var d=new e.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,s){var a=this.getCenterPoint();return this.translateToOriginPoint(a,d,s)},toLocalPoint:function(d,s,a){var r=this.getCenterPoint(),c,g;return typeof s!="undefined"&&typeof a!="undefined"?c=this.translateToGivenOrigin(r,"center","center",s,a):c=new e.Point(this.left,this.top),g=new e.Point(d.x,d.y),this.angle&&(g=e.util.rotatePoint(g,r,-u(this.angle))),g.subtractEquals(c)},setPositionByOrigin:function(d,s,a){var r=this.translateToCenterPoint(d,s,a),c=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",c.x),this.set("top",c.y)},adjustPosition:function(d){var s=u(this.angle),a=this.getScaledWidth(),r=e.util.cos(s)*a,c=e.util.sin(s)*a,g,o;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof d=="string"?o=i[d]:o=d-.5,this.left+=r*(o-g),this.top+=c*(o-g),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function u(a){return[new e.Point(a.tl.x,a.tl.y),new e.Point(a.tr.x,a.tr.y),new e.Point(a.br.x,a.br.y),new e.Point(a.bl.x,a.bl.y)]}var i=e.util,h=i.degreesToRadians,d=i.multiplyTransformMatrices,s=i.transformPoint;i.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(a,r){return r?a?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),a?this.aCoords:this.lineCoords)},getCoords:function(a,r){return u(this._getCoords(a,r))},intersectsWithRect:function(a,r,c,g){var o=this.getCoords(c,g),p=e.Intersection.intersectPolygonRectangle(o,a,r);return p.status==="Intersection"},intersectsWithObject:function(a,r,c){var g=e.Intersection.intersectPolygonPolygon(this.getCoords(r,c),a.getCoords(r,c));return g.status==="Intersection"||a.isContainedWithinObject(this,r,c)||this.isContainedWithinObject(a,r,c)},isContainedWithinObject:function(a,r,c){for(var g=this.getCoords(r,c),o=r?a.aCoords:a.lineCoords,p=0,m=a._getImageLines(o);p<4;p++)if(!a.containsPoint(g[p],m))return!1;return!0},isContainedWithinRect:function(a,r,c,g){var o=this.getBoundingRect(c,g);return o.left>=a.x&&o.left+o.width<=r.x&&o.top>=a.y&&o.top+o.height<=r.y},containsPoint:function(a,p,c,g){var o=this._getCoords(c,g),p=p||this._getImageLines(o),m=this._findCrossPoints(a,p);return m!==0&&m%2===1},isOnScreen:function(a){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br,g=this.getCoords(!0,a);return g.some(function(o){return o.x<=c.x&&o.x>=r.x&&o.y<=c.y&&o.y>=r.y})||this.intersectsWithRect(r,c,!0,a)?!0:this._containsCenterOfCanvas(r,c,a)},_containsCenterOfCanvas:function(a,r,c){var g={x:(a.x+r.x)/2,y:(a.y+r.y)/2};return!!this.containsPoint(g,null,!0,c)},isPartiallyOnScreen:function(a){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,c=this.canvas.vptCoords.br;if(this.intersectsWithRect(r,c,!0,a))return!0;var g=this.getCoords(!0,a).every(function(o){return(o.x>=c.x||o.x<=r.x)&&(o.y>=c.y||o.y<=r.y)});return g&&this._containsCenterOfCanvas(r,c,a)},_getImageLines:function(a){var r={topline:{o:a.tl,d:a.tr},rightline:{o:a.tr,d:a.br},bottomline:{o:a.br,d:a.bl},leftline:{o:a.bl,d:a.tl}};return r},_findCrossPoints:function(a,r){var c,g,o,p,m,y=0,_;for(var S in r)if(_=r[S],!(_.o.y<a.y&&_.d.y<a.y)&&!(_.o.y>=a.y&&_.d.y>=a.y)&&(_.o.x===_.d.x&&_.o.x>=a.x?m=_.o.x:(c=0,g=(_.d.y-_.o.y)/(_.d.x-_.o.x),o=a.y-c*a.x,p=_.o.y-g*_.o.x,m=-(o-p)/(c-g)),m>=a.x&&(y+=1),y===2))break;return y},getBoundingRect:function(a,r){var c=this.getCoords(a,r);return i.makeBoundingBoxFromPoints(c)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(a){return Math.abs(a)<this.minScaleLimit?a<0?-this.minScaleLimit:this.minScaleLimit:a===0?1e-4:a},scale:function(a){return this._set("scaleX",a),this._set("scaleY",a),this.setCoords()},scaleToWidth:function(a,r){var c=this.getBoundingRect(r).width/this.getScaledWidth();return this.scale(a/this.width/c)},scaleToHeight:function(a,r){var c=this.getBoundingRect(r).height/this.getScaledHeight();return this.scale(a/this.height/c)},calcLineCoords:function(){var a=this.getViewportTransform(),r=this.padding,c=h(this.angle),g=i.cos(c),o=i.sin(c),p=g*r,m=o*r,y=p+m,_=p-m,S=this.calcACoords(),w={tl:s(S.tl,a),tr:s(S.tr,a),bl:s(S.bl,a),br:s(S.br,a)};return r&&(w.tl.x-=_,w.tl.y-=y,w.tr.x+=y,w.tr.y-=_,w.bl.x-=y,w.bl.y+=_,w.br.x+=_,w.br.y+=y),w},calcOCoords:function(){var a=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),c=this.getViewportTransform(),g=d(c,r),o=d(g,a),o=d(o,[1/c[0],0,0,1/c[3],0,0]),p=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(y,_,S){m[_]=y.positionHandler(p,o,S)}),m},calcACoords:function(){var a=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),c=d(r,a),g=this._getTransformedDimensions(),o=g.x/2,p=g.y/2;return{tl:s({x:-o,y:-p},c),tr:s({x:o,y:-p},c),bl:s({x:-o,y:p},c),br:s({x:o,y:p},c)}},setCoords:function(a){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),a?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var a=this.getCenterPoint();return[1,0,0,1,a.x,a.y]},transformMatrixKey:function(a){var r="_",c="";return!a&&this.group&&(c=this.group.transformMatrixKey(a)+r),c+this.top+r+this.left+r+this.scaleX+r+this.scaleY+r+this.skewX+r+this.skewY+r+this.angle+r+this.originX+r+this.originY+r+this.width+r+this.height+r+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(a){var r=this.calcOwnMatrix();if(a||!this.group)return r;var c=this.transformMatrixKey(a),g=this.matrixCache||(this.matrixCache={});return g.key===c?g.value:(this.group&&(r=d(this.group.calcTransformMatrix(!1),r)),g.key=c,g.value=r,r)},calcOwnMatrix:function(){var a=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===a)return r.value;var c=this._calcTranslateMatrix(),g={angle:this.angle,translateX:c[4],translateY:c[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=a,r.value=i.composeMatrix(g),r.value},_getNonTransformedDimensions:function(){var a=this.strokeWidth,r=this.width+a,c=this.height+a;return{x:r,y:c}},_getTransformedDimensions:function(a,r){typeof a=="undefined"&&(a=this.skewX),typeof r=="undefined"&&(r=this.skewY);var c,g,o,p=a===0&&r===0;if(this.strokeUniform?(g=this.width,o=this.height):(c=this._getNonTransformedDimensions(),g=c.x,o=c.y),p)return this._finalizeDimensions(g*this.scaleX,o*this.scaleY);var m=i.sizeAfterTransform(g,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:a,skewY:r});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(a,r){return this.strokeUniform?{x:a+this.strokeWidth,y:r+this.strokeWidth}:{x:a,y:r}},_calculateCurrentDimensions:function(){var a=this.getViewportTransform(),r=this._getTransformedDimensions(),c=s(r,a,!0);return c.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(u){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,u):this.canvas&&this.canvas.sendBackwards(this,u),this},bringForward:function(u){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,u):this.canvas&&this.canvas.bringForward(this,u),this},moveTo:function(u){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,u):this.canvas&&this.canvas.moveTo(this,u),this}}),function(){function u(h,d){if(d){if(d.toLive)return h+": url(#SVGID_"+d.id+"); ";var s=new e.Color(d),a=h+": "+s.toRgb()+"; ",r=s.getAlpha();return r!==1&&(a+=h+"-opacity: "+r.toString()+"; "),a}else return h+": none; "}var i=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(h){var d=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",a=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",c=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",o=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity!="undefined"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",y=h?"":this.getSvgFilter(),_=u("fill",this.fill),S=u("stroke",this.stroke);return[S,"stroke-width: ",s,"; ","stroke-dasharray: ",a,"; ","stroke-linecap: ",c,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",o,"; ",_,"fill-rule: ",d,"; ","opacity: ",p,";",y,m].join("")},getSvgSpanStyles:function(h,d){var s="; ",r=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+s:"",a=h.strokeWidth?"stroke-width: "+h.strokeWidth+s:"",r=r,c=h.fontSize?"font-size: "+h.fontSize+"px"+s:"",g=h.fontStyle?"font-style: "+h.fontStyle+s:"",o=h.fontWeight?"font-weight: "+h.fontWeight+s:"",p=h.fill?u("fill",h.fill):"",m=h.stroke?u("stroke",h.stroke):"",y=this.getSvgTextDecoration(h),_=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return y&&(y="text-decoration: "+y+s),[m,a,r,c,g,o,y,p,_,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(d){return h[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,d){var s=h?this.calcTransformMatrix():this.calcOwnMatrix(),a='transform="'+e.util.matrixToSVG(s);return a+(d||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var d=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,d),'" y="',i(-this.height/2,d),'" width="',i(this.width,d),'" height="',i(this.height,d),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,d){d=d||{};var s=d.reviver,a=d.additionalTransform||"",r=[this.getSvgTransform(!0,a),this.getSvgCommons()].join(""),c=h.indexOf("COMMON_PARTS");return h[c]=r,s?s(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,d){d=d||{};var s=d.noStyle,a=d.reviver,r=s?"":'style="'+this.getSvgStyles()+'" ',c=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,o=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=g&&g.absolutePositioned,m=this.stroke,y=this.fill,_=this.shadow,S,w=[],E,O=h.indexOf("COMMON_PARTS"),A=d.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+e.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(a)+`</clipPath>
`),p&&w.push("<g ",c,this.getSvgCommons(),` >
`),w.push("<g ",this.getSvgTransform(!1),p?"":c+this.getSvgCommons(),` >
`),S=[r,o,s?"":this.addPaintOrder()," ",A?'transform="'+A+'" ':""].join(""),h[O]=S,y&&y.toLive&&w.push(y.toSVG(this)),m&&m.toLive&&w.push(m.toSVG(this)),_&&w.push(_.toSVG(this)),g&&w.push(E),w.push(h.join("")),w.push(`</g>
`),p&&w.push(`</g>
`),a?a(w.join("")):w.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var u=e.util.object.extend,i="stateProperties";function h(s,a,r){var c={},g=!0;r.forEach(function(o){c[o]=s[o]}),u(s[a],c,g)}function d(s,a,r){if(s===a)return!0;if(Array.isArray(s)){if(!Array.isArray(a)||s.length!==a.length)return!1;for(var c=0,g=s.length;c<g;c++)if(!d(s[c],a[c]))return!1;return!0}else if(s&&typeof s=="object"){var o=Object.keys(s),p;if(!a||typeof a!="object"||!r&&o.length!==Object.keys(a).length)return!1;for(var c=0,g=o.length;c<g;c++)if(p=o[c],!(p==="canvas"||p==="group")&&!d(s[p],a[p]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(s){s=s||i;var a="_"+s;return Object.keys(this[a]).length<this[s].length?!0:!d(this[a],this,!0)},saveState:function(s){var a=s&&s.propertySet||i,r="_"+a;return this[r]?(h(this,r,this[a]),s&&s.stateProperties&&h(this,r,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var a=s.propertySet||i;return s.propertySet=a,this["_"+a]={},this.saveState(s),this}})}(),function(){var u=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=i.x,s=i.y,a,r,c=Object.keys(this.oCoords),g=c.length-1,o;for(this.__corner=0;g>=0;g--)if(o=c[g],!!this.isControlVisible(o)&&(r=this._getImageLines(h?this.oCoords[o].touchCorner:this.oCoords[o].corner),a=this._findCrossPoints({x:d,y:s},r),a!==0&&a%2===1))return this.__corner=o,o;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var d=this.controls[h];i[h].corner=d.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),d=this._calculateCurrentDimensions(),s=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/s[0],1/s[3]),i.rotate(u(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-d.x/2,-d.y/2,d.x,d.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var d=this._calculateCurrentDimensions(),s=this.borderScaleFactor,a=d.x+s,r=d.y+s,c=typeof h.hasControls!="undefined"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-a/2,-r/2,a,r),c&&(i.beginPath(),this.forEachControl(function(o,p,m){o.withConnection&&o.getVisibility(m,p)&&(g=!0,i.moveTo(o.x*a,o.y*r),i.lineTo(o.x*a+o.offsetX,o.y*r+o.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,d){d=d||{};var s=e.util.sizeAfterTransform(this.width,this.height,h),a=this.strokeWidth,r=this.strokeUniform,c=this.borderScaleFactor,g=s.x+a*(r?this.canvas.getZoom():h.scaleX)+c,o=s.y+a*(r?this.canvas.getZoom():h.scaleY)+c;return i.save(),this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeStyle=d.borderColor||this.borderColor,i.strokeRect(-g/2,-o/2,g,o),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var d=this.canvas.getRetinaScaling(),s,a;return i.setTransform(d,0,0,d,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(r,c,g){a=g.oCoords[c],r.getVisibility(g,c)&&(s&&(a=e.util.transformPoint(a,s)),r.render(i,a.x,a.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,s=i.onChange||h,a=this;return e.util.animate({target:this,startValue:u.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(r){u.set("left",r),a.requestRenderAll(),s()},onComplete:function(){u.setCoords(),d()}})},fxCenterObjectV:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,s=i.onChange||h,a=this;return e.util.animate({target:this,startValue:u.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(r){u.set("top",r),a.requestRenderAll(),s()},onComplete:function(){u.setCoords(),d()}})},fxRemove:function(u,i){i=i||{};var h=function(){},d=i.onComplete||h,s=i.onChange||h,a=this;return e.util.animate({target:this,startValue:u.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(r){u.set("opacity",r),a.requestRenderAll(),s()},onComplete:function(){a.remove(u),d()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var u=[],i,h,d=[];for(i in arguments[0])u.push(i);for(var s=0,a=u.length;s<a;s++)i=u[s],h=s!==a-1,d.push(this._animate(i,arguments[0][i],arguments[1],h));return d}else return this._animate.apply(this,arguments)},_animate:function(u,i,h,d){var s=this,a;i=i.toString(),h?h=e.util.object.clone(h):h={},~u.indexOf(".")&&(a=u.split("."));var r=s.colorProperties.indexOf(u)>-1||a&&s.colorProperties.indexOf(a[1])>-1,c=a?this.get(a[0])[a[1]]:this.get(u);"from"in h||(h.from=c),r||(~i.indexOf("=")?i=c+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(o,p,m){return h.abort.call(s,o,p,m)},onChange:function(o,p,m){a?s[a[0]][a[1]]=o:s.set(u,o),!d&&h.onChange&&h.onChange(o,p,m)},onComplete:function(o,p,m){d||(s.setCoords(),h.onComplete&&h.onComplete(o,p,m))}};return r?e.util.animateColor(g.startValue,g.endValue,g.duration,g):e.util.animate(g)}}),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.object.clone,s={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(r,c){r||(r=[0,0,0,0]),this.callSuper("initialize",c),this.set("x1",r[0]),this.set("y1",r[1]),this.set("x2",r[2]),this.set("y2",r[3]),this._setWidthHeight(c)},_setWidthHeight:function(r){r||(r={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in r?r.left:this._getLeftToOriginX(),this.top="top"in r?r.top:this._getTopToOriginY()},_set:function(r,c){return this.callSuper("_set",r,c),typeof s[r]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(r){r.beginPath();var c=this.calcLinePoints();r.moveTo(c.x1,c.y1),r.lineTo(c.x2,c.y2),r.lineWidth=this.strokeWidth;var g=r.strokeStyle;r.strokeStyle=this.stroke||r.fillStyle,this.stroke&&this._renderStroke(r),r.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(r){return h(this.callSuper("toObject",r),this.calcLinePoints())},_getNonTransformedDimensions:function(){var r=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(r.y-=this.strokeWidth),this.height===0&&(r.x-=this.strokeWidth)),r},calcLinePoints:function(){var r=this.x1<=this.x2?-1:1,c=this.y1<=this.y2?-1:1,g=r*this.width*.5,o=c*this.height*.5,p=r*this.width*-.5,m=c*this.height*-.5;return{x1:g,x2:p,y1:o,y2:m}},_toSVG:function(){var r=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(r,c,g){g=g||{};var o=i.parseAttributes(r,i.Line.ATTRIBUTE_NAMES),p=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];c(new i.Line(p,h(o,g)))},i.Line.fromObject=function(r,c){function g(p){delete p.points,c&&c(p)}var o=d(r,!0);o.points=[r.x1,r.y1,r.x2,r.y2],i.Object._fromObject("Line",o,g,"points")};function a(r,c){var g=r.origin,o=r.axis1,p=r.axis2,m=r.dimension,y=c.nearest,_=c.center,S=c.farthest;return function(){switch(this.get(g)){case y:return Math.min(this.get(o),this.get(p));case _:return Math.min(this.get(o),this.get(p))+.5*this.get(m);case S:return Math.max(this.get(o),this.get(p))}}}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(s,a){return this.callSuper("_set",s,a),s==="radius"&&this.setRadius(a),this},toObject:function(s){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(s))},_toSVG:function(){var s,a=0,r=0,c=(this.endAngle-this.startAngle)%360;if(c===0)s=["<circle ","COMMON_PARTS",'cx="'+a+'" cy="'+r+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),o=h(this.endAngle),p=this.radius,m=i.util.cos(g)*p,y=i.util.sin(g)*p,_=i.util.cos(o)*p,S=i.util.sin(o)*p,w=c>180?"1":"0";s=['<path d="M '+m+" "+y," A "+p+" "+p," 0 ",+w+" 1"," "+_+" "+S,'" ',"COMMON_PARTS",` />
`]}return s},_render:function(s){s.beginPath(),s.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(s)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(s){return this.radius=s,this.set("width",s*2).set("height",s*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(s,a){var r=i.parseAttributes(s,i.Circle.ATTRIBUTE_NAMES);if(!d(r))throw new Error("value of `r` attribute is required and can not be negative");r.left=(r.left||0)-r.radius,r.top=(r.top||0)-r.radius,a(new i.Circle(r))};function d(s){return"radius"in s&&s.radius>=0}i.Circle.fromObject=function(s,a){i.Object._fromObject("Circle",s,a)}}(t),function(u){var i=u.fabric||(u.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var d=this.width/2,s=this.height/2;h.beginPath(),h.moveTo(-d,s),h.lineTo(0,-s),h.lineTo(d,s),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,d=this.height/2,s=[-h+" "+d,"0 "+-d,h+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',s,'" />']}}),i.Triangle.fromObject=function(h,d){return i.Object._fromObject("Triangle",h,d)}}(t),function(u){var i=u.fabric||(u.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,s){switch(this.callSuper("_set",d,s),d){case"rx":this.rx=s,this.set("width",s*2);break;case"ry":this.ry=s,this.set("height",s*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,h,!1),d.restore(),this._renderPaintInOrder(d)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(d,s){var a=i.parseAttributes(d,i.Ellipse.ATTRIBUTE_NAMES);a.left=(a.left||0)-a.rx,a.top=(a.top||0)-a.ry,s(new i.Ellipse(a))},i.Ellipse.fromObject=function(d,s){i.Object._fromObject("Ellipse",d,s)}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var s=this.rx?Math.min(this.rx,this.width/2):0,a=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,c=this.height,g=-this.width/2,o=-this.height/2,p=s!==0||a!==0,m=1-.5522847498;d.beginPath(),d.moveTo(g+s,o),d.lineTo(g+r-s,o),p&&d.bezierCurveTo(g+r-m*s,o,g+r,o+m*a,g+r,o+a),d.lineTo(g+r,o+c-a),p&&d.bezierCurveTo(g+r,o+c-m*a,g+r-m*s,o+c,g+r-s,o+c),d.lineTo(g+s,o+c),p&&d.bezierCurveTo(g+m*s,o+c,g,o+c-m*a,g,o+c-a),d.lineTo(g,o+a),p&&d.bezierCurveTo(g,o+m*a,g+m*s,o,g+s,o),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,s=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',s,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(d,s,a){if(!d)return s(null);a=a||{};var r=i.parseAttributes(d,i.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0,r.height=r.height||0,r.width=r.width||0;var c=new i.Rect(h(a?i.util.object.clone(a):{},r));c.visible=c.visible&&c.width>0&&c.height>0,s(c)},i.Rect.fromObject=function(d,s){return i.Object._fromObject("Rect",d,s)}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.util.array.min,s=i.util.array.max,a=i.util.toFixed,r=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(c,g){g=g||{},this.points=c||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return r(this.points,this,!0)},_setPositionDimensions:function(c){var g=this._calcDimensions(c),o,p=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-p,this.height=g.height-p,c.fromSVG||(o=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+p/2,y:g.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof c.left=="undefined"&&(this.left=c.fromSVG?g.left:o.x),typeof c.top=="undefined"&&(this.top=c.fromSVG?g.top:o.y),this.pathOffset={x:g.left+this.width/2+p/2,y:g.top+this.height/2+p/2}},_calcDimensions:function(){var c=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=d(c,"x")||0,o=d(c,"y")||0,p=s(c,"x")||0,m=s(c,"y")||0,y=p-g,_=m-o;return{left:g,top:o,width:y,height:_}},toObject:function(c){return h(this.callSuper("toObject",c),{points:this.points.concat()})},_toSVG:function(){for(var c=[],g=this.pathOffset.x,o=this.pathOffset.y,p=i.Object.NUM_FRACTION_DIGITS,m=0,y=this.points.length;m<y;m++)c.push(a(this.points[m].x-g,p),",",a(this.points[m].y-o,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',c.join(""),`" />
`]},commonRender:function(c){var g,o=this.points.length,p=this.pathOffset.x,m=this.pathOffset.y;if(!o||isNaN(this.points[o-1].y))return!1;c.beginPath(),c.moveTo(this.points[0].x-p,this.points[0].y-m);for(var y=0;y<o;y++)g=this.points[y],c.lineTo(g.x-p,g.y-m);return!0},_render:function(c){!this.commonRender(c)||this._renderPaintInOrder(c)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(c){return function(g,o,p){if(!g)return o(null);p||(p={});var m=i.parsePointsAttribute(g.getAttribute("points")),y=i.parseAttributes(g,i[c].ATTRIBUTE_NAMES);y.fromSVG=!0,o(new i[c](m,h(y,p)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(c,g){return i.Object._fromObject("Polyline",c,g,"points")}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(d){!this.commonRender(d)||(d.closePath(),this._renderPaintInOrder(d))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(d,s){i.Object._fromObject("Polygon",d,s,"points")}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max,s=i.util.object.extend,a=i.util.object.clone,r=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(c,g){g=a(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(c||[],g)},_setPath:function(c,g){this.path=i.util.makePathSimpler(Array.isArray(c)?c:i.util.parsePath(c)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(c){var g,o=0,p=0,m=0,y=0,_=0,S=0,w=-this.pathOffset.x,E=-this.pathOffset.y;c.beginPath();for(var O=0,A=this.path.length;O<A;++O)switch(g=this.path[O],g[0]){case"L":m=g[1],y=g[2],c.lineTo(m+w,y+E);break;case"M":m=g[1],y=g[2],o=m,p=y,c.moveTo(m+w,y+E);break;case"C":m=g[5],y=g[6],_=g[3],S=g[4],c.bezierCurveTo(g[1]+w,g[2]+E,_+w,S+E,m+w,y+E);break;case"Q":c.quadraticCurveTo(g[1]+w,g[2]+E,g[3]+w,g[4]+E),m=g[3],y=g[4],_=g[1],S=g[2];break;case"z":case"Z":m=o,y=p,c.closePath();break}},_render:function(c){this._renderPathCommands(c),this._renderPaintInOrder(c)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(c){return s(this.callSuper("toObject",c),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(c){var g=this.toObject(["sourcePath"].concat(c));return g.sourcePath&&delete g.path,g},_toSVG:function(){var c=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',c,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var c=i.Object.NUM_FRACTION_DIGITS;return" translate("+r(-this.pathOffset.x,c)+", "+r(-this.pathOffset.y,c)+")"},toClipPathSVG:function(c){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},toSVG:function(c){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var c=[],g=[],o,p=0,m=0,y=0,_=0,S,w=0,E=this.path.length;w<E;++w){switch(o=this.path[w],o[0]){case"L":y=o[1],_=o[2],S=[];break;case"M":y=o[1],_=o[2],p=y,m=_,S=[];break;case"C":S=i.util.getBoundsOfCurve(y,_,o[1],o[2],o[3],o[4],o[5],o[6]),y=o[5],_=o[6];break;case"Q":S=i.util.getBoundsOfCurve(y,_,o[1],o[2],o[1],o[2],o[3],o[4]),y=o[3],_=o[4];break;case"z":case"Z":y=p,_=m;break}S.forEach(function(Q){c.push(Q.x),g.push(Q.y)}),c.push(y),g.push(_)}var O=h(c)||0,A=h(g)||0,j=d(c)||0,V=d(g)||0,G=j-O,$=V-A;return{left:O,top:A,width:G,height:$}}}),i.Path.fromObject=function(c,g){if(typeof c.sourcePath=="string"){var o=c.sourcePath;i.loadSVGFromURL(o,function(p){var m=p[0];m.setOptions(c),g&&g(m)})}else i.Object._fromObject("Path",c,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(c,g,o){var p=i.parseAttributes(c,i.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,g(new i.Path(p.d,s(p,o)))}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.array.min,d=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(s,a,r){a=a||{},this._objects=[],r&&this.callSuper("initialize",a),this._objects=s||[];for(var c=this._objects.length;c--;)this._objects[c].group=this;if(r)this._updateObjectsACoords();else{var g=a&&a.centerPoint;a.originX!==void 0&&(this.originX=a.originX),a.originY!==void 0&&(this.originY=a.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete a.centerPoint,this.callSuper("initialize",a)}this.setCoords()},_updateObjectsACoords:function(){for(var s=!0,a=this._objects.length;a--;)this._objects[a].setCoords(s)},_updateObjectsCoords:function(a){for(var a=a||this.getCenterPoint(),r=this._objects.length;r--;)this._updateObjectCoords(this._objects[r],a)},_updateObjectCoords:function(s,a){var r=s.left,c=s.top,g=!0;s.set({left:r-a.x,top:c-a.y}),s.group=this,s.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){var a=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),s&&(a&&i.util.removeTransformFromObject(s,this.group.calcTransformMatrix()),this._objects.push(s),s.group=this,s._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,a?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(s){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(s){this.dirty=!0,s.group=this,s._set("canvas",this.canvas)},_onObjectRemoved:function(s){this.dirty=!0,delete s.group},_set:function(s,a){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(s,a);if(s==="canvas")for(;r--;)this._objects[r]._set(s,a);i.Object.prototype._set.call(this,s,a)},toObject:function(s){var a=this.includeDefaultValues,r=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var o=g.includeDefaultValues;g.includeDefaultValues=a;var p=g.toObject(s);return g.includeDefaultValues=o,p}),c=i.Object.prototype.toObject.call(this,s);return c.objects=r,c},toDatalessObject:function(s){var a,r=this.sourcePath;if(r)a=r;else{var c=this.includeDefaultValues;a=this._objects.map(function(o){var p=o.includeDefaultValues;o.includeDefaultValues=c;var m=o.toDatalessObject(s);return o.includeDefaultValues=p,m})}var g=i.Object.prototype.toDatalessObject.call(this,s);return g.objects=a,g},render:function(s){this._transformDone=!0,this.callSuper("render",s),this._transformDone=!1},shouldCache:function(){var s=i.Object.prototype.shouldCache.call(this);if(s){for(var a=0,r=this._objects.length;a<r;a++)if(this._objects[a].willDrawShadow())return this.ownCaching=!1,!1}return s},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var s=0,a=this._objects.length;s<a;s++)if(this._objects[s].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(s){for(var a=0,r=this._objects.length;a<r;a++)this._objects[a].render(s);this._drawClipPath(s,this.clipPath)},isCacheDirty:function(s){if(this.callSuper("isCacheDirty",s))return!0;if(!this.statefullCache)return!1;for(var a=0,r=this._objects.length;a<r;a++)if(this._objects[a].isCacheDirty(!0)){if(this._cacheCanvas){var c=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-c/2,-g/2,c,g)}return!0}return!1},_restoreObjectsState:function(){var s=this.calcOwnMatrix();return this._objects.forEach(function(a){i.util.addTransformToObject(a,s),delete a.group,a.setCoords()}),this},destroy:function(){return this._objects.forEach(function(s){s.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var s=this._objects,a=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var c=new i.ActiveSelection([]);return c.set(r),c.type="activeSelection",a.remove(this),s.forEach(function(g){g.group=c,g.dirty=!0,a.add(g)}),c.canvas=a,c._objects=s,a._activeObject=c,c.setCoords(),c}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var s=!0;return this.forEachObject(function(a){a.setCoords(s)}),this},_calcBounds:function(s){for(var a=[],r=[],c,g,o,p=["tr","br","bl","tl"],m=0,y=this._objects.length,_,S=p.length;m<y;++m){for(c=this._objects[m],o=c.calcACoords(),_=0;_<S;_++)g=p[_],a.push(o[g].x),r.push(o[g].y);c.aCoords=o}this._getBounds(a,r,s)},_getBounds:function(s,a,r){var c=new i.Point(h(s),h(a)),g=new i.Point(d(s),d(a)),o=c.y||0,p=c.x||0,m=g.x-c.x||0,y=g.y-c.y||0;this.width=m,this.height=y,r||this.setPositionByOrigin({x:p,y:o},"left","top")},_toSVG:function(s){for(var a=["<g ","COMMON_PARTS",` >
`],r=0,c=this._objects.length;r<c;r++)a.push("		",this._objects[r].toSVG(s));return a.push(`</g>
`),a},getSvgStyles:function(){var s=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",a=this.visible?"":" visibility: hidden;";return[s,this.getSvgFilter(),a].join("")},toClipPathSVG:function(s){for(var a=[],r=0,c=this._objects.length;r<c;r++)a.push("	",this._objects[r].toClipPathSVG(s));return this._createBaseClipPathSVGMarkup(a,{reviver:s})}}),i.Group.fromObject=function(s,a){var r=s.objects,c=i.util.object.clone(s,!0);if(delete c.objects,typeof r=="string"){i.loadSVGFromURL(r,function(g){var o=i.util.groupSVGElements(g,s,r);o.set(c),a&&a(o)});return}i.util.enlivenObjects(r,function(g){var o=i.util.object.clone(s,!0);delete o.objects,i.util.enlivenObjectEnlivables(s,o,function(){a&&a(new i.Group(g,o,!0))})})})}(t),function(u){var i=u.fabric||(u.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,d){d=d||{},this._objects=h||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var d=i.Object.prototype.toObject.call(this),s=new i.Group([]);if(delete d.type,s.set(d),h.forEach(function(r){r.canvas.remove(r),r.group=s}),s._objects=h,!this.canvas)return s;var a=this.canvas;return a.add(s),a._activeObject=s,s.setCoords(),s},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,d,s){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,d),s=s||{},typeof s.hasControls=="undefined"&&(s.hasControls=!1),s.forActiveSelection=!0;for(var a=0,r=this._objects.length;a<r;a++)this._objects[a]._renderControls(h,s);h.restore()}}),i.ActiveSelection.fromObject=function(h,d){i.util.enlivenObjects(h.objects,function(s){delete h.objects,d&&d(new i.ActiveSelection(s,h,!0))})})}(t),function(u){var i=e.util.object.extend;if(u.fabric||(u.fabric={}),u.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,d){d||(d={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",d),this._initElement(h,d)},getElement:function(){return this._element||{}},setElement:function(h,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var d=e.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){e.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,s=this.height/2;h.beginPath(),h.moveTo(-d,-s),h.lineTo(d,-s),h.lineTo(d,s),h.lineTo(-d,s),h.lineTo(-d,-s),h.closePath()}},toObject:function(h){var d=[];this.filters.forEach(function(a){a&&d.push(a.toObject())});var s=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(s.resizeFilter=this.resizeFilter.toObject()),s},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],d=[],s,a=this._element,r=-this.width/2,c=-this.height/2,g="",o="";if(!a)return[];if(this.hasCrop()){var p=e.Object.__uid++;h.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+r+'" y="'+c+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(o='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',c-this.cropY,'" width="',a.width||a.naturalWidth,'" height="',a.height||a.height,o,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,s=["	<rect ",'x="',r,'" y="',c,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?h=h.concat(s,d):h=h.concat(d,s),h},getSrc:function(h){var d=h?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(h,d,s){return e.util.loadImage(h,function(a,r){this.setElement(a,s),this._setWidthHeight(),d&&d(this,r)},this,s&&s.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,d=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),a=s.scaleX,r=s.scaleY,c=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||a>d&&r>d){this._element=c,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=a,this._lastScaleY=r;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var g=e.util.createCanvasElement(),o=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=c.width,m=c.height;g.width=p,g.height=m,this._element=g,this._lastScaleX=h.scaleX=a,this._lastScaleY=h.scaleY=r,e.filterBackend.applyFilters([h],c,p,m,this._element,o),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(c){return c&&!c.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,s=d.naturalWidth||d.width,a=d.naturalHeight||d.height;if(this._element===this._originalElement){var r=e.util.createCanvasElement();r.width=s,r.height=a,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,a),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(h,this._originalElement,s,a,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var d=this._element;if(!!d){var s=this._filterScalingX,a=this._filterScalingY,r=this.width,c=this.height,g=Math.min,o=Math.max,p=o(this.cropX,0),m=o(this.cropY,0),y=d.naturalWidth||d.width,_=d.naturalHeight||d.height,S=p*s,w=m*a,E=g(r*s,y-S),O=g(c*a,_-w),A=-r/2,j=-c/2,V=g(r,y/s-p),G=g(c,_/a-m);d&&h.drawImage(d,S,w,E,O,A,j,V,G)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,d){this.setElement(e.util.getById(h),d),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,d){h&&h.length?e.util.enlivenObjects(h,function(s){d&&d(s)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(h){h||(h={});var d=this.getElement();this.width=h.width||d.naturalWidth||d.width||0,this.height=h.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var h=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,s=this._element.height,a=1,r=1,c=0,g=0,o=0,p=0,m,y=this.width,_=this.height,S={width:y,height:_};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(a=r=e.util.findScaleToFit(this._element,S),m=(y-d*a)/2,h.alignX==="Min"&&(c=-m),h.alignX==="Max"&&(c=m),m=(_-s*r)/2,h.alignY==="Min"&&(g=-m),h.alignY==="Max"&&(g=m)),h.meetOrSlice==="slice"&&(a=r=e.util.findScaleToCover(this._element,S),m=d-y/a,h.alignX==="Mid"&&(o=m/2),h.alignX==="Max"&&(o=m),m=s-_/r,h.alignY==="Mid"&&(p=m/2),h.alignY==="Max"&&(p=m),d=y/a,s=_/r)):(a=y/d,r=_/s),{width:d,height:s,scaleX:a,scaleY:r,offsetLeft:c,offsetTop:g,cropX:o,cropY:p}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(h,d){var s=e.util.object.clone(h);e.util.loadImage(s.src,function(a,r){if(r){d&&d(null,!0);return}e.Image.prototype._initFilters.call(s,s.filters,function(c){s.filters=c||[],e.Image.prototype._initFilters.call(s,[s.resizeFilter],function(g){s.resizeFilter=g[0],e.util.enlivenObjectEnlivables(s,s,function(){var o=new e.Image(a,s);d(o,!1)})})})},null,s.crossOrigin)},e.Image.fromURL=function(h,d,s){e.util.loadImage(h,function(a,r){d&&d(new e.Image(a,s),r)},null,s&&s.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(h,d,s){var a=e.parseAttributes(h,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(a["xlink:href"],d,i(s?e.util.object.clone(s):{},a))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var u=this.angle%360;return u>0?Math.round((u-1)/90)*90:Math.round(u/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(u){u=u||{};var i=function(){},h=u.onComplete||i,d=u.onChange||i,s=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(a){s.rotate(a),d()},onComplete:function(){s.setCoords(),h()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(u){return u.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(u){return u.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function u(h,d){var s="precision "+d+` float;
void main(){}`,a=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(a,s),h.compileShader(a),!!h.getShaderParameter(a,h.COMPILE_STATUS)}e.isWebglSupported=function(h){if(e.isLikelyNode)return!1;h=h||e.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),s=d.getContext("webgl")||d.getContext("experimental-webgl"),a=!1;if(s){e.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),a=e.maxTextureSize>=h;for(var r=["highp","mediump","lowp"],c=0;c<3;c++)if(u(s,r[c])){e.webGlPrecision=r[c];break}}return this.isSupported=a,a},e.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,d){this.dispose(),this.createWebGLCanvas(h,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,d)},chooseFastestCopyGLTo2DMethod:function(h,d){var s=typeof window.performance!="undefined",a;try{new ImageData(1,1),a=!0}catch{a=!1}var r=typeof ArrayBuffer!="undefined",c=typeof Uint8ClampedArray!="undefined";if(!!(s&&a&&r&&c)){var g=e.util.createCanvasElement(),o=new ArrayBuffer(h*d*4);if(e.forceGLPutImageData){this.imageBuffer=o,this.copyGLTo2D=C;return}var p={imageBuffer:o,destinationWidth:h,destinationHeight:d,targetCanvas:g},m,y,_;g.width=h,g.height=d,m=window.performance.now(),v.call(p,this.gl,p),y=window.performance.now()-m,m=window.performance.now(),C.call(p,this.gl,p),_=window.performance.now()-m,y>_?(this.imageBuffer=o,this.copyGLTo2D=C):this.copyGLTo2D=v}},createWebGLCanvas:function(h,d){var s=e.util.createCanvasElement();s.width=h,s.height=d;var a={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=s.getContext("webgl",a);r||(r=s.getContext("experimental-webgl",a)),r&&(r.clearColor(0,0,0,0),this.canvas=s,this.gl=r)},applyFilters:function(h,d,s,a,r,c){var g=this.gl,o;c&&(o=this.getCachedTexture(c,d));var p={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:s,sourceHeight:a,destinationWidth:s,destinationHeight:a,context:g,sourceTexture:this.createTexture(g,s,a,!o&&d),targetTexture:this.createTexture(g,s,a),originalTexture:o||this.createTexture(g,s,a,!o&&d),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},m=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,m),h.forEach(function(y){y&&y.applyTo(p)}),f(p),this.copyGLTo2D(g,p),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(p.sourceTexture),g.deleteTexture(p.targetTexture),g.deleteFramebuffer(m),r.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,d,s,a){var r=h.createTexture();return h.bindTexture(h.TEXTURE_2D,r),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),a?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,d,s,0,h.RGBA,h.UNSIGNED_BYTE,null),r},getCachedTexture:function(h,d){if(this.textureCache[h])return this.textureCache[h];var s=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[h]=s,s},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:v,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,d={renderer:"",vendor:""};if(!h)return d;var s=h.getExtension("WEBGL_debug_renderer_info");if(s){var a=h.getParameter(s.UNMASKED_RENDERER_WEBGL),r=h.getParameter(s.UNMASKED_VENDOR_WEBGL);a&&(d.renderer=a.toLowerCase()),r&&(d.vendor=r.toLowerCase())}return this.gpuInfo=d,d}}}();function f(u){var i=u.targetCanvas,h=i.width,d=i.height,s=u.destinationWidth,a=u.destinationHeight;(h!==s||d!==a)&&(i.width=s,i.height=a)}function v(u,i){var h=u.canvas,d=i.targetCanvas,s=d.getContext("2d");s.translate(0,d.height),s.scale(1,-1);var a=h.height-d.height;s.drawImage(h,0,a,d.width,d.height,0,0,d.width,d.height)}function C(u,i){var h=i.targetCanvas,d=h.getContext("2d"),s=i.destinationWidth,a=i.destinationHeight,r=s*a*4,c=new Uint8Array(this.imageBuffer,0,r),g=new Uint8ClampedArray(this.imageBuffer,0,r);u.readPixels(0,0,s,a,u.RGBA,u.UNSIGNED_BYTE,c);var o=new ImageData(g,s,a);d.putImageData(o,0,0)}(function(){var u=function(){};e.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:u,dispose:u,clearWebGLCaches:u,resources:{},applyFilters:function(h,d,s,a,r){var c=r.getContext("2d");c.drawImage(d,0,0,s,a);var g=c.getImageData(0,0,s,a),o=c.getImageData(0,0,s,a),p={sourceWidth:s,sourceHeight:a,imageData:g,originalEl:d,originalImageData:o,canvasEl:r,ctx:c,filterBackend:this};return h.forEach(function(m){m.applyTo(p)}),(p.imageData.width!==s||p.imageData.height!==a)&&(r.width=p.imageData.width,r.height=p.imageData.height),c.putImageData(p.imageData,0,0),p}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(u){u&&this.setOptions(u)},setOptions:function(u){for(var i in u)this[i]=u[i]},createProgram:function(u,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,e.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var d=u.createShader(u.VERTEX_SHADER);if(u.shaderSource(d,h),u.compileShader(d),!u.getShaderParameter(d,u.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+u.getShaderInfoLog(d));var s=u.createShader(u.FRAGMENT_SHADER);if(u.shaderSource(s,i),u.compileShader(s),!u.getShaderParameter(s,u.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+u.getShaderInfoLog(s));var a=u.createProgram();if(u.attachShader(a,d),u.attachShader(a,s),u.linkProgram(a),!u.getProgramParameter(a,u.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+u.getProgramInfoLog(a));var r=this.getAttributeLocations(u,a),c=this.getUniformLocations(u,a)||{};return c.uStepW=u.getUniformLocation(a,"uStepW"),c.uStepH=u.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:r,uniformLocations:c}},getAttributeLocations:function(u,i){return{aPosition:u.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(u,i,h){var d=i.aPosition,s=u.createBuffer();u.bindBuffer(u.ARRAY_BUFFER,s),u.enableVertexAttribArray(d),u.vertexAttribPointer(d,2,u.FLOAT,!1,0,0),u.bufferData(u.ARRAY_BUFFER,h,u.STATIC_DRAW)},_setupFrameBuffer:function(u){var i=u.context,h,d;u.passes>1?(h=u.destinationWidth,d=u.destinationHeight,(u.sourceWidth!==h||u.sourceHeight!==d)&&(i.deleteTexture(u.targetTexture),u.targetTexture=u.filterBackend.createTexture(i,h,d)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,u.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(u){u.passes--,u.pass++;var i=u.targetTexture;u.targetTexture=u.sourceTexture,u.sourceTexture=i},isNeutralState:function(){var u=this.mainParameter,i=e.Image.filters[this.type].prototype;if(u)if(Array.isArray(i[u])){for(var h=i[u].length;h--;)if(this[u][h]!==i[u][h])return!1;return!0}else return i[u]===this[u];else return!1},applyTo:function(u){u.webgl?(this._setupFrameBuffer(u),this.applyToWebGL(u),this._swapTextures(u)):this.applyTo2d(u)},retrieveShader:function(u){return u.programCache.hasOwnProperty(this.type)||(u.programCache[this.type]=this.createProgram(u.context)),u.programCache[this.type]},applyToWebGL:function(u){var i=u.context,h=this.retrieveShader(u);u.pass===0&&u.originalTexture?i.bindTexture(i.TEXTURE_2D,u.originalTexture):i.bindTexture(i.TEXTURE_2D,u.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,u.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/u.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/u.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,u.destinationWidth,u.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(u,i,h){u.activeTexture(h),u.bindTexture(u.TEXTURE_2D,i),u.activeTexture(u.TEXTURE0)},unbindAdditionalTexture:function(u,i){u.activeTexture(i),u.bindTexture(u.TEXTURE_2D,null),u.activeTexture(u.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(u){this[this.mainParameter]=u},sendUniformData:function(){},createHelpLayer:function(u){if(!u.helpLayer){var i=document.createElement("canvas");i.width=u.sourceWidth,i.height=u.sourceHeight,u.helpLayer=i}},toObject:function(){var u={type:this.type},i=this.mainParameter;return i&&(u[i]=this[i]),u},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(u,i){var h=new e.Image.filters[u.type](u);return i&&i(h),h},function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.ColorMatrix=d(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(s){this.callSuper("initialize",s),this.matrix=this.matrix.slice(0)},applyTo2d:function(s){var a=s.imageData,r=a.data,c=r.length,g=this.matrix,o,p,m,y,_,S=this.colorsOnly;for(_=0;_<c;_+=4)o=r[_],p=r[_+1],m=r[_+2],S?(r[_]=o*g[0]+p*g[1]+m*g[2]+g[4]*255,r[_+1]=o*g[5]+p*g[6]+m*g[7]+g[9]*255,r[_+2]=o*g[10]+p*g[11]+m*g[12]+g[14]*255):(y=r[_+3],r[_]=o*g[0]+p*g[1]+m*g[2]+y*g[3]+g[4]*255,r[_+1]=o*g[5]+p*g[6]+m*g[7]+y*g[8]+g[9]*255,r[_+2]=o*g[10]+p*g[11]+m*g[12]+y*g[13]+g[14]*255,r[_+3]=o*g[15]+p*g[16]+m*g[17]+y*g[18]+g[19]*255)},getUniformLocations:function(s,a){return{uColorMatrix:s.getUniformLocation(a,"uColorMatrix"),uConstants:s.getUniformLocation(a,"uConstants")}},sendUniformData:function(s,a){var r=this.matrix,c=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],g=[r[4],r[9],r[14],r[19]];s.uniformMatrix4fv(a.uColorMatrix,!1,c),s.uniform4fv(a.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Brightness=d(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(s){if(this.brightness!==0){var a=s.imageData,r=a.data,c,g=r.length,o=Math.round(this.brightness*255);for(c=0;c<g;c+=4)r[c]=r[c]+o,r[c+1]=r[c+1]+o,r[c+2]=r[c+2]+o}},getUniformLocations:function(s,a){return{uBrightness:s.getUniformLocation(a,"uBrightness")}},sendUniformData:function(s,a){s.uniform1f(a.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,s=i.util.createClass;d.Convolute=s(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(a){var r=Math.sqrt(this.matrix.length),c=this.type+"_"+r+"_"+(this.opaque?1:0),g=this.fragmentSource[c];return a.programCache.hasOwnProperty(c)||(a.programCache[c]=this.createProgram(a.context,g)),a.programCache[c]},applyTo2d:function(a){var r=a.imageData,c=r.data,g=this.matrix,o=Math.round(Math.sqrt(g.length)),p=Math.floor(o/2),m=r.width,y=r.height,_=a.ctx.createImageData(m,y),S=_.data,w=this.opaque?1:0,E,O,A,j,V,G,$,Q,K,te,re,ne,T;for(re=0;re<y;re++)for(te=0;te<m;te++){for(V=(re*m+te)*4,E=0,O=0,A=0,j=0,T=0;T<o;T++)for(ne=0;ne<o;ne++)$=re+T-p,G=te+ne-p,!($<0||$>=y||G<0||G>=m)&&(Q=($*m+G)*4,K=g[T*o+ne],E+=c[Q]*K,O+=c[Q+1]*K,A+=c[Q+2]*K,w||(j+=c[Q+3]*K));S[V]=E,S[V+1]=O,S[V+2]=A,w?S[V+3]=c[V+3]:S[V+3]=j}a.imageData=_},getUniformLocations:function(a,r){return{uMatrix:a.getUniformLocation(r,"uMatrix"),uOpaque:a.getUniformLocation(r,"uOpaque"),uHalfSize:a.getUniformLocation(r,"uHalfSize"),uSize:a.getUniformLocation(r,"uSize")}},sendUniformData:function(a,r){a.uniform1fv(r.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Grayscale=d(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(s){var a=s.imageData,r=a.data,c,g=r.length,o,p=this.mode;for(c=0;c<g;c+=4)p==="average"?o=(r[c]+r[c+1]+r[c+2])/3:p==="lightness"?o=(Math.min(r[c],r[c+1],r[c+2])+Math.max(r[c],r[c+1],r[c+2]))/2:p==="luminosity"&&(o=.21*r[c]+.72*r[c+1]+.07*r[c+2]),r[c]=o,r[c+1]=o,r[c+2]=o},retrieveShader:function(s){var a=this.type+"_"+this.mode;if(!s.programCache.hasOwnProperty(a)){var r=this.fragmentSource[this.mode];s.programCache[a]=this.createProgram(s.context,r)}return s.programCache[a]},getUniformLocations:function(s,a){return{uMode:s.getUniformLocation(a,"uMode")}},sendUniformData:function(s,a){var r=1;s.uniform1i(a.uMode,r)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Invert=d(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(s){var a=s.imageData,r=a.data,c,g=r.length;for(c=0;c<g;c+=4)r[c]=255-r[c],r[c+1]=255-r[c+1],r[c+2]=255-r[c+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(s,a){return{uInvert:s.getUniformLocation(a,"uInvert")}},sendUniformData:function(s,a){s.uniform1i(a.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,s=i.util.createClass;d.Noise=s(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(a){if(this.noise!==0){var r=a.imageData,c=r.data,g,o=c.length,p=this.noise,m;for(g=0,o=c.length;g<o;g+=4)m=(.5-Math.random())*p,c[g]+=m,c[g+1]+=m,c[g+2]+=m}},getUniformLocations:function(a,r){return{uNoise:a.getUniformLocation(r,"uNoise"),uSeed:a.getUniformLocation(r,"uSeed")}},sendUniformData:function(a,r){a.uniform1f(r.uNoise,this.noise/255),a.uniform1f(r.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Pixelate=d(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(s){var a=s.imageData,r=a.data,c=a.height,g=a.width,o,p,m,y,_,S,w,E,O,A,j;for(p=0;p<c;p+=this.blocksize)for(m=0;m<g;m+=this.blocksize)for(o=p*4*g+m*4,y=r[o],_=r[o+1],S=r[o+2],w=r[o+3],A=Math.min(p+this.blocksize,c),j=Math.min(m+this.blocksize,g),E=p;E<A;E++)for(O=m;O<j;O++)o=E*4*g+O*4,r[o]=y,r[o+1]=_,r[o+2]=S,r[o+3]=w},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(s,a){return{uBlocksize:s.getUniformLocation(a,"uBlocksize"),uStepW:s.getUniformLocation(a,"uStepW"),uStepH:s.getUniformLocation(a,"uStepH")}},sendUniformData:function(s,a){s.uniform1f(a.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.extend,d=i.Image.filters,s=i.util.createClass;d.RemoveColor=s(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(a){var r=a.imageData,c=r.data,g,o=this.distance*255,p,m,y,_=new i.Color(this.color).getSource(),S=[_[0]-o,_[1]-o,_[2]-o],w=[_[0]+o,_[1]+o,_[2]+o];for(g=0;g<c.length;g+=4)p=c[g],m=c[g+1],y=c[g+2],p>S[0]&&m>S[1]&&y>S[2]&&p<w[0]&&m<w[1]&&y<w[2]&&(c[g+3]=0)},getUniformLocations:function(a,r){return{uLow:a.getUniformLocation(r,"uLow"),uHigh:a.getUniformLocation(r,"uHigh")}},sendUniformData:function(a,r){var c=new i.Color(this.color).getSource(),g=parseFloat(this.distance),o=[0+c[0]/255-g,0+c[1]/255-g,0+c[2]/255-g,1],p=[c[0]/255+g,c[1]/255+g,c[2]/255+g,1];a.uniform4fv(r.uLow,o),a.uniform4fv(r.uHigh,p)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in s)h[a]=d(h.ColorMatrix,{type:a,matrix:s[a],mainParameter:!1,colorsOnly:!0}),i.Image.filters[a].fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendColor=d(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(s){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[s]+`}
}`},retrieveShader:function(s){var a=this.type+"_"+this.mode,r;return s.programCache.hasOwnProperty(a)||(r=this.buildSource(this.mode),s.programCache[a]=this.createProgram(s.context,r)),s.programCache[a]},applyTo2d:function(s){var a=s.imageData,r=a.data,c=r.length,g,o,p,m,y,_,S,w=1-this.alpha;S=new i.Color(this.color).getSource(),g=S[0]*this.alpha,o=S[1]*this.alpha,p=S[2]*this.alpha;for(var E=0;E<c;E+=4)switch(m=r[E],y=r[E+1],_=r[E+2],this.mode){case"multiply":r[E]=m*g/255,r[E+1]=y*o/255,r[E+2]=_*p/255;break;case"screen":r[E]=255-(255-m)*(255-g)/255,r[E+1]=255-(255-y)*(255-o)/255,r[E+2]=255-(255-_)*(255-p)/255;break;case"add":r[E]=m+g,r[E+1]=y+o,r[E+2]=_+p;break;case"diff":case"difference":r[E]=Math.abs(m-g),r[E+1]=Math.abs(y-o),r[E+2]=Math.abs(_-p);break;case"subtract":r[E]=m-g,r[E+1]=y-o,r[E+2]=_-p;break;case"darken":r[E]=Math.min(m,g),r[E+1]=Math.min(y,o),r[E+2]=Math.min(_,p);break;case"lighten":r[E]=Math.max(m,g),r[E+1]=Math.max(y,o),r[E+2]=Math.max(_,p);break;case"overlay":r[E]=g<128?2*m*g/255:255-2*(255-m)*(255-g)/255,r[E+1]=o<128?2*y*o/255:255-2*(255-y)*(255-o)/255,r[E+2]=p<128?2*_*p/255:255-2*(255-_)*(255-p)/255;break;case"exclusion":r[E]=g+m-2*g*m/255,r[E+1]=o+y-2*o*y/255,r[E+2]=p+_-2*p*_/255;break;case"tint":r[E]=g+m*w,r[E+1]=o+y*w,r[E+2]=p+_*w}},getUniformLocations:function(s,a){return{uColor:s.getUniformLocation(a,"uColor")}},sendUniformData:function(s,a){var r=new i.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,s.uniform4fv(a.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendImage=d(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(s){var a=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return s.programCache.hasOwnProperty(a)||(s.programCache[a]=this.createProgram(s.context,r)),s.programCache[a]},applyToWebGL:function(s){var a=s.context,r=this.createTexture(s.filterBackend,this.image);this.bindAdditionalTexture(a,r,a.TEXTURE1),this.callSuper("applyToWebGL",s),this.unbindAdditionalTexture(a,a.TEXTURE1)},createTexture:function(s,a){return s.getCachedTexture(a.cacheKey,a._element)},calculateMatrix:function(){var s=this.image,a=s._element.width,r=s._element.height;return[1/s.scaleX,0,0,0,1/s.scaleY,0,-s.left/a,-s.top/r,1]},applyTo2d:function(s){var a=s.imageData,r=s.filterBackend.resources,c=a.data,g=c.length,o=a.width,p=a.height,m,y,_,S,w,E,O,A,j,V,G=this.image,$;r.blendImage||(r.blendImage=i.util.createCanvasElement()),j=r.blendImage,V=j.getContext("2d"),j.width!==o||j.height!==p?(j.width=o,j.height=p):V.clearRect(0,0,o,p),V.setTransform(G.scaleX,0,0,G.scaleY,G.left,G.top),V.drawImage(G._element,0,0,o,p),$=V.getImageData(0,0,o,p).data;for(var Q=0;Q<g;Q+=4)switch(w=c[Q],E=c[Q+1],O=c[Q+2],A=c[Q+3],m=$[Q],y=$[Q+1],_=$[Q+2],S=$[Q+3],this.mode){case"multiply":c[Q]=w*m/255,c[Q+1]=E*y/255,c[Q+2]=O*_/255,c[Q+3]=A*S/255;break;case"mask":c[Q+3]=S;break}},getUniformLocations:function(s,a){return{uTransformMatrix:s.getUniformLocation(a,"uTransformMatrix"),uImage:s.getUniformLocation(a,"uImage")}},sendUniformData:function(s,a){var r=this.calculateMatrix();s.uniform1i(a.uImage,1),s.uniformMatrix3fv(a.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(s,a){i.Image.fromObject(s.image,function(r){var c=i.util.object.clone(s);c.image=r,a(new i.Image.filters.BlendImage(c))})}}(t),function(u){var i=u.fabric||(u.fabric={}),h=Math.pow,d=Math.floor,s=Math.sqrt,a=Math.abs,r=Math.round,c=Math.sin,g=Math.ceil,o=i.Image.filters,p=i.util.createClass;o.Resize=p(o.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,y){return{uDelta:m.getUniformLocation(y,"uDelta"),uTaps:m.getUniformLocation(y,"uTaps")}},sendUniformData:function(m,y){m.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(m){var y=this.getFilterWindow(),_=this.type+"_"+y;if(!m.programCache.hasOwnProperty(_)){var S=this.generateShader(y);m.programCache[_]=this.createProgram(m.context,S)}return m.programCache[_]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,_=this.getFilterWindow(),S=new Array(_),w=1;w<=_;w++)S[w-1]=m(w*y);return S},generateShader:function(S){for(var y=new Array(S),_=this.fragmentSourceTOP,S,w=1;w<=S;w++)y[w-1]=w+".0 * uDelta";return _+="uniform float uTaps["+S+`];
`,_+=`void main() {
`,_+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,_+=`  float sum = 1.0;
`,y.forEach(function(E,O){_+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+O+`];
`,_+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+O+`];
`,_+="  sum += 2.0 * uTaps["+O+`];
`}),_+=`  gl_FragColor = color / sum;
`,_+="}",_},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(y){if(y>=m||y<=-m)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var _=y/m;return c(y)/y*c(_)/_}},applyTo2d:function(m){var y=m.imageData,_=this.scaleX,S=this.scaleY;this.rcpScaleX=1/_,this.rcpScaleY=1/S;var w=y.width,E=y.height,O=r(w*_),A=r(E*S),j;this.resizeType==="sliceHack"?j=this.sliceByTwo(m,w,E,O,A):this.resizeType==="hermite"?j=this.hermiteFastResize(m,w,E,O,A):this.resizeType==="bilinear"?j=this.bilinearFiltering(m,w,E,O,A):this.resizeType==="lanczos"&&(j=this.lanczosResize(m,w,E,O,A)),m.imageData=j},sliceByTwo:function(m,y,_,S,w){var E=m.imageData,O=.5,A=!1,j=!1,V=y*O,G=_*O,$=i.filterBackend.resources,Q,K,te=0,re=0,ne=y,T=0;for($.sliceByTwo||($.sliceByTwo=document.createElement("canvas")),Q=$.sliceByTwo,(Q.width<y*1.5||Q.height<_)&&(Q.width=y*1.5,Q.height=_),K=Q.getContext("2d"),K.clearRect(0,0,y*1.5,_),K.putImageData(E,0,0),S=d(S),w=d(w);!A||!j;)y=V,_=G,S<d(V*O)?V=d(V*O):(V=S,A=!0),w<d(G*O)?G=d(G*O):(G=w,j=!0),K.drawImage(Q,te,re,y,_,ne,T,V,G),te=ne,re=T,T+=G;return K.getImageData(te,re,S,w)},lanczosResize:function(m,y,_,S,w){function E(b){var k,R,P,x,L,M,W,I,X,q,J;for(T.x=(b+.5)*G,D.x=d(T.x),k=0;k<w;k++){for(T.y=(k+.5)*$,D.y=d(T.y),L=0,M=0,W=0,I=0,X=0,R=D.x-te;R<=D.x+te;R++)if(!(R<0||R>=y)){q=d(1e3*a(R-T.x)),ne[q]||(ne[q]={});for(var N=D.y-re;N<=D.y+re;N++)N<0||N>=_||(J=d(1e3*a(N-T.y)),ne[q][J]||(ne[q][J]=V(s(h(q*Q,2)+h(J*K,2))/1e3)),P=ne[q][J],P>0&&(x=(N*y+R)*4,L+=P,M+=P*O[x],W+=P*O[x+1],I+=P*O[x+2],X+=P*O[x+3]))}x=(k*S+b)*4,j[x]=M/L,j[x+1]=W/L,j[x+2]=I/L,j[x+3]=X/L}return++b<S?E(b):A}var O=m.imageData.data,A=m.ctx.createImageData(S,w),j=A.data,V=this.lanczosCreate(this.lanczosLobes),G=this.rcpScaleX,$=this.rcpScaleY,Q=2/this.rcpScaleX,K=2/this.rcpScaleY,te=g(G*this.lanczosLobes/2),re=g($*this.lanczosLobes/2),ne={},T={},D={};return E(0)},bilinearFiltering:function(m,y,_,S,w){var E,O,A,j,V,G,$,Q,K,te,re,ne,T=0,D,b=this.rcpScaleX,k=this.rcpScaleY,R=4*(y-1),P=m.imageData,x=P.data,L=m.ctx.createImageData(S,w),M=L.data;for($=0;$<w;$++)for(Q=0;Q<S;Q++)for(V=d(b*Q),G=d(k*$),K=b*Q-V,te=k*$-G,D=4*(G*y+V),re=0;re<4;re++)E=x[D+re],O=x[D+4+re],A=x[D+R+re],j=x[D+R+4+re],ne=E*(1-K)*(1-te)+O*K*(1-te)+A*te*(1-K)+j*K*te,M[T++]=ne;return L},hermiteFastResize:function(m,y,_,S,w){for(var E=this.rcpScaleX,O=this.rcpScaleY,A=g(E/2),j=g(O/2),V=m.imageData,G=V.data,$=m.ctx.createImageData(S,w),Q=$.data,K=0;K<w;K++)for(var te=0;te<S;te++){for(var re=(te+K*S)*4,ne=0,T=0,D=0,b=0,k=0,R=0,P=0,x=(K+.5)*O,L=d(K*O);L<(K+1)*O;L++)for(var M=a(x-(L+.5))/j,W=(te+.5)*E,I=M*M,X=d(te*E);X<(te+1)*E;X++){var q=a(W-(X+.5))/A,J=s(I+q*q);J>1&&J<-1||(ne=2*J*J*J-3*J*J+1,ne>0&&(q=4*(X+L*y),P+=ne*G[q+3],D+=ne,G[q+3]<255&&(ne=ne*G[q+3]/250),b+=ne*G[q],k+=ne*G[q+1],R+=ne*G[q+2],T+=ne))}Q[re]=b/T,Q[re+1]=k/T,Q[re+2]=R/T,Q[re+3]=P/D}return $},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Contrast=d(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(s){if(this.contrast!==0){var a=s.imageData,r,g,c=a.data,g=c.length,o=Math.floor(this.contrast*255),p=259*(o+255)/(255*(259-o));for(r=0;r<g;r+=4)c[r]=p*(c[r]-128)+128,c[r+1]=p*(c[r+1]-128)+128,c[r+2]=p*(c[r+2]-128)+128}},getUniformLocations:function(s,a){return{uContrast:s.getUniformLocation(a,"uContrast")}},sendUniformData:function(s,a){s.uniform1f(a.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Saturation=d(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(s){if(this.saturation!==0){var a=s.imageData,r=a.data,c=r.length,g=-this.saturation,o,p;for(o=0;o<c;o+=4)p=Math.max(r[o],r[o+1],r[o+2]),r[o]+=p!==r[o]?(p-r[o])*g:0,r[o+1]+=p!==r[o+1]?(p-r[o+1])*g:0,r[o+2]+=p!==r[o+2]?(p-r[o+2])*g:0}},getUniformLocations:function(s,a){return{uSaturation:s.getUniformLocation(a,"uSaturation")}},sendUniformData:function(s,a){s.uniform1f(a.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Vibrance=d(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(s){if(this.vibrance!==0){var a=s.imageData,r=a.data,c=r.length,g=-this.vibrance,o,p,m,y;for(o=0;o<c;o+=4)p=Math.max(r[o],r[o+1],r[o+2]),m=(r[o]+r[o+1]+r[o+2])/3,y=Math.abs(p-m)*2/255*g,r[o]+=p!==r[o]?(p-r[o])*y:0,r[o+1]+=p!==r[o+1]?(p-r[o+1])*y:0,r[o+2]+=p!==r[o+2]?(p-r[o+2])*y:0}},getUniformLocations:function(s,a){return{uVibrance:s.getUniformLocation(a,"uVibrance")}},sendUniformData:function(s,a){s.uniform1f(a.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Blur=d(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(s){s.webgl?(this.aspectRatio=s.sourceWidth/s.sourceHeight,s.passes++,this._setupFrameBuffer(s),this.horizontal=!0,this.applyToWebGL(s),this._swapTextures(s),this._setupFrameBuffer(s),this.horizontal=!1,this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},applyTo2d:function(s){s.imageData=this.simpleBlur(s)},simpleBlur:function(s){var a=s.filterBackend.resources,r,c,g=s.imageData.width,o=s.imageData.height;a.blurLayer1||(a.blurLayer1=i.util.createCanvasElement(),a.blurLayer2=i.util.createCanvasElement()),r=a.blurLayer1,c=a.blurLayer2,(r.width!==g||r.height!==o)&&(c.width=r.width=g,c.height=r.height=o);var p=r.getContext("2d"),m=c.getContext("2d"),y=15,_,S,w,E,O=this.blur*.06*.5;for(p.putImageData(s.imageData,0,0),m.clearRect(0,0,g,o),E=-y;E<=y;E++)_=(Math.random()-.5)/4,S=E/y,w=O*S*g+_,m.globalAlpha=1-Math.abs(S),m.drawImage(r,w,_),p.drawImage(c,0,0),m.globalAlpha=1,m.clearRect(0,0,c.width,c.height);for(E=-y;E<=y;E++)_=(Math.random()-.5)/4,S=E/y,w=O*S*o+_,m.globalAlpha=1-Math.abs(S),m.drawImage(r,_,w),p.drawImage(c,0,0),m.globalAlpha=1,m.clearRect(0,0,c.width,c.height);s.ctx.drawImage(r,0,0);var A=s.ctx.getImageData(0,0,r.width,r.height);return p.globalAlpha=1,p.clearRect(0,0,r.width,r.height),A},getUniformLocations:function(s,a){return{delta:s.getUniformLocation(a,"uDelta")}},sendUniformData:function(s,a){var r=this.chooseRightDelta();s.uniform2fv(a.delta,r)},chooseRightDelta:function(){var s=1,a=[0,0],r;return this.horizontal?this.aspectRatio>1&&(s=1/this.aspectRatio):this.aspectRatio<1&&(s=this.aspectRatio),r=s*this.blur*.12,this.horizontal?a[0]=r:a[1]=r,a}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Gamma=d(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(s){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,s)},applyTo2d:function(s){var a=s.imageData,r=a.data,c=this.gamma,g=r.length,o=1/c[0],p=1/c[1],m=1/c[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,g=256;y<g;y++)this.rVals[y]=Math.pow(y/255,o)*255,this.gVals[y]=Math.pow(y/255,p)*255,this.bVals[y]=Math.pow(y/255,m)*255;for(y=0,g=r.length;y<g;y+=4)r[y]=this.rVals[r[y]],r[y+1]=this.gVals[r[y+1]],r[y+2]=this.bVals[r[y+2]]},getUniformLocations:function(s,a){return{uGamma:s.getUniformLocation(a,"uGamma")}},sendUniformData:function(s,a){s.uniform3fv(a.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Composed=d(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(s){this.callSuper("initialize",s),this.subFilters=this.subFilters.slice(0)},applyTo:function(s){s.passes+=this.subFilters.length-1,this.subFilters.forEach(function(a){a.applyTo(s)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(s){return s.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(s){return!s.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(s,a){var r=s.subFilters||[],c=r.map(function(o){return new i.Image.filters[o.type](o)}),g=new i.Image.filters.Composed({subFilters:c});return a&&a(g),g}}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.Image.filters,d=i.util.createClass;h.HueRotation=d(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var s=this.rotation*Math.PI,a=i.util.cos(s),r=i.util.sin(s),c=1/3,g=Math.sqrt(c)*r,o=1-a;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=a+o/3,this.matrix[1]=c*o-g,this.matrix[2]=c*o+g,this.matrix[5]=c*o+g,this.matrix[6]=a+c*o,this.matrix[7]=c*o-g,this.matrix[10]=c*o-g,this.matrix[11]=c*o+g,this.matrix[12]=a+c*o},isNeutralState:function(s){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,s)},applyTo:function(s){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,s)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(u){var i=u.fabric||(u.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(d),cacheProperties:i.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(s,a){this.styles=a?a.styles||{}:{},this.text=s,this.__skipDimension=!0,this.callSuper("initialize",a),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var s=this.path;s&&(s.segmentsInfo=i.util.getPathSegmentsInfo(s.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var s=this._splitTextIntoLines(this.text);return this.textLines=s.lines,this._textLines=s.graphemeLines,this._unwrappedTextLines=s._unwrappedLines,this._text=s.graphemeText,s},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var s,a,r,c,g,o,p,m=0,y=this._textLines.length;m<y;m++)if(!(this.textAlign!=="justify"&&(m===y-1||this.isEndOfWrapping(m)))&&(c=0,g=this._textLines[m],a=this.getLineWidth(m),a<this.width&&(p=this.textLines[m].match(this._reSpacesAndTabs)))){r=p.length,s=(this.width-a)/r;for(var _=0,S=g.length;_<=S;_++)o=this.__charBounds[m][_],this._reSpaceAndTab.test(g[_])?(o.width+=s,o.kernedWidth+=s,o.left+=c,c+=s):o.left+=c}},isEndOfWrapping:function(s){return s===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var s=this.callSuper("_getCacheCanvasDimensions"),a=this.fontSize;return s.width+=a*s.zoomX,s.height+=a*s.zoomY,s},_render:function(s){var a=this.path;a&&!a.isNotVisible()&&a._render(s),this._setTextStyles(s),this._renderTextLinesBackground(s),this._renderTextDecoration(s,"underline"),this._renderText(s),this._renderTextDecoration(s,"overline"),this._renderTextDecoration(s,"linethrough")},_renderText:function(s){this.paintFirst==="stroke"?(this._renderTextStroke(s),this._renderTextFill(s)):(this._renderTextFill(s),this._renderTextStroke(s))},_setTextStyles:function(s,a,r){if(s.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":s.textBaseline="middle";break;case"ascender":s.textBaseline="top";break;case"descender":s.textBaseline="bottom";break}s.font=this._getFontDeclaration(a,r)},calcTextWidth:function(){for(var s=this.getLineWidth(0),a=1,r=this._textLines.length;a<r;a++){var c=this.getLineWidth(a);c>s&&(s=c)}return s},_renderTextLine:function(s,a,r,c,g,o){this._renderChars(s,a,r,c,g,o)},_renderTextLinesBackground:function(s){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var a,r,c=s.fillStyle,g,o,p=this._getLeftOffset(),m=this._getTopOffset(),y=0,_=0,S,w,E=this.path,O,A=0,j=this._textLines.length;A<j;A++){if(a=this.getHeightOfLine(A),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",A)){m+=a;continue}g=this._textLines[A],r=this._getLineLeftOffset(A),_=0,y=0,o=this.getValueOfPropertyAt(A,0,"textBackgroundColor");for(var V=0,G=g.length;V<G;V++)S=this.__charBounds[A][V],w=this.getValueOfPropertyAt(A,V,"textBackgroundColor"),E?(s.save(),s.translate(S.renderLeft,S.renderTop),s.rotate(S.angle),s.fillStyle=w,w&&s.fillRect(-S.width/2,-a/this.lineHeight*(1-this._fontSizeFraction),S.width,a/this.lineHeight),s.restore()):w!==o?(O=p+r+y,this.direction==="rtl"&&(O=this.width-O-_),s.fillStyle=o,o&&s.fillRect(O,m,_,a/this.lineHeight),y=S.left,_=S.width,o=w):_+=S.kernedWidth;w&&!E&&(O=p+r+y,this.direction==="rtl"&&(O=this.width-O-_),s.fillStyle=w,s.fillRect(O,m,_,a/this.lineHeight)),m+=a}s.fillStyle=c,this._removeShadow(s)}},getFontCache:function(s){var a=s.fontFamily.toLowerCase();i.charWidthsCache[a]||(i.charWidthsCache[a]={});var r=i.charWidthsCache[a],c=s.fontStyle.toLowerCase()+"_"+(s.fontWeight+"").toLowerCase();return r[c]||(r[c]={}),r[c]},_measureChar:function(s,a,r,c){var g=this.getFontCache(a),o=this._getFontDeclaration(a),p=this._getFontDeclaration(c),m=r+s,y=o===p,_,S,w,E=a.fontSize/this.CACHE_FONT_SIZE,O;if(r&&g[r]!==void 0&&(w=g[r]),g[s]!==void 0&&(O=_=g[s]),y&&g[m]!==void 0&&(S=g[m],O=S-w),_===void 0||w===void 0||S===void 0){var A=this.getMeasuringContext();this._setTextStyles(A,a,!0)}return _===void 0&&(O=_=A.measureText(s).width,g[s]=_),w===void 0&&y&&r&&(w=A.measureText(r).width,g[r]=w),y&&S===void 0&&(S=A.measureText(m).width,g[m]=S,O=S-w),{width:_*E,kernedWidth:O*E}},getHeightOfChar:function(s,a){return this.getValueOfPropertyAt(s,a,"fontSize")},measureLine:function(s){var a=this._measureLine(s);return this.charSpacing!==0&&(a.width-=this._getWidthOfCharSpacing()),a.width<0&&(a.width=0),a},_measureLine:function(s){var a=0,r,c,g=this._textLines[s],o,p,m=0,y=new Array(g.length),_=0,S,w,E=this.path,O=this.pathSide==="right";for(this.__charBounds[s]=y,r=0;r<g.length;r++)c=g[r],p=this._getGraphemeBox(c,s,r,o),y[r]=p,a+=p.kernedWidth,o=c;if(y[r]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(w=E.segmentsInfo[E.segmentsInfo.length-1].length,S=i.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":_=O?w-a:0;break;case"center":_=(w-a)/2;break;case"right":_=O?0:w-a;break}for(_+=this.pathStartOffset*(O?-1:1),r=O?g.length-1:0;O?r>=0:r<g.length;O?r--:r++)p=y[r],_>w?_%=w:_<0&&(_+=w),this._setGraphemeOnPath(_,p,S),_+=p.kernedWidth}return{width:a,numOfSpaces:m}},_setGraphemeOnPath:function(s,a,r){var c=s+a.kernedWidth/2,g=this.path,o=i.util.getPointOnPath(g.path,c,g.segmentsInfo);a.renderLeft=o.x-r.x,a.renderTop=o.y-r.y,a.angle=o.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(s,a,r,c,g){var o=this.getCompleteStyleDeclaration(a,r),p=c?this.getCompleteStyleDeclaration(a,r-1):{},m=this._measureChar(s,o,c,p),y=m.kernedWidth,_=m.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),_+=S,y+=S);var w={width:_,left:0,height:o.fontSize,kernedWidth:y,deltaY:o.deltaY};if(r>0&&!g){var E=this.__charBounds[a][r-1];w.left=E.left+E.width+m.kernedWidth-m.width}return w},getHeightOfLine:function(s){if(this.__lineHeights[s])return this.__lineHeights[s];for(var a=this._textLines[s],r=this.getHeightOfChar(s,0),c=1,g=a.length;c<g;c++)r=Math.max(this.getHeightOfChar(s,c),r);return this.__lineHeights[s]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var s,a=0,r=0,c=this._textLines.length;r<c;r++)s=this.getHeightOfLine(r),a+=r===c-1?s/this.lineHeight:s;return a},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(s,a){s.save();for(var r=0,c=this._getLeftOffset(),g=this._getTopOffset(),o=0,p=this._textLines.length;o<p;o++){var m=this.getHeightOfLine(o),y=m/this.lineHeight,_=this._getLineLeftOffset(o);this._renderTextLine(a,s,this._textLines[o],c+_,g+r+y,o),r+=m}s.restore()},_renderTextFill:function(s){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(s,"fillText")},_renderTextStroke:function(s){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this._setLineDash(s,this.strokeDashArray),s.beginPath(),this._renderTextCommon(s,"strokeText"),s.closePath(),s.restore())},_renderChars:function(s,a,r,c,g,o){var p=this.getHeightOfLine(o),m=this.textAlign.indexOf("justify")!==-1,y,_,S="",w,E=0,O,A=this.path,j=!m&&this.charSpacing===0&&this.isEmptyStyles(o)&&!A,V=this.direction==="ltr",G=this.direction==="ltr"?1:-1,$,Q=a.canvas.getAttribute("dir");if(a.save(),Q!==this.direction&&(a.canvas.setAttribute("dir",V?"ltr":"rtl"),a.direction=V?"ltr":"rtl",a.textAlign=V?"left":"right"),g-=p*this._fontSizeFraction/this.lineHeight,j){this._renderChar(s,a,o,0,r.join(""),c,g,p),a.restore();return}for(var K=0,te=r.length-1;K<=te;K++)O=K===te||this.charSpacing||A,S+=r[K],w=this.__charBounds[o][K],E===0?(c+=G*(w.kernedWidth-w.width),E+=w.width):E+=w.kernedWidth,m&&!O&&this._reSpaceAndTab.test(r[K])&&(O=!0),O||(y=y||this.getCompleteStyleDeclaration(o,K),_=this.getCompleteStyleDeclaration(o,K+1),O=this._hasStyleChanged(y,_)),O&&(A?(a.save(),a.translate(w.renderLeft,w.renderTop),a.rotate(w.angle),this._renderChar(s,a,o,K,S,-E/2,0,p),a.restore()):($=c,this._renderChar(s,a,o,K,S,$,g,p)),S="",y=_,c+=G*E,E=0);a.restore()},_applyPatternGradientTransformText:function(s){var a=i.util.createCanvasElement(),r,c=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return a.width=c,a.height=g,r=a.getContext("2d"),r.beginPath(),r.moveTo(0,0),r.lineTo(c,0),r.lineTo(c,g),r.lineTo(0,g),r.closePath(),r.translate(c/2,g/2),r.fillStyle=s.toLive(r),this._applyPatternGradientTransform(r,s),r.fill(),r.createPattern(a,"no-repeat")},handleFiller:function(s,a,r){var c,g;return r.toLive?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(c=-this.width/2,g=-this.height/2,s.translate(c,g),s[a]=this._applyPatternGradientTransformText(r),{offsetX:c,offsetY:g}):(s[a]=r.toLive(s,this),this._applyPatternGradientTransform(s,r)):(s[a]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(s,a){return s.lineWidth=a.strokeWidth,s.lineCap=this.strokeLineCap,s.lineDashOffset=this.strokeDashOffset,s.lineJoin=this.strokeLineJoin,s.miterLimit=this.strokeMiterLimit,this.handleFiller(s,"strokeStyle",a.stroke)},_setFillStyles:function(s,a){return this.handleFiller(s,"fillStyle",a.fill)},_renderChar:function(s,a,r,c,g,o,p){var m=this._getStyleDeclaration(r,c),y=this.getCompleteStyleDeclaration(r,c),_=s==="fillText"&&y.fill,S=s==="strokeText"&&y.stroke&&y.strokeWidth,w,E;!S&&!_||(a.save(),_&&(w=this._setFillStyles(a,y)),S&&(E=this._setStrokeStyles(a,y)),a.font=this._getFontDeclaration(y),m&&m.textBackgroundColor&&this._removeShadow(a),m&&m.deltaY&&(p+=m.deltaY),_&&a.fillText(g,o-w.offsetX,p-w.offsetY),S&&a.strokeText(g,o-E.offsetX,p-E.offsetY),a.restore())},setSuperscript:function(s,a){return this._setScript(s,a,this.superscript)},setSubscript:function(s,a){return this._setScript(s,a,this.subscript)},_setScript:function(s,a,r){var c=this.get2DCursorLocation(s,!0),g=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"fontSize"),o=this.getValueOfPropertyAt(c.lineIndex,c.charIndex,"deltaY"),p={fontSize:g*r.size,deltaY:o+g*r.baseline};return this.setSelectionStyles(p,s,a),this},_hasStyleChanged:function(s,a){return s.fill!==a.fill||s.stroke!==a.stroke||s.strokeWidth!==a.strokeWidth||s.fontSize!==a.fontSize||s.fontFamily!==a.fontFamily||s.fontWeight!==a.fontWeight||s.fontStyle!==a.fontStyle||s.deltaY!==a.deltaY},_hasStyleChangedForSvg:function(s,a){return this._hasStyleChanged(s,a)||s.overline!==a.overline||s.underline!==a.underline||s.linethrough!==a.linethrough},_getLineLeftOffset:function(s){var a=this.getLineWidth(s),r=this.width-a,c=this.textAlign,g=this.direction,p,o=0,p=this.isEndOfWrapping(s);return c==="justify"||c==="justify-center"&&!p||c==="justify-right"&&!p||c==="justify-left"&&!p?0:(c==="center"&&(o=r/2),c==="right"&&(o=r),c==="justify-center"&&(o=r/2),c==="justify-right"&&(o=r),g==="rtl"&&(o-=r),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var s=this._forceClearCache;return s||(s=this.hasStateChanged("_dimensionAffectingProps")),s&&(this.dirty=!0,this._forceClearCache=!1),s},getLineWidth:function(s){if(this.__lineWidths[s]!==void 0)return this.__lineWidths[s];var a=this.measureLine(s),r=a.width;return this.__lineWidths[s]=r,r},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(s,a,r){var c=this._getStyleDeclaration(s,a);return c&&typeof c[r]!="undefined"?c[r]:this[r]},_renderTextDecoration:function(s,a){if(!(!this[a]&&!this.styleHas(a))){for(var r,c,g,o,p,m,y,_,S=this._getLeftOffset(),w=this._getTopOffset(),E,O,A,j,V,G,$,Q,K=this.path,te=this._getWidthOfCharSpacing(),re=this.offsets[a],ne=0,T=this._textLines.length;ne<T;ne++){if(r=this.getHeightOfLine(ne),!this[a]&&!this.styleHas(a,ne)){w+=r;continue}y=this._textLines[ne],G=r/this.lineHeight,o=this._getLineLeftOffset(ne),O=0,A=0,_=this.getValueOfPropertyAt(ne,0,a),Q=this.getValueOfPropertyAt(ne,0,"fill"),E=w+G*(1-this._fontSizeFraction),c=this.getHeightOfChar(ne,0),p=this.getValueOfPropertyAt(ne,0,"deltaY");for(var D=0,b=y.length;D<b;D++)if(j=this.__charBounds[ne][D],V=this.getValueOfPropertyAt(ne,D,a),$=this.getValueOfPropertyAt(ne,D,"fill"),g=this.getHeightOfChar(ne,D),m=this.getValueOfPropertyAt(ne,D,"deltaY"),K&&V&&$)s.save(),s.fillStyle=Q,s.translate(j.renderLeft,j.renderTop),s.rotate(j.angle),s.fillRect(-j.kernedWidth/2,re*g+m,j.kernedWidth,this.fontSize/15),s.restore();else if((V!==_||$!==Q||g!==c||m!==p)&&A>0){var k=S+o+O;this.direction==="rtl"&&(k=this.width-k-A),_&&Q&&(s.fillStyle=Q,s.fillRect(k,E+re*c+p,A,this.fontSize/15)),O=j.left,A=j.width,_=V,Q=$,c=g,p=m}else A+=j.kernedWidth;var k=S+o+O;this.direction==="rtl"&&(k=this.width-k-A),s.fillStyle=$,V&&$&&s.fillRect(k,E+re*c+p,A-te,this.fontSize/15),w+=r}this._removeShadow(s)}},_getFontDeclaration:function(s,a){var r=s||this,c=this.fontFamily,g=i.Text.genericFonts.indexOf(c.toLowerCase())>-1,o=c===void 0||c.indexOf("'")>-1||c.indexOf(",")>-1||c.indexOf('"')>-1||g?r.fontFamily:'"'+r.fontFamily+'"';return[i.isLikelyNode?r.fontWeight:r.fontStyle,i.isLikelyNode?r.fontStyle:r.fontWeight,a?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(s){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",s))},_splitTextIntoLines:function(s){for(var a=s.split(this._reNewline),r=new Array(a.length),c=[`
`],g=[],o=0;o<a.length;o++)r[o]=i.util.string.graphemeSplit(a[o]),g=g.concat(r[o],c);return g.pop(),{_unwrappedLines:r,lines:a,graphemeText:g,graphemeLines:r}},toObject:function(s){var a=d.concat(s),r=this.callSuper("toObject",a);return r.styles=h(this.styles,!0),r.path&&(r.path=this.path.toObject()),r},set:function(s,a){this.callSuper("set",s,a);var r=!1,c=!1;if(typeof s=="object")for(var g in s)g==="path"&&this.setPathInfo(),r=r||this._dimensionAffectingProps.indexOf(g)!==-1,c=c||g==="path";else r=this._dimensionAffectingProps.indexOf(s)!==-1,c=s==="path";return c&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(s,a,r){if(!s)return a(null);var c=i.parseAttributes(s,i.Text.ATTRIBUTE_NAMES),g=c.textAnchor||"left";if(r=i.util.object.extend(r?h(r):{},c),r.top=r.top||0,r.left=r.left||0,c.textDecoration){var o=c.textDecoration;o.indexOf("underline")!==-1&&(r.underline=!0),o.indexOf("overline")!==-1&&(r.overline=!0),o.indexOf("line-through")!==-1&&(r.linethrough=!0),delete r.textDecoration}"dx"in c&&(r.left+=c.dx),"dy"in c&&(r.top+=c.dy),"fontSize"in r||(r.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in s?p=s.textContent:"firstChild"in s&&s.firstChild!==null&&"data"in s.firstChild&&s.firstChild.data!==null&&(p=s.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=r.strokeWidth;r.strokeWidth=0;var y=new i.Text(p,r),_=y.getScaledHeight()/y.height,S=(y.height+y.strokeWidth)*y.lineHeight-y.height,w=S*_,E=y.getScaledHeight()+w,O=0;g==="center"&&(O=y.getScaledWidth()/2),g==="right"&&(O=y.getScaledWidth()),y.set({left:y.left-O,top:y.top-(E-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof m!="undefined"?m:1}),a(y)},i.Text.fromObject=function(s,a){var r=h(s),c=s.path;return delete r.path,i.Object._fromObject("Text",r,function(g){c?i.Object._fromObject("Path",c,function(o){g.set("path",o),a(g)},"path"):a(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(u){if(!this.styles||typeof u!="undefined"&&!this.styles[u])return!0;var i=typeof u=="undefined"?this.styles:{line:this.styles[u]};for(var h in i)for(var d in i[h])for(var s in i[h][d])return!1;return!0},styleHas:function(u,i){if(!this.styles||!u||u===""||typeof i!="undefined"&&!this.styles[i])return!1;var h=typeof i=="undefined"?this.styles:{0:this.styles[i]};for(var d in h)for(var s in h[d])if(typeof h[d][s][u]!="undefined")return!0;return!1},cleanStyle:function(u){if(!this.styles||!u||u==="")return!1;var i=this.styles,h=0,d,s,a=!0,r=0,c;for(var g in i){d=0;for(var o in i[g]){var c=i[g][o],p=c.hasOwnProperty(u);h++,p?(s?c[u]!==s&&(a=!1):s=c[u],c[u]===this[u]&&delete c[u]):a=!1,Object.keys(c).length!==0?d++:delete i[g][o]}d===0&&delete i[g]}for(var m=0;m<this._textLines.length;m++)r+=this._textLines[m].length;a&&h===r&&(this[u]=s,this.removeStyle(u))},removeStyle:function(u){if(!(!this.styles||!u||u==="")){var i=this.styles,h,d,s;for(d in i){h=i[d];for(s in h)delete h[s][u],Object.keys(h[s]).length===0&&delete h[s];Object.keys(h).length===0&&delete i[d]}}},_extendStyles:function(u,i){var h=this.get2DCursorLocation(u);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(u,i){typeof u=="undefined"&&(u=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,d=h.length,s=0;s<d;s++){if(u<=h[s].length)return{lineIndex:s,charIndex:u};u-=h[s].length+this.missingNewlineOffset(s)}return{lineIndex:s-1,charIndex:h[s-1].length<u?h[s-1].length:u}},getSelectionStyles:function(u,i,h){typeof u=="undefined"&&(u=this.selectionStart||0),typeof i=="undefined"&&(i=this.selectionEnd||u);for(var d=[],s=u;s<i;s++)d.push(this.getStyleAtPosition(s,h));return d},getStyleAtPosition:function(u,i){var h=this.get2DCursorLocation(u),d=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return d||{}},setSelectionStyles:function(u,i,h){typeof i=="undefined"&&(i=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||i);for(var d=i;d<h;d++)this._extendStyles(d,u);return this._forceClearCache=!0,this},_getStyleDeclaration:function(u,i){var h=this.styles&&this.styles[u];return h?h[i]:null},getCompleteStyleDeclaration:function(u,i){for(var h=this._getStyleDeclaration(u,i)||{},d={},s,a=0;a<this._styleProperties.length;a++)s=this._styleProperties[a],d[s]=typeof h[s]=="undefined"?this[s]:h[s];return d},_setStyleDeclaration:function(u,i,h){this.styles[u][i]=h},_deleteStyleDeclaration:function(u,i){delete this.styles[u][i]},_getLineStyle:function(u){return!!this.styles[u]},_setLineStyle:function(u){this.styles[u]={}},_deleteLineStyle:function(u){delete this.styles[u]}})}(),function(){function u(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,d=this.canvas.viewportTransform;h.save(),h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,d=this.height+4;i.clearRect(-h/2,-d/2,h,d)},_getCursorBoundaries:function(i){typeof i=="undefined"&&(i=this.selectionStart);var h=this._getLeftOffset(),d=this._getTopOffset(),s=this._getCursorBoundariesOffsets(i);return{left:h,top:d,leftOffset:s.left,topOffset:s.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,d,s,a=0,r=0,c,g=this.get2DCursorLocation(i);s=g.charIndex,d=g.lineIndex;for(var o=0;o<d;o++)a+=this.getHeightOfLine(o);h=this._getLineLeftOffset(d);var p=this.__charBounds[d][s];return p&&(r=p.left),this.charSpacing!==0&&s===this._textLines[d].length&&(r-=this._getWidthOfCharSpacing()),c={top:a,left:h+(r>0?r:0)},this.direction==="rtl"&&(c.left*=-1),this.cursorOffsetCache=c,this.cursorOffsetCache},renderCursor:function(i,h){var d=this.get2DCursorLocation(),s=d.lineIndex,a=d.charIndex>0?d.charIndex-1:0,r=this.getValueOfPropertyAt(s,a,"fontSize"),c=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/c,o=i.topOffset,p=this.getValueOfPropertyAt(s,a,"deltaY");o+=(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,a,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,o+i.top+p,g,r)},renderSelection:function(i,h){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,s=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,a=this.textAlign.indexOf("justify")!==-1,r=this.get2DCursorLocation(d),c=this.get2DCursorLocation(s),g=r.lineIndex,o=c.lineIndex,p=r.charIndex<0?0:r.charIndex,m=c.charIndex<0?0:c.charIndex,y=g;y<=o;y++){var _=this._getLineLeftOffset(y)||0,S=this.getHeightOfLine(y),w=0,E=0,O=0;if(y===g&&(E=this.__charBounds[g][p].left),y>=g&&y<o)O=a&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===o)if(m===0)O=this.__charBounds[o][m].left;else{var A=this._getWidthOfCharSpacing();O=this.__charBounds[o][m-1].left+this.__charBounds[o][m-1].width-A}w=S,(this.lineHeight<1||y===o&&this.lineHeight>1)&&(S/=this.lineHeight);var j=i.left+_+E,V=O-E,G=S,$=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",G=1,$=S):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(j=this.width-j-V),h.fillRect(j,i.top+i.topOffset+$,V,G),i.topOffset+=w}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),e.IText.fromObject=function(i,h){if(u(i),i.styles)for(var d in i.styles)for(var s in i.styles[d])u(i.styles[d][s]);e.Object._fromObject("IText",i,h,"text")}}(),function(){var u=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],e.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,d,s){var a;return a={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:d,onComplete:function(){a.isAborted||i[s]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return a.isAborted}}),a},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,d=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},d)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,d=i-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d--;for(;/\S/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findWordBoundaryRight:function(i){var h=0,d=i;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,d=i-1;!/\n/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findLineBoundaryRight:function(i){for(var h=0,d=i;!/\n/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},searchWordBoundary:function(i,h){for(var d=this._text,s=this._reSpace.test(d[i])?i-1:i,a=d[s],r=e.reNonWord;!r.test(a)&&s>0&&s<d.length;)s+=h,a=d[s];return r.test(a)&&(s+=h===1?0:1),s},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),d=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),d=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){var h=this.getSelectionStartFromPointer(i.e),d=this.selectionStart,s=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||d===s)&&(d===h||s===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==s)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,d){var s=d.slice(0,i),a=e.util.string.graphemeSplit(s).length;if(i===h)return{selectionStart:a,selectionEnd:a};var r=d.slice(i,h),c=e.util.string.graphemeSplit(r).length;return{selectionStart:a,selectionEnd:a+c}},fromGraphemeToStringSelection:function(i,h,d){var s=d.slice(0,i),a=s.join("").length;if(i===h)return{selectionStart:a,selectionEnd:a};var r=d.slice(i,h),c=r.join("").length;return{selectionStart:a,selectionEnd:a+c}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),d=this.get2DCursorLocation(i),s=d.lineIndex,a=d.charIndex,r=this.getValueOfPropertyAt(s,a,"fontSize")*this.lineHeight,c=h.leftOffset,g=this.calcTransformMatrix(),o={x:h.left+c,y:h.top+h.topOffset+r},p=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,y=m.width/p,_=m.height/p,S=y-r,w=_-r,E=m.clientWidth/y,O=m.clientHeight/_;return o=e.util.transformPoint(o,g),o=e.util.transformPoint(o,this.canvas.viewportTransform),o.x*=E,o.y*=O,o.x<0&&(o.x=0),o.x>S&&(o.x=S),o.y<0&&(o.y=0),o.y>w&&(o.y=w),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:o.x+"px",top:o.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var d=this.get2DCursorLocation(i,!0),s=this.get2DCursorLocation(h,!0),a=d.lineIndex,r=d.charIndex,c=s.lineIndex,g=s.charIndex,o,p;if(a!==c){if(this.styles[a])for(o=r;o<this._unwrappedTextLines[a].length;o++)delete this.styles[a][o];if(this.styles[c])for(o=g;o<this._unwrappedTextLines[c].length;o++)p=this.styles[c][o],p&&(this.styles[a]||(this.styles[a]={}),this.styles[a][r+o-g]=p);for(o=a+1;o<=c;o++)delete this.styles[o];this.shiftLineStyles(c,a-c)}else if(this.styles[a]){p=this.styles[a];var m=g-r,y,_;for(o=r;o<g;o++)delete p[o];for(_ in this.styles[a])y=parseInt(_,10),y>=g&&(p[y-m]=p[_],delete p[_])}},shiftLineStyles:function(i,h){var d=u(this.styles);for(var s in this.styles){var a=parseInt(s,10);a>i&&(this.styles[a+h]=d[a],d[a-h]||delete this.styles[a])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,d,s){var a,r={},c=!1,g=this._unwrappedTextLines[i].length===h;d||(d=1),this.shiftLineStyles(i,d),this.styles[i]&&(a=this.styles[i][h===0?h:h-1]);for(var o in this.styles[i]){var p=parseInt(o,10);p>=h&&(c=!0,r[p-h]=this.styles[i][o],g&&h===0||delete this.styles[i][o])}var m=!1;for(c&&!g&&(this.styles[i+d]=r,m=!0),m&&d--;d>0;)s&&s[d-1]?this.styles[i+d]={0:u(s[d-1])}:a?this.styles[i+d]={0:u(a)}:delete this.styles[i+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,d,s){this.styles||(this.styles={});var a=this.styles[i],r=a?u(a):{};d||(d=1);for(var c in r){var g=parseInt(c,10);g>=h&&(a[g+d]=r[g],r[g-d]||delete a[g])}if(this._forceClearCache=!0,s){for(;d--;)!Object.keys(s[d]).length||(this.styles[i]||(this.styles[i]={}),this.styles[i][h+d]=u(s[d]));return}if(!!a)for(var o=a[h?h-1:1];o&&d--;)this.styles[i][h+d]=u(o)},insertNewStyleBlock:function(i,h,d){for(var s=this.get2DCursorLocation(h,!0),a=[0],r=0,c=0;c<i.length;c++)i[c]===`
`?(r++,a[r]=0):a[r]++;a[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,a[0],d),d=d&&d.slice(a[0]+1)),r&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+a[0],r);for(var c=1;c<r;c++)a[c]>0?this.insertCharStyleObject(s.lineIndex+c,0,a[c],d):d&&this.styles[s.lineIndex+c]&&d[0]&&(this.styles[s.lineIndex+c][0]=d[0]),d=d&&d.slice(a[c]+1);a[c]>0&&this.insertCharStyleObject(s.lineIndex+c,0,a[c],d)},setSelectionStartEndWithShift:function(i,h,d){d<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=d):d>i&&d<h?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=d)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(u){if(!!this.canvas){this.__newClickTime=+new Date;var i=u.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",u),this._stopEvent(u.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(u){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===u.x&&this.__lastPointer.y===u.y},_stopEvent:function(u){u.preventDefault&&u.preventDefault(),u.stopPropagation&&u.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(u){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(u.e))},tripleClickHandler:function(u){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(u.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(u.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(u){!this.canvas||!this.editable||u.e.button&&u.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(u){if(this.__isMousedown=!1,!(!this.editable||this.group||u.transform&&u.transform.actionPerformed||u.e.button&&u.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(u.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(u){var i=this.getSelectionStartFromPointer(u),h=this.selectionStart,d=this.selectionEnd;u.shiftKey?this.setSelectionStartEndWithShift(h,d,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(u){for(var i=this.getLocalPointer(u),h=0,d=0,s=0,a=0,r=0,c,g,o=0,p=this._textLines.length;o<p&&s<=i.y;o++)s+=this.getHeightOfLine(o)*this.scaleY,r=o,o>0&&(a+=this._textLines[o-1].length+this.missingNewlineOffset(o-1));c=this._getLineLeftOffset(r),d=c*this.scaleX,g=this._textLines[r],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+d);for(var m=0,y=g.length;m<y&&(h=d,d+=this.__charBounds[r][m].kernedWidth*this.scaleX,d<=i.x);m++)a++;return this._getNewSelectionStartFromOffset(i,h,d,a,y)},_getNewSelectionStartFromOffset:function(u,i,h,d,s){var a=u.x-i,r=h-u.x,c=r>a||r<0?0:1,g=d+c;return this.flipX&&(g=s-g),g>this._text.length&&(g=this._text.length),g}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var u=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+u.top+"; left: "+u.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+u.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(u){if(!!this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(u.keyCode in i)this[i[u.keyCode]](u);else if(u.keyCode in this.ctrlKeysMapDown&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapDown[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),u.keyCode>=33&&u.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(u){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(u.keyCode in this.ctrlKeysMapUp&&(u.ctrlKey||u.metaKey))this[this.ctrlKeysMapUp[u.keyCode]](u);else return;u.stopImmediatePropagation(),u.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(u){var i=this.fromPaste;if(this.fromPaste=!1,u&&u.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,s=h.length,a,r,c=s-d,g=this.selectionStart,o=this.selectionEnd,p=g!==o,m,y,_;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),w=g>S.selectionStart;p?(a=this._text.slice(g,o),c+=o-g):s<d&&(w?a=this._text.slice(o+c,o):a=this._text.slice(g,g-c)),r=h.slice(S.selectionEnd-c,S.selectionEnd),a&&a.length&&(r.length&&(m=this.getSelectionStyles(g,g+1,!1),m=r.map(function(){return m[0]})),p?(y=g,_=o):w?(y=o-a.length,_=o):(y=o,_=o+a.length),this.removeStyleFromTo(y,_)),r.length&&(i&&r.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(m=e.copiedTextStyle),this.insertNewStyleBlock(r,g,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(u){this.compositionStart=u.target.selectionStart,this.compositionEnd=u.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(u){return u&&u.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(u,i){var h=this._getLineLeftOffset(u),d;return i>0&&(d=this.__charBounds[u][i-1],h+=d.left+d.width),h},getDownCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),s=d.lineIndex;if(s===this._textLines.length-1||u.metaKey||u.keyCode===34)return this._text.length-h;var a=d.charIndex,r=this._getWidthBeforeCursor(s,a),c=this._getIndexOnLine(s+1,r),g=this._textLines[s].slice(a);return g.length+c+1+this.missingNewlineOffset(s)},_getSelectionForOffset:function(u,i){return u.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(u,i){var h=this._getSelectionForOffset(u,i),d=this.get2DCursorLocation(h),s=d.lineIndex;if(s===0||u.metaKey||u.keyCode===33)return-h;var a=d.charIndex,r=this._getWidthBeforeCursor(s,a),c=this._getIndexOnLine(s-1,r),g=this._textLines[s].slice(0,a),o=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+c-g.length+(1-o)},_getIndexOnLine:function(u,i){for(var h=this._textLines[u],d=this._getLineLeftOffset(u),s=d,a=0,r,c,g=0,o=h.length;g<o;g++)if(r=this.__charBounds[u][g].width,s+=r,s>i){c=!0;var p=s-r,m=s,y=Math.abs(p-i),_=Math.abs(m-i);a=_<y?g:g-1;break}return c||(a=h.length-1),a},moveCursorDown:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",u)},moveCursorUp:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",u)},_moveCursorUpOrDown:function(u,i){var h="get"+u+"CursorOffset",d=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(u){var i=this._selectionDirection==="left"?this.selectionStart+u:this.selectionEnd+u;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),u!==0},moveCursorWithoutShift:function(u){return u<0?(this.selectionStart+=u,this.selectionEnd=this.selectionStart):(this.selectionEnd+=u,this.selectionStart=this.selectionEnd),u!==0},moveCursorLeft:function(u){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",u)},_move:function(u,i,h){var d;if(u.altKey)d=this["findWordBoundary"+h](this[i]);else if(u.metaKey||u.keyCode===35||u.keyCode===36)d=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof d!==void 0&&this[i]!==d)return this[i]=d,!0},_moveLeft:function(u,i){return this._move(u,i,"Left")},_moveRight:function(u,i){return this._move(u,i,"Right")},moveCursorLeftWithoutShift:function(u){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(u,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(u){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(u,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(u,"selectionStart")},moveCursorRight:function(u){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",u)},_moveCursorLeftOrRight:function(u,i){var h="moveCursor"+u+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(u){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(u,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(u,"selectionEnd")},moveCursorRightWithoutShift:function(u){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(u,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(u,i){typeof i=="undefined"&&(i=u+1),this.removeStyleFromTo(u,i),this._text.splice(u,i-u),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(u,i,h,d){typeof d=="undefined"&&(d=h),d>h&&this.removeStyleFromTo(h,d);var s=e.util.string.graphemeSplit(u);this.insertNewStyleBlock(s,h,i),this._text=[].concat(this._text.slice(0,h),s,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var u=e.util.toFixed,i=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var d=!0,s=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",s?'text-decoration="'+s+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,d){var s=[],a=[],r=h,c;this._setSVGBg(a);for(var g=0,o=this._textLines.length;g<o;g++)c=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(a,g,d+c,r),this._setSVGTextLineText(s,g,d+c,r),r+=this.getHeightOfLine(g);return{textSpans:s,textBgRects:a}},_createTextCharSpan:function(h,d,s,a){var r=h!==h.trim()||h.match(i),c=this.getSvgSpanStyles(d,r),g=c?'style="'+c+'"':"",o=d.deltaY,p="",m=e.Object.NUM_FRACTION_DIGITS;return o&&(p=' dy="'+u(o,m)+'" '),['<tspan x="',u(s,m),'" y="',u(a,m),'" ',p,g,">",e.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,d,s,a){var r=this.getHeightOfLine(d),c=this.textAlign.indexOf("justify")!==-1,g,o,p="",m,y,_=0,S=this._textLines[d],w;a+=r*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,O=S.length-1;E<=O;E++)w=E===O||this.charSpacing,p+=S[E],m=this.__charBounds[d][E],_===0?(s+=m.kernedWidth-m.width,_+=m.width):_+=m.kernedWidth,c&&!w&&this._reSpaceAndTab.test(S[E])&&(w=!0),w||(g=g||this.getCompleteStyleDeclaration(d,E),o=this.getCompleteStyleDeclaration(d,E+1),w=this._hasStyleChangedForSvg(g,o)),w&&(y=this._getStyleDeclaration(d,E)||{},h.push(this._createTextCharSpan(p,y,s,a)),p="",g=o,s+=_,_=0)},_pushTextBgRect:function(h,d,s,a,r,c){var g=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(d),' x="',u(s,g),'" y="',u(a,g),'" width="',u(r,g),'" height="',u(c,g),`"></rect>
`)},_setSVGTextLineBg:function(h,d,s,a){for(var r=this._textLines[d],c=this.getHeightOfLine(d)/this.lineHeight,g=0,o=0,p,m,y=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),_=0,S=r.length;_<S;_++)p=this.__charBounds[d][_],m=this.getValueOfPropertyAt(d,_,"textBackgroundColor"),m!==y?(y&&this._pushTextBgRect(h,y,s+o,a,g,c),o=p.left,g=p.width,y=m):g+=p.kernedWidth;m&&this._pushTextBgRect(h,m,s+o,a,g,c)},_getFillAttributes:function(h){var d=h&&typeof h=="string"?new e.Color(h):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+h+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var d=0,s=0,a=0;a<h;a++)d+=this.getHeightOfLine(a);return s=this.getHeightOfLine(a),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var d=e.Object.prototype.getSvgStyles.call(this,h);return d+" white-space: pre;"}})}(),function(u){var i=u.fabric||(u.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var d=0,s=0,a=0,r={},c=0;c<h.graphemeLines.length;c++)h.graphemeText[a]===`
`&&c>0?(s=0,a++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[a])&&c>0&&(s++,a++),r[c]={line:d,offset:s},a+=h.graphemeLines[c].length,s+=h.graphemeLines[c].length;return r},styleHas:function(h,d){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[d];s&&(d=s.line)}return i.Text.prototype.styleHas.call(this,h,d)},isEmptyStyles:function(h){if(!this.styles)return!0;var d=0,s=h+1,a,r,c=!1,g=this._styleMap[h],o=this._styleMap[h+1];g&&(h=g.line,d=g.offset),o&&(s=o.line,c=s===h,a=o.offset),r=typeof h=="undefined"?this.styles:{line:this.styles[h]};for(var p in r)for(var m in r[p])if(m>=d&&(!c||m<a))for(var y in r[p][m])return!1;return!0},_getStyleDeclaration:function(h,d){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[h];if(!s)return null;h=s.line,d=s.offset+d}return this.callSuper("_getStyleDeclaration",h,d)},_setStyleDeclaration:function(h,d,s){var a=this._styleMap[h];h=a.line,d=a.offset+d,this.styles[h][d]=s},_deleteStyleDeclaration:function(h,d){var s=this._styleMap[h];h=s.line,d=s.offset+d,delete this.styles[h][d]},_getLineStyle:function(h){var d=this._styleMap[h];return!!this.styles[d.line]},_setLineStyle:function(h){var d=this._styleMap[h];this.styles[d.line]={}},_wrapText:function(h,d){var s=[],a;for(this.isWrapping=!0,a=0;a<h.length;a++)s=s.concat(this._wrapLine(h[a],a,d));return this.isWrapping=!1,s},_measureWord:function(h,d,s){var a=0,r,c=!0;s=s||0;for(var g=0,o=h.length;g<o;g++){var p=this._getGraphemeBox(h[g],d,g+s,r,c);a+=p.kernedWidth,r=h[g]}return a},_wrapLine:function(h,d,s,j){var r=0,c=this.splitByGrapheme,g=[],o=[],p=c?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),m="",y=0,_=c?"":" ",S=0,w=0,E=0,O=!0,A=this._getWidthOfCharSpacing(),j=j||0;p.length===0&&p.push([]),s-=j;for(var V=0;V<p.length;V++)m=c?p[V]:i.util.string.graphemeSplit(p[V]),S=this._measureWord(m,d,y),y+=m.length,r+=w+S-A,r>s&&!O?(g.push(o),o=[],r=S,O=!0):r+=A,!O&&!c&&o.push(_),o=o.concat(m),w=c?0:this._measureWord([_],d,y),y++,O=!1,S>E&&(E=S);return V&&g.push(o),E+j>this.dynamicMinWidth&&(this.dynamicMinWidth=E-A+j),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var d=i.Text.prototype._splitTextIntoLines.call(this,h),s=this._wrapText(d.lines,this.width),a=new Array(s.length),r=0;r<s.length;r++)a[r]=s[r].join("");return d.lines=a,d.graphemeLines=s,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var d in this._styleMap)this._textLines[d]&&(h[this._styleMap[d].line]=1);for(var d in this.styles)h[d]||delete this.styles[d]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,d){return i.Object._fromObject("Textbox",h,d,"text")}}(t),function(){var u=e.controlsUtils,i=u.scaleSkewCursorStyleHandler,h=u.scaleCursorStyleHandler,d=u.scalingEqually,s=u.scalingYOrSkewingX,a=u.scalingXOrSkewingY,r=u.scaleOrSkewActionName,c=e.Object.prototype.controls;if(c.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:r}),c.mr=new e.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:a,getActionName:r}),c.mb=new e.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:s,getActionName:r}),c.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:s,getActionName:r}),c.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),c.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.br=new e.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:d}),c.mtr=new e.Control({x:0,y:-.5,actionHandler:u.rotationWithSnapping,cursorStyleHandler:u.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var g=e.Textbox.prototype.controls={};g.mtr=c.mtr,g.tr=c.tr,g.br=c.br,g.tl=c.tl,g.bl=c.bl,g.mt=c.mt,g.mb=c.mb,g.mr=new e.Control({x:.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new e.Control({x:-.5,y:0,actionHandler:u.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(_m);export{hm as C,fe as D,rg as F,km as H,Em as O,jt as R,lh as T,pe as a,um as b,bm as c,xp as d,Pm as e,_m as f,Fe as g,ut as h,qa as i,nn as j,qf as k,xm as l,Tm as m,ae as r,Dm as t,Om as u,Jp as v};
