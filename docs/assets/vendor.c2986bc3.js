var Mh=Object.defineProperty,Ih=Object.defineProperties;var Fh=Object.getOwnPropertyDescriptors;var Zi=Object.getOwnPropertySymbols;var Cl=Object.prototype.hasOwnProperty,Sl=Object.prototype.propertyIsEnumerable;var _l=(t,e,n)=>e in t?Mh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$t=(t,e)=>{for(var n in e||(e={}))Cl.call(e,n)&&_l(t,n,e[n]);if(Zi)for(var n of Zi(e))Sl.call(e,n)&&_l(t,n,e[n]);return t},Ji=(t,e)=>Ih(t,Fh(e));var wl=(t,e)=>{var n={};for(var r in t)Cl.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Zi)for(var r of Zi(t))e.indexOf(r)<0&&Sl.call(t,r)&&(n[r]=t[r]);return n};function jh(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),e}var ae={exports:{}},pe={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var xl=Object.getOwnPropertySymbols,Nh=Object.prototype.hasOwnProperty,Bh=Object.prototype.propertyIsEnumerable;function Uh(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Wh(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(m){return e[m]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(m){o[m]=m}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var dc=Wh()?Object.assign:function(t,e){for(var n,r=Uh(t),o,m=1;m<arguments.length;m++){n=Object(arguments[m]);for(var y in n)Nh.call(n,y)&&(r[y]=n[y]);if(xl){o=xl(n);for(var c=0;c<o.length;c++)Bh.call(n,o[c])&&(r[o[c]]=n[o[c]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=dc,Xn=60103,pc=60106;pe.Fragment=60107;pe.StrictMode=60108;pe.Profiler=60114;var gc=60109,mc=60110,vc=60112;pe.Suspense=60113;var yc=60115,_c=60116;if(typeof Symbol=="function"&&Symbol.for){var rt=Symbol.for;Xn=rt("react.element"),pc=rt("react.portal"),pe.Fragment=rt("react.fragment"),pe.StrictMode=rt("react.strict_mode"),pe.Profiler=rt("react.profiler"),gc=rt("react.provider"),mc=rt("react.context"),vc=rt("react.forward_ref"),pe.Suspense=rt("react.suspense"),yc=rt("react.memo"),_c=rt("react.lazy")}var Tl=typeof Symbol=="function"&&Symbol.iterator;function Hh(t){return t===null||typeof t!="object"?null:(t=Tl&&t[Tl]||t["@@iterator"],typeof t=="function"?t:null)}function Xi(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sc={};function Yn(t,e,n){this.props=t,this.context=e,this.refs=Sc,this.updater=n||Cc}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Xi(85));this.updater.enqueueSetState(this,t,e,"setState")};Yn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wc(){}wc.prototype=Yn.prototype;function fa(t,e,n){this.props=t,this.context=e,this.refs=Sc,this.updater=n||Cc}var ha=fa.prototype=new wc;ha.constructor=fa;ca(ha,Yn.prototype);ha.isPureReactComponent=!0;var da={current:null},xc=Object.prototype.hasOwnProperty,Tc={key:!0,ref:!0,__self:!0,__source:!0};function Ec(t,e,n){var r,o={},m=null,y=null;if(e!=null)for(r in e.ref!==void 0&&(y=e.ref),e.key!==void 0&&(m=""+e.key),e)xc.call(e,r)&&!Tc.hasOwnProperty(r)&&(o[r]=e[r]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var i=Array(c),h=0;h<c;h++)i[h]=arguments[h+2];o.children=i}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)o[r]===void 0&&(o[r]=c[r]);return{$$typeof:Xn,type:t,key:m,ref:y,props:o,_owner:da.current}}function zh(t,e){return{$$typeof:Xn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xn}function Vh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var El=/\/+/g;function xo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Vh(""+t.key):e.toString(36)}function pr(t,e,n,r,o){var m=typeof t;(m==="undefined"||m==="boolean")&&(t=null);var y=!1;if(t===null)y=!0;else switch(m){case"string":case"number":y=!0;break;case"object":switch(t.$$typeof){case Xn:case pc:y=!0}}if(y)return y=t,o=o(y),t=r===""?"."+xo(y,0):r,Array.isArray(o)?(n="",t!=null&&(n=t.replace(El,"$&/")+"/"),pr(o,e,n,"",function(h){return h})):o!=null&&(pa(o)&&(o=zh(o,n+(!o.key||y&&y.key===o.key?"":(""+o.key).replace(El,"$&/")+"/")+t)),e.push(o)),1;if(y=0,r=r===""?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){m=t[c];var i=r+xo(m,c);y+=pr(m,e,n,i,o)}else if(i=Hh(t),typeof i=="function")for(t=i.call(t),c=0;!(m=t.next()).done;)m=m.value,i=r+xo(m,c++),y+=pr(m,e,n,i,o);else if(m==="object")throw e=""+t,Error(Xi(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return y}function er(t,e,n){if(t==null)return t;var r=[],o=0;return pr(t,r,"","",function(m){return e.call(n,m,o++)}),r}function Xh(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var bc={current:null};function xt(){var t=bc.current;if(t===null)throw Error(Xi(321));return t}var Yh={ReactCurrentDispatcher:bc,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:da,IsSomeRendererActing:{current:!1},assign:ca};pe.Children={map:er,forEach:function(t,e,n){er(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return er(t,function(){e++}),e},toArray:function(t){return er(t,function(e){return e})||[]},only:function(t){if(!pa(t))throw Error(Xi(143));return t}};pe.Component=Yn;pe.PureComponent=fa;pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yh;pe.cloneElement=function(t,e,n){if(t==null)throw Error(Xi(267,t));var r=ca({},t.props),o=t.key,m=t.ref,y=t._owner;if(e!=null){if(e.ref!==void 0&&(m=e.ref,y=da.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(i in e)xc.call(e,i)&&!Tc.hasOwnProperty(i)&&(r[i]=e[i]===void 0&&c!==void 0?c[i]:e[i])}var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){c=Array(i);for(var h=0;h<i;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Xn,type:t.type,key:o,ref:m,props:r,_owner:y}};pe.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:mc,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:gc,_context:t},t.Consumer=t};pe.createElement=Ec;pe.createFactory=function(t){var e=Ec.bind(null,t);return e.type=t,e};pe.createRef=function(){return{current:null}};pe.forwardRef=function(t){return{$$typeof:vc,render:t}};pe.isValidElement=pa;pe.lazy=function(t){return{$$typeof:_c,_payload:{_status:-1,_result:t},_init:Xh}};pe.memo=function(t,e){return{$$typeof:yc,type:t,compare:e===void 0?null:e}};pe.useCallback=function(t,e){return xt().useCallback(t,e)};pe.useContext=function(t,e){return xt().useContext(t,e)};pe.useDebugValue=function(){};pe.useEffect=function(t,e){return xt().useEffect(t,e)};pe.useImperativeHandle=function(t,e,n){return xt().useImperativeHandle(t,e,n)};pe.useLayoutEffect=function(t,e){return xt().useLayoutEffect(t,e)};pe.useMemo=function(t,e){return xt().useMemo(t,e)};pe.useReducer=function(t,e,n){return xt().useReducer(t,e,n)};pe.useRef=function(t){return xt().useRef(t)};pe.useState=function(t){return xt().useState(t)};pe.version="17.0.2";ae.exports=pe;var Me=ae.exports,Oc={exports:{}},it={},kc={exports:{}},Pc={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,o;if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;t.unstable_now=function(){return m.now()}}else{var y=Date,c=y.now();t.unstable_now=function(){return y.now()-c}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var i=null,h=null,d=function(){if(i!==null)try{var b=t.unstable_now();i(!0,b),i=null}catch(k){throw setTimeout(d,0),k}};e=function(b){i!==null?setTimeout(e,0,b):(i=b,setTimeout(d,0))},n=function(b,k){h=setTimeout(b,k)},r=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var l=window.setTimeout,u=window.clearTimeout;if(typeof console!="undefined"){var a=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof a!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var f=!1,g=null,s=-1,p=5,v=0;t.unstable_shouldYield=function(){return t.unstable_now()>=v},o=function(){},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<b?Math.floor(1e3/b):5};var _=new MessageChannel,C=_.port2;_.port1.onmessage=function(){if(g!==null){var b=t.unstable_now();v=b+p;try{g(!0,b)?C.postMessage(null):(f=!1,g=null)}catch(k){throw C.postMessage(null),k}}else f=!1},e=function(b){g=b,f||(f=!0,C.postMessage(null))},n=function(b,k){s=l(function(){b(t.unstable_now())},k)},r=function(){u(s),s=-1}}function S(b,k){var L=b.length;b.push(k);e:for(;;){var P=L-1>>>1,x=b[P];if(x!==void 0&&0<O(x,k))b[P]=k,b[L]=x,L=P;else break e}}function w(b){return b=b[0],b===void 0?null:b}function E(b){var k=b[0];if(k!==void 0){var L=b.pop();if(L!==k){b[0]=L;e:for(var P=0,x=b.length;P<x;){var A=2*(P+1)-1,M=b[A],U=A+1,j=b[U];if(M!==void 0&&0>O(M,L))j!==void 0&&0>O(j,M)?(b[P]=j,b[U]=L,P=U):(b[P]=M,b[A]=L,P=A);else if(j!==void 0&&0>O(j,L))b[P]=j,b[U]=L,P=U;else break e}}return k}return null}function O(b,k){var L=b.sortIndex-k.sortIndex;return L!==0?L:b.id-k.id}var R=[],F=[],X=1,G=null,$=3,Q=!1,K=!1,te=!1;function re(b){for(var k=w(F);k!==null;){if(k.callback===null)E(F);else if(k.startTime<=b)E(F),k.sortIndex=k.expirationTime,S(R,k);else break;k=w(F)}}function ne(b){if(te=!1,re(b),!K)if(w(R)!==null)K=!0,e(T);else{var k=w(F);k!==null&&n(ne,k.startTime-b)}}function T(b,k){K=!1,te&&(te=!1,r()),Q=!0;var L=$;try{for(re(k),G=w(R);G!==null&&(!(G.expirationTime>k)||b&&!t.unstable_shouldYield());){var P=G.callback;if(typeof P=="function"){G.callback=null,$=G.priorityLevel;var x=P(G.expirationTime<=k);k=t.unstable_now(),typeof x=="function"?G.callback=x:G===w(R)&&E(R),re(k)}else E(R);G=w(R)}if(G!==null)var A=!0;else{var M=w(F);M!==null&&n(ne,M.startTime-k),A=!1}return A}finally{G=null,$=L,Q=!1}}var D=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){K||Q||(K=!0,e(T))},t.unstable_getCurrentPriorityLevel=function(){return $},t.unstable_getFirstCallbackNode=function(){return w(R)},t.unstable_next=function(b){switch($){case 1:case 2:case 3:var k=3;break;default:k=$}var L=$;$=k;try{return b()}finally{$=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=D,t.unstable_runWithPriority=function(b,k){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var L=$;$=b;try{return k()}finally{$=L}},t.unstable_scheduleCallback=function(b,k,L){var P=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?P+L:P):L=P,b){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=L+x,b={id:X++,callback:k,priorityLevel:b,startTime:L,expirationTime:x,sortIndex:-1},L>P?(b.sortIndex=L,S(F,b),w(R)===null&&b===w(F)&&(te?r():te=!0,n(ne,L-P))):(b.sortIndex=x,S(R,b),K||Q||(K=!0,e(T))),b},t.unstable_wrapCallback=function(b){var k=$;return function(){var L=$;$=k;try{return b.apply(this,arguments)}finally{$=L}}}})(Pc);kc.exports=Pc;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=ae.exports,Ce=dc,ke=kc.exports;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!io)throw Error(Z(227));var Dc=new Set,Di={};function dn(t,e){Bn(t,e),Bn(t+"Capture",e)}function Bn(t,e){for(Di[t]=e,t=0;t<e.length;t++)Dc.add(e[t])}var St=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Gh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bl=Object.prototype.hasOwnProperty,Ol={},kl={};function $h(t){return bl.call(kl,t)?!0:bl.call(Ol,t)?!1:Gh.test(t)?kl[t]=!0:(Ol[t]=!0,!1)}function Kh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qh(t,e,n,r){if(e===null||typeof e=="undefined"||Kh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ze(t,e,n,r,o,m,y){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=m,this.removeEmptyString=y}var Ie={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ie[t]=new ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ie[e]=new ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ie[t]=new ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ie[t]=new ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ie[t]=new ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ie[t]=new ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ie[t]=new ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ie[t]=new ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ie[t]=new ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var ga=/[\-:]([a-z])/g;function ma(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ga,ma);Ie[e]=new ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ga,ma);Ie[e]=new ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ga,ma);Ie[e]=new ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ie[t]=new ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Ie.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ie[t]=new ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function va(t,e,n,r){var o=Ie.hasOwnProperty(e)?Ie[e]:null,m=o!==null?o.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");m||(qh(e,n,o,r)&&(n=null),r||o===null?$h(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pn=io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fi=60103,Jt=60106,Ot=60107,ya=60108,yi=60114,_a=60109,Ca=60110,ro=60112,_i=60113,Er=60120,oo=60115,Sa=60116,wa=60121,xa=60128,Rc=60129,Ta=60130,ts=60131;if(typeof Symbol=="function"&&Symbol.for){var be=Symbol.for;fi=be("react.element"),Jt=be("react.portal"),Ot=be("react.fragment"),ya=be("react.strict_mode"),yi=be("react.profiler"),_a=be("react.provider"),Ca=be("react.context"),ro=be("react.forward_ref"),_i=be("react.suspense"),Er=be("react.suspense_list"),oo=be("react.memo"),Sa=be("react.lazy"),wa=be("react.block"),be("react.scope"),xa=be("react.opaque.id"),Rc=be("react.debug_trace_mode"),Ta=be("react.offscreen"),ts=be("react.legacy_hidden")}var Pl=typeof Symbol=="function"&&Symbol.iterator;function Jn(t){return t===null||typeof t!="object"?null:(t=Pl&&t[Pl]||t["@@iterator"],typeof t=="function"?t:null)}var To;function hi(t){if(To===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);To=e&&e[1]||""}return`
`+To+t}var Eo=!1;function tr(t,e){if(!t||Eo)return"";Eo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(i){var r=i}Reflect.construct(t,[],e)}else{try{e.call()}catch(i){r=i}t.call(e.prototype)}else{try{throw Error()}catch(i){r=i}t()}}catch(i){if(i&&r&&typeof i.stack=="string"){for(var o=i.stack.split(`
`),m=r.stack.split(`
`),y=o.length-1,c=m.length-1;1<=y&&0<=c&&o[y]!==m[c];)c--;for(;1<=y&&0<=c;y--,c--)if(o[y]!==m[c]){if(y!==1||c!==1)do if(y--,c--,0>c||o[y]!==m[c])return`
`+o[y].replace(" at new "," at ");while(1<=y&&0<=c);break}}}finally{Eo=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hi(t):""}function Qh(t){switch(t.tag){case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 2:case 15:return t=tr(t.type,!1),t;case 11:return t=tr(t.type.render,!1),t;case 22:return t=tr(t.type._render,!1),t;case 1:return t=tr(t.type,!0),t;default:return""}}function kn(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ot:return"Fragment";case Jt:return"Portal";case yi:return"Profiler";case ya:return"StrictMode";case _i:return"Suspense";case Er:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ca:return(t.displayName||"Context")+".Consumer";case _a:return(t._context.displayName||"Context")+".Provider";case ro:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case oo:return kn(t.type);case wa:return kn(t._render);case Sa:e=t._payload,t=t._init;try{return kn(t(e))}catch{}}return null}function Ut(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Ac(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zh(t){var e=Ac(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,m=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(y){r=""+y,m.call(this,y)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nr(t){t._valueTracker||(t._valueTracker=Zh(t))}function Lc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ac(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function br(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function ns(t,e){var n=e.checked;return Ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Dl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ut(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mc(t,e){e=e.checked,e!=null&&va(t,"checked",e,!1)}function is(t,e){Mc(t,e);var n=Ut(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rs(t,e.type,n):e.hasOwnProperty("defaultValue")&&rs(t,e.type,Ut(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rs(t,e,n){(e!=="number"||br(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function Jh(t){var e="";return io.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function os(t,e){return t=Ce({children:void 0},e),(e=Jh(e.children))&&(t.children=e),t}function Pn(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ut(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function ss(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Al(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ut(n)}}function Ic(t,e){var n=Ut(e.value),r=Ut(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ll(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var as={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Fc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ls(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ir,jc=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!==as.svg||"innerHTML"in t)t.innerHTML=e;else{for(ir=ir||document.createElement("div"),ir.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ir.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ri(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ci={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ed=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(t){ed.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ci[e]=Ci[t]})});function Nc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ci.hasOwnProperty(t)&&Ci[t]?(""+e).trim():e+"px"}function Bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Nc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var td=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function us(t,e){if(e){if(td[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function cs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ea(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fs=null,Dn=null,Rn=null;function Ml(t){if(t=Gi(t)){if(typeof fs!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=fo(e),fs(t.stateNode,t.type,e))}}function Uc(t){Dn?Rn?Rn.push(t):Rn=[t]:Dn=t}function Wc(){if(Dn){var t=Dn,e=Rn;if(Rn=Dn=null,Ml(t),e)for(t=0;t<e.length;t++)Ml(e[t])}}function ba(t,e){return t(e)}function Hc(t,e,n,r,o){return t(e,n,r,o)}function Oa(){}var zc=ba,en=!1,bo=!1;function ka(){(Dn!==null||Rn!==null)&&(Oa(),Wc())}function nd(t,e,n){if(bo)return t(e,n);bo=!0;try{return zc(t,e,n)}finally{bo=!1,ka()}}function Ai(t,e){var n=t.stateNode;if(n===null)return null;var r=fo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Z(231,e,typeof n));return n}var hs=!1;if(St)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){hs=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{hs=!1}function id(t,e,n,r,o,m,y,c,i){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Si=!1,Or=null,kr=!1,ds=null,rd={onError:function(t){Si=!0,Or=t}};function od(t,e,n,r,o,m,y,c,i){Si=!1,Or=null,id.apply(rd,arguments)}function sd(t,e,n,r,o,m,y,c,i){if(od.apply(this,arguments),Si){if(Si){var h=Or;Si=!1,Or=null}else throw Error(Z(198));kr||(kr=!0,ds=h)}}function gn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Il(t){if(gn(t)!==t)throw Error(Z(188))}function ad(t){var e=t.alternate;if(!e){if(e=gn(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var m=o.alternate;if(m===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===m.child){for(m=o.child;m;){if(m===n)return Il(o),t;if(m===r)return Il(o),e;m=m.sibling}throw Error(Z(188))}if(n.return!==r.return)n=o,r=m;else{for(var y=!1,c=o.child;c;){if(c===n){y=!0,n=o,r=m;break}if(c===r){y=!0,r=o,n=m;break}c=c.sibling}if(!y){for(c=m.child;c;){if(c===n){y=!0,n=m,r=o;break}if(c===r){y=!0,r=m,n=o;break}c=c.sibling}if(!y)throw Error(Z(189))}}if(n.alternate!==r)throw Error(Z(190))}if(n.tag!==3)throw Error(Z(188));return n.stateNode.current===n?t:e}function Xc(t){if(t=ad(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Fl(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Yc,Pa,Gc,$c,ps=!1,ut=[],Rt=null,At=null,Lt=null,Li=new Map,Mi=new Map,ti=[],jl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gs(t,e,n,r,o){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:o,targetContainers:[r]}}function Nl(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(e.pointerId)}}function ni(t,e,n,r,o,m){return t===null||t.nativeEvent!==m?(t=gs(e,n,r,o,m),e!==null&&(e=Gi(e),e!==null&&Pa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function ld(t,e,n,r,o){switch(e){case"focusin":return Rt=ni(Rt,t,e,n,r,o),!0;case"dragenter":return At=ni(At,t,e,n,r,o),!0;case"mouseover":return Lt=ni(Lt,t,e,n,r,o),!0;case"pointerover":var m=o.pointerId;return Li.set(m,ni(Li.get(m)||null,t,e,n,r,o)),!0;case"gotpointercapture":return m=o.pointerId,Mi.set(m,ni(Mi.get(m)||null,t,e,n,r,o)),!0}return!1}function ud(t){var e=tn(t.target);if(e!==null){var n=gn(e);if(n!==null){if(e=n.tag,e===13){if(e=Vc(n),e!==null){t.blockedOn=e,$c(t.lanePriority,function(){ke.unstable_runWithPriority(t.priority,function(){Gc(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gr(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=La(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Gi(n),e!==null&&Pa(e),t.blockedOn=n,!1;e.shift()}return!0}function Bl(t,e,n){gr(t)&&n.delete(e)}function cd(){for(ps=!1;0<ut.length;){var t=ut[0];if(t.blockedOn!==null){t=Gi(t.blockedOn),t!==null&&Yc(t);break}for(var e=t.targetContainers;0<e.length;){var n=La(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&ut.shift()}Rt!==null&&gr(Rt)&&(Rt=null),At!==null&&gr(At)&&(At=null),Lt!==null&&gr(Lt)&&(Lt=null),Li.forEach(Bl),Mi.forEach(Bl)}function ii(t,e){t.blockedOn===e&&(t.blockedOn=null,ps||(ps=!0,ke.unstable_scheduleCallback(ke.unstable_NormalPriority,cd)))}function Kc(t){function e(o){return ii(o,t)}if(0<ut.length){ii(ut[0],t);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rt!==null&&ii(Rt,t),At!==null&&ii(At,t),Lt!==null&&ii(Lt,t),Li.forEach(e),Mi.forEach(e),n=0;n<ti.length;n++)r=ti[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)ud(n),n.blockedOn===null&&ti.shift()}function rr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wn={animationend:rr("Animation","AnimationEnd"),animationiteration:rr("Animation","AnimationIteration"),animationstart:rr("Animation","AnimationStart"),transitionend:rr("Transition","TransitionEnd")},Oo={},qc={};St&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function so(t){if(Oo[t])return Oo[t];if(!wn[t])return t;var e=wn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in qc)return Oo[t]=e[n];return t}var Qc=so("animationend"),Zc=so("animationiteration"),Jc=so("animationstart"),ef=so("transitionend"),tf=new Map,Da=new Map,fd=["abort","abort",Qc,"animationEnd",Zc,"animationIteration",Jc,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ef,"transitionEnd","waiting","waiting"];function Ra(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Da.set(r,e),tf.set(r,o),dn(o,[r])}}var hd=ke.unstable_now;hd();var me=8;function _n(t){if((1&t)!==0)return me=15,1;if((2&t)!==0)return me=14,2;if((4&t)!==0)return me=13,4;var e=24&t;return e!==0?(me=12,e):(t&32)!==0?(me=11,32):(e=192&t,e!==0?(me=10,e):(t&256)!==0?(me=9,256):(e=3584&t,e!==0?(me=8,e):(t&4096)!==0?(me=7,4096):(e=4186112&t,e!==0?(me=6,e):(e=62914560&t,e!==0?(me=5,e):t&67108864?(me=4,67108864):(t&134217728)!==0?(me=3,134217728):(e=805306368&t,e!==0?(me=2,e):(1073741824&t)!==0?(me=1,1073741824):(me=8,t))))))}function dd(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function pd(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Z(358,t))}}function Ii(t,e){var n=t.pendingLanes;if(n===0)return me=0;var r=0,o=0,m=t.expiredLanes,y=t.suspendedLanes,c=t.pingedLanes;if(m!==0)r=m,o=me=15;else if(m=n&134217727,m!==0){var i=m&~y;i!==0?(r=_n(i),o=me):(c&=m,c!==0&&(r=_n(c),o=me))}else m=n&~y,m!==0?(r=_n(m),o=me):c!==0&&(r=_n(c),o=me);if(r===0)return 0;if(r=31-Wt(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&y)===0){if(_n(e),o<=me)return e;me=o}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Wt(e),o=1<<n,r|=t[n],e&=~o;return r}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pr(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Cn(24&~e),t===0?Pr(10,e):t;case 10:return t=Cn(192&~e),t===0?Pr(8,e):t;case 8:return t=Cn(3584&~e),t===0&&(t=Cn(4186112&~e),t===0&&(t=512)),t;case 2:return e=Cn(805306368&~e),e===0&&(e=268435456),e}throw Error(Z(358,t))}function Cn(t){return t&-t}function ko(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ao(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Wt(e),t[e]=n}var Wt=Math.clz32?Math.clz32:vd,gd=Math.log,md=Math.LN2;function vd(t){return t===0?32:31-(gd(t)/md|0)|0}var yd=ke.unstable_UserBlockingPriority,_d=ke.unstable_runWithPriority,mr=!0;function Cd(t,e,n,r){en||Oa();var o=Aa,m=en;en=!0;try{Hc(o,t,e,n,r)}finally{(en=m)||ka()}}function Sd(t,e,n,r){_d(yd,Aa.bind(null,t,e,n,r))}function Aa(t,e,n,r){if(mr){var o;if((o=(e&4)===0)&&0<ut.length&&-1<jl.indexOf(t))t=gs(null,t,e,n,r),ut.push(t);else{var m=La(t,e,n,r);if(m===null)o&&Nl(t,r);else{if(o){if(-1<jl.indexOf(t)){t=gs(m,t,e,n,r),ut.push(t);return}if(ld(m,t,e,n,r))return;Nl(t,r)}mf(t,e,r,null,n)}}}}function La(t,e,n,r){var o=Ea(r);if(o=tn(o),o!==null){var m=gn(o);if(m===null)o=null;else{var y=m.tag;if(y===13){if(o=Vc(m),o!==null)return o;o=null}else if(y===3){if(m.stateNode.hydrate)return m.tag===3?m.stateNode.containerInfo:null;o=null}else m!==o&&(o=null)}}return mf(t,e,r,o,n),null}var kt=null,Ma=null,vr=null;function rf(){if(vr)return vr;var t,e=Ma,n=e.length,r,o="value"in kt?kt.value:kt.textContent,m=o.length;for(t=0;t<n&&e[t]===o[t];t++);var y=n-t;for(r=1;r<=y&&e[n-r]===o[m-r];r++);return vr=o.slice(t,1<r?1-r:void 0)}function yr(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function Ul(){return!1}function Ke(t){function e(n,r,o,m,y){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(m):m[c]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?or:Ul,this.isPropagationStopped=Ul,this}return Ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),e}var Gn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ke(Gn),Yi=Ce({},Gn,{view:0,detail:0}),wd=Ke(Yi),Po,Do,ri,lo=Ce({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(Po=t.screenX-ri.screenX,Do=t.screenY-ri.screenY):Do=Po=0,ri=t),Po)},movementY:function(t){return"movementY"in t?t.movementY:Do}}),Wl=Ke(lo),xd=Ce({},lo,{dataTransfer:0}),Td=Ke(xd),Ed=Ce({},Yi,{relatedTarget:0}),Ro=Ke(Ed),bd=Ce({},Gn,{animationName:0,elapsedTime:0,pseudoElement:0}),Od=Ke(bd),kd=Ce({},Gn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pd=Ke(kd),Dd=Ce({},Gn,{data:0}),Hl=Ke(Dd),Rd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ad={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ld={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Md(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ld[t])?!!e[t]:!1}function Fa(){return Md}var Id=Ce({},Yi,{key:function(t){if(t.key){var e=Rd[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ad[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fa,charCode:function(t){return t.type==="keypress"?yr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fd=Ke(Id),jd=Ce({},lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=Ke(jd),Nd=Ce({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fa}),Bd=Ke(Nd),Ud=Ce({},Gn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=Ke(Ud),Hd=Ce({},lo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zd=Ke(Hd),Vd=[9,13,27,32],ja=St&&"CompositionEvent"in window,wi=null;St&&"documentMode"in document&&(wi=document.documentMode);var Xd=St&&"TextEvent"in window&&!wi,of=St&&(!ja||wi&&8<wi&&11>=wi),Vl=String.fromCharCode(32),Xl=!1;function sf(t,e){switch(t){case"keyup":return Vd.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function af(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function Yd(t,e){switch(t){case"compositionend":return af(e);case"keypress":return e.which!==32?null:(Xl=!0,Vl);case"textInput":return t=e.data,t===Vl&&Xl?null:t;default:return null}}function Gd(t,e){if(xn)return t==="compositionend"||!ja&&sf(t,e)?(t=rf(),vr=Ma=kt=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return of&&e.locale!=="ko"?null:e.data;default:return null}}var $d={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$d[t.type]:e==="textarea"}function lf(t,e,n,r){Uc(r),e=Dr(e,"onChange"),0<e.length&&(n=new Ia("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var xi=null,Fi=null;function Kd(t){df(t,0)}function uo(t){var e=En(t);if(Lc(e))return t}function qd(t,e){if(t==="change")return e}var uf=!1;if(St){var Ao;if(St){var Lo="oninput"in document;if(!Lo){var Gl=document.createElement("div");Gl.setAttribute("oninput","return;"),Lo=typeof Gl.oninput=="function"}Ao=Lo}else Ao=!1;uf=Ao&&(!document.documentMode||9<document.documentMode)}function $l(){xi&&(xi.detachEvent("onpropertychange",cf),Fi=xi=null)}function cf(t){if(t.propertyName==="value"&&uo(Fi)){var e=[];if(lf(e,Fi,t,Ea(t)),t=Kd,en)t(e);else{en=!0;try{ba(t,e)}finally{en=!1,ka()}}}}function Qd(t,e,n){t==="focusin"?($l(),xi=e,Fi=n,xi.attachEvent("onpropertychange",cf)):t==="focusout"&&$l()}function Zd(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uo(Fi)}function Jd(t,e){if(t==="click")return uo(e)}function ep(t,e){if(t==="input"||t==="change")return uo(e)}function tp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:tp,np=Object.prototype.hasOwnProperty;function ji(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!np.call(e,n[r])||!qe(t[n[r]],e[n[r]]))return!1;return!0}function Kl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ql(t,e){var n=Kl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kl(n)}}function ff(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ff(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ql(){for(var t=window,e=br();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=br(t.document)}return e}function ms(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ip=St&&"documentMode"in document&&11>=document.documentMode,Tn=null,vs=null,Ti=null,ys=!1;function Zl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ys||Tn==null||Tn!==br(r)||(r=Tn,"selectionStart"in r&&ms(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ti&&ji(Ti,r)||(Ti=r,r=Dr(vs,"onSelect"),0<r.length&&(e=new Ia("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Tn)))}Ra("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Ra("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Ra(fd,2);for(var Jl="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mo=0;Mo<Jl.length;Mo++)Da.set(Jl[Mo],0);Bn("onMouseEnter",["mouseout","mouseover"]);Bn("onMouseLeave",["mouseout","mouseover"]);Bn("onPointerEnter",["pointerout","pointerover"]);Bn("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function eu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sd(r,e,void 0,t),t.currentTarget=null}function df(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var m=void 0;if(e)for(var y=r.length-1;0<=y;y--){var c=r[y],i=c.instance,h=c.currentTarget;if(c=c.listener,i!==m&&o.isPropagationStopped())break e;eu(o,c,h),m=i}else for(y=0;y<r.length;y++){if(c=r[y],i=c.instance,h=c.currentTarget,c=c.listener,i!==m&&o.isPropagationStopped())break e;eu(o,c,h),m=i}}}if(kr)throw t=ds,kr=!1,ds=null,t}function ve(t,e){var n=yf(e),r=t+"__bubble";n.has(r)||(gf(e,t,2,!1),n.add(r))}var tu="_reactListening"+Math.random().toString(36).slice(2);function pf(t){t[tu]||(t[tu]=!0,Dc.forEach(function(e){hf.has(e)||nu(e,!1,t,null),nu(e,!0,t,null)}))}function nu(t,e,n,r){var o=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,m=n;if(t==="selectionchange"&&n.nodeType!==9&&(m=n.ownerDocument),r!==null&&!e&&hf.has(t)){if(t!=="scroll")return;o|=2,m=r}var y=yf(m),c=t+"__"+(e?"capture":"bubble");y.has(c)||(e&&(o|=4),gf(m,t,o,e),y.add(c))}function gf(t,e,n,r){var o=Da.get(e);switch(o===void 0?2:o){case 0:o=Cd;break;case 1:o=Sd;break;default:o=Aa}n=o.bind(null,e,n,t),o=void 0,!hs||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function mf(t,e,n,r,o){var m=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var c=r.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(y===4)for(y=r.return;y!==null;){var i=y.tag;if((i===3||i===4)&&(i=y.stateNode.containerInfo,i===o||i.nodeType===8&&i.parentNode===o))return;y=y.return}for(;c!==null;){if(y=tn(c),y===null)return;if(i=y.tag,i===5||i===6){r=m=y;continue e}c=c.parentNode}}r=r.return}nd(function(){var h=m,d=Ea(n),l=[];e:{var u=tf.get(t);if(u!==void 0){var a=Ia,f=t;switch(t){case"keypress":if(yr(n)===0)break e;case"keydown":case"keyup":a=Fd;break;case"focusin":f="focus",a=Ro;break;case"focusout":f="blur",a=Ro;break;case"beforeblur":case"afterblur":a=Ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=Wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=Td;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Bd;break;case Qc:case Zc:case Jc:a=Od;break;case ef:a=Wd;break;case"scroll":a=wd;break;case"wheel":a=zd;break;case"copy":case"cut":case"paste":a=Pd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=zl}var g=(e&4)!==0,s=!g&&t==="scroll",p=g?u!==null?u+"Capture":null:u;g=[];for(var v=h,_;v!==null;){_=v;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,p!==null&&(C=Ai(v,p),C!=null&&g.push(Ni(v,C,_)))),s)break;v=v.return}0<g.length&&(u=new a(u,f,null,n,d),l.push({event:u,listeners:g}))}}if((e&7)===0){e:{if(u=t==="mouseover"||t==="pointerover",a=t==="mouseout"||t==="pointerout",u&&(e&16)===0&&(f=n.relatedTarget||n.fromElement)&&(tn(f)||f[$n]))break e;if((a||u)&&(u=d.window===d?d:(u=d.ownerDocument)?u.defaultView||u.parentWindow:window,a?(f=n.relatedTarget||n.toElement,a=h,f=f?tn(f):null,f!==null&&(s=gn(f),f!==s||f.tag!==5&&f.tag!==6)&&(f=null)):(a=null,f=h),a!==f)){if(g=Wl,C="onMouseLeave",p="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=zl,C="onPointerLeave",p="onPointerEnter",v="pointer"),s=a==null?u:En(a),_=f==null?u:En(f),u=new g(C,v+"leave",a,n,d),u.target=s,u.relatedTarget=_,C=null,tn(d)===h&&(g=new g(p,v+"enter",f,n,d),g.target=_,g.relatedTarget=s,C=g),s=C,a&&f)t:{for(g=a,p=f,v=0,_=g;_;_=vn(_))v++;for(_=0,C=p;C;C=vn(C))_++;for(;0<v-_;)g=vn(g),v--;for(;0<_-v;)p=vn(p),_--;for(;v--;){if(g===p||p!==null&&g===p.alternate)break t;g=vn(g),p=vn(p)}g=null}else g=null;a!==null&&iu(l,u,a,g,!1),f!==null&&s!==null&&iu(l,s,f,g,!0)}}e:{if(u=h?En(h):window,a=u.nodeName&&u.nodeName.toLowerCase(),a==="select"||a==="input"&&u.type==="file")var S=qd;else if(Yl(u))if(uf)S=ep;else{S=Zd;var w=Qd}else(a=u.nodeName)&&a.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=Jd);if(S&&(S=S(t,h))){lf(l,S,n,d);break e}w&&w(t,u,h),t==="focusout"&&(w=u._wrapperState)&&w.controlled&&u.type==="number"&&rs(u,"number",u.value)}switch(w=h?En(h):window,t){case"focusin":(Yl(w)||w.contentEditable==="true")&&(Tn=w,vs=h,Ti=null);break;case"focusout":Ti=vs=Tn=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,Zl(l,n,d);break;case"selectionchange":if(ip)break;case"keydown":case"keyup":Zl(l,n,d)}var E;if(ja)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xn?sf(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(of&&n.locale!=="ko"&&(xn||O!=="onCompositionStart"?O==="onCompositionEnd"&&xn&&(E=rf()):(kt=d,Ma="value"in kt?kt.value:kt.textContent,xn=!0)),w=Dr(h,O),0<w.length&&(O=new Hl(O,t,null,n,d),l.push({event:O,listeners:w}),E?O.data=E:(E=af(n),E!==null&&(O.data=E)))),(E=Xd?Yd(t,n):Gd(t,n))&&(h=Dr(h,"onBeforeInput"),0<h.length&&(d=new Hl("onBeforeInput","beforeinput",null,n,d),l.push({event:d,listeners:h}),d.data=E))}df(l,e)})}function Ni(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,m=o.stateNode;o.tag===5&&m!==null&&(o=m,m=Ai(t,n),m!=null&&r.unshift(Ni(t,m,o)),m=Ai(t,e),m!=null&&r.push(Ni(t,m,o))),t=t.return}return r}function vn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iu(t,e,n,r,o){for(var m=e._reactName,y=[];n!==null&&n!==r;){var c=n,i=c.alternate,h=c.stateNode;if(i!==null&&i===r)break;c.tag===5&&h!==null&&(c=h,o?(i=Ai(n,m),i!=null&&y.unshift(Ni(n,i,c))):o||(i=Ai(n,m),i!=null&&y.push(Ni(n,i,c)))),n=n.return}y.length!==0&&t.push({event:e,listeners:y})}function Rr(){}var Io=null,Fo=null;function vf(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function _s(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ru=typeof setTimeout=="function"?setTimeout:void 0,rp=typeof clearTimeout=="function"?clearTimeout:void 0;function Na(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function An(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function ou(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jo=0;function op(t){return{$$typeof:xa,toString:t,valueOf:t}}var co=Math.random().toString(36).slice(2),Pt="__reactFiber$"+co,Ar="__reactProps$"+co,$n="__reactContainer$"+co,su="__reactEvents$"+co;function tn(t){var e=t[Pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[Pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ou(t);t!==null;){if(n=t[Pt])return n;t=ou(t)}return e}t=n,n=t.parentNode}return null}function Gi(t){return t=t[Pt]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function En(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function fo(t){return t[Ar]||null}function yf(t){var e=t[su];return e===void 0&&(e=t[su]=new Set),e}var Cs=[],bn=-1;function Xt(t){return{current:t}}function ye(t){0>bn||(t.current=Cs[bn],Cs[bn]=null,bn--)}function we(t,e){bn++,Cs[bn]=t.current,t.current=e}var Ht={},Ue=Xt(Ht),Ye=Xt(!1),un=Ht;function Un(t,e){var n=t.type.contextTypes;if(!n)return Ht;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},m;for(m in n)o[m]=e[m];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ge(t){return t=t.childContextTypes,t!=null}function Lr(){ye(Ye),ye(Ue)}function au(t,e,n){if(Ue.current!==Ht)throw Error(Z(168));we(Ue,e),we(Ye,n)}function _f(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(Z(108,kn(e)||"Unknown",o));return Ce({},n,r)}function _r(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,un=Ue.current,we(Ue,t),we(Ye,Ye.current),!0}function lu(t,e,n){var r=t.stateNode;if(!r)throw Error(Z(169));n?(t=_f(t,e,un),r.__reactInternalMemoizedMergedChildContext=t,ye(Ye),ye(Ue),we(Ue,t)):ye(Ye),we(Ye,n)}var Ba=null,an=null,sp=ke.unstable_runWithPriority,Ua=ke.unstable_scheduleCallback,Ss=ke.unstable_cancelCallback,ap=ke.unstable_shouldYield,uu=ke.unstable_requestPaint,ws=ke.unstable_now,lp=ke.unstable_getCurrentPriorityLevel,ho=ke.unstable_ImmediatePriority,Cf=ke.unstable_UserBlockingPriority,Sf=ke.unstable_NormalPriority,wf=ke.unstable_LowPriority,xf=ke.unstable_IdlePriority,No={},up=uu!==void 0?uu:function(){},mt=null,Cr=null,Bo=!1,cu=ws(),Ne=1e4>cu?ws:function(){return ws()-cu};function Wn(){switch(lp()){case ho:return 99;case Cf:return 98;case Sf:return 97;case wf:return 96;case xf:return 95;default:throw Error(Z(332))}}function Tf(t){switch(t){case 99:return ho;case 98:return Cf;case 97:return Sf;case 96:return wf;case 95:return xf;default:throw Error(Z(332))}}function cn(t,e){return t=Tf(t),sp(t,e)}function Bi(t,e,n){return t=Tf(t),Ua(t,e,n)}function pt(){if(Cr!==null){var t=Cr;Cr=null,Ss(t)}Ef()}function Ef(){if(!Bo&&mt!==null){Bo=!0;var t=0;try{var e=mt;cn(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),mt=null}catch(n){throw mt!==null&&(mt=mt.slice(t+1)),Ua(ho,pt),n}finally{Bo=!1}}}var cp=pn.ReactCurrentBatchConfig;function ot(t,e){if(t&&t.defaultProps){e=Ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Mr=Xt(null),Ir=null,On=null,Fr=null;function Wa(){Fr=On=Ir=null}function Ha(t){var e=Mr.current;ye(Mr),t.type._context._currentValue=e}function bf(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Ln(t,e){Ir=t,Fr=On=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(at=!0),t.firstContext=null)}function tt(t,e){if(Fr!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Fr=t,e=1073741823),e={context:t,observedBits:e,next:null},On===null){if(Ir===null)throw Error(Z(308));On=e,Ir.dependencies={lanes:0,firstContext:e,responders:null}}else On=On.next=e;return t._currentValue}var bt=!1;function za(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Of(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function fu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,m=null;if(n=n.firstBaseUpdate,n!==null){do{var y={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};m===null?o=m=y:m=m.next=y,n=n.next}while(n!==null);m===null?o=m=e:m=m.next=e}else o=m=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:m,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ui(t,e,n,r){var o=t.updateQueue;bt=!1;var m=o.firstBaseUpdate,y=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var i=c,h=i.next;i.next=null,y===null?m=h:y.next=h,y=i;var d=t.alternate;if(d!==null){d=d.updateQueue;var l=d.lastBaseUpdate;l!==y&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=i)}}if(m!==null){l=o.baseState,y=0,d=h=i=null;do{c=m.lane;var u=m.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:u,lane:0,tag:m.tag,payload:m.payload,callback:m.callback,next:null});e:{var a=t,f=m;switch(c=e,u=n,f.tag){case 1:if(a=f.payload,typeof a=="function"){l=a.call(u,l,c);break e}l=a;break e;case 3:a.flags=a.flags&-4097|64;case 0:if(a=f.payload,c=typeof a=="function"?a.call(u,l,c):a,c==null)break e;l=Ce({},l,c);break e;case 2:bt=!0}}m.callback!==null&&(t.flags|=32,c=o.effects,c===null?o.effects=[m]:c.push(m))}else u={eventTime:u,lane:c,tag:m.tag,payload:m.payload,callback:m.callback,next:null},d===null?(h=d=u,i=l):d=d.next=u,y|=c;if(m=m.next,m===null){if(c=o.shared.pending,c===null)break;m=c.next,c.next=null,o.lastBaseUpdate=c,o.shared.pending=null}}while(1);d===null&&(i=l),o.baseState=i,o.firstBaseUpdate=h,o.lastBaseUpdate=d,Ki|=y,t.lanes=y,t.memoizedState=l}}function hu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(Z(191,o));o.call(r)}}}var kf=new io.Component().refs;function jr(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var po={isMounted:function(t){return(t=t._reactInternals)?gn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$e(),o=Ft(t),m=Mt(r,o);m.payload=e,n!=null&&(m.callback=n),It(t,m),jt(t,o,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$e(),o=Ft(t),m=Mt(r,o);m.tag=1,m.payload=e,n!=null&&(m.callback=n),It(t,m),jt(t,o,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$e(),r=Ft(t),o=Mt(n,r);o.tag=2,e!=null&&(o.callback=e),It(t,o),jt(t,r,n)}};function du(t,e,n,r,o,m,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,m,y):e.prototype&&e.prototype.isPureReactComponent?!ji(n,r)||!ji(o,m):!0}function Pf(t,e,n){var r=!1,o=Ht,m=e.contextType;return typeof m=="object"&&m!==null?m=tt(m):(o=Ge(e)?un:Ue.current,r=e.contextTypes,m=(r=r!=null)?Un(t,o):Ht),e=new e(n,m),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=po,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=m),e}function pu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&po.enqueueReplaceState(e,e.state,null)}function xs(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=kf,za(t);var m=e.contextType;typeof m=="object"&&m!==null?o.context=tt(m):(m=Ge(e)?un:Ue.current,o.context=Un(t,m)),Ui(t,n,o,r),o.state=t.memoizedState,m=e.getDerivedStateFromProps,typeof m=="function"&&(jr(t,e,m,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&po.enqueueReplaceState(o,o.state,null),Ui(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4)}var sr=Array.isArray;function oi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Z(309));var r=n.stateNode}if(!r)throw Error(Z(147,t));var o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(m){var y=r.refs;y===kf&&(y=r.refs={}),m===null?delete y[o]:y[o]=m},e._stringRef=o,e)}if(typeof t!="string")throw Error(Z(284));if(!n._owner)throw Error(Z(290,t))}return t}function ar(t,e){if(t.type!=="textarea")throw Error(Z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Df(t){function e(s,p){if(t){var v=s.lastEffect;v!==null?(v.nextEffect=p,s.lastEffect=p):s.firstEffect=s.lastEffect=p,p.nextEffect=null,p.flags=8}}function n(s,p){if(!t)return null;for(;p!==null;)e(s,p),p=p.sibling;return null}function r(s,p){for(s=new Map;p!==null;)p.key!==null?s.set(p.key,p):s.set(p.index,p),p=p.sibling;return s}function o(s,p){return s=Vt(s,p),s.index=0,s.sibling=null,s}function m(s,p,v){return s.index=v,t?(v=s.alternate,v!==null?(v=v.index,v<p?(s.flags=2,p):v):(s.flags=2,p)):p}function y(s){return t&&s.alternate===null&&(s.flags=2),s}function c(s,p,v,_){return p===null||p.tag!==6?(p=Vo(v,s.mode,_),p.return=s,p):(p=o(p,v),p.return=s,p)}function i(s,p,v,_){return p!==null&&p.elementType===v.type?(_=o(p,v.props),_.ref=oi(s,p,v),_.return=s,_):(_=Tr(v.type,v.key,v.props,null,s.mode,_),_.ref=oi(s,p,v),_.return=s,_)}function h(s,p,v,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Xo(v,s.mode,_),p.return=s,p):(p=o(p,v.children||[]),p.return=s,p)}function d(s,p,v,_,C){return p===null||p.tag!==7?(p=jn(v,s.mode,_,C),p.return=s,p):(p=o(p,v),p.return=s,p)}function l(s,p,v){if(typeof p=="string"||typeof p=="number")return p=Vo(""+p,s.mode,v),p.return=s,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fi:return v=Tr(p.type,p.key,p.props,null,s.mode,v),v.ref=oi(s,null,p),v.return=s,v;case Jt:return p=Xo(p,s.mode,v),p.return=s,p}if(sr(p)||Jn(p))return p=jn(p,s.mode,v,null),p.return=s,p;ar(s,p)}return null}function u(s,p,v,_){var C=p!==null?p.key:null;if(typeof v=="string"||typeof v=="number")return C!==null?null:c(s,p,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case fi:return v.key===C?v.type===Ot?d(s,p,v.props.children,_,C):i(s,p,v,_):null;case Jt:return v.key===C?h(s,p,v,_):null}if(sr(v)||Jn(v))return C!==null?null:d(s,p,v,_,null);ar(s,v)}return null}function a(s,p,v,_,C){if(typeof _=="string"||typeof _=="number")return s=s.get(v)||null,c(p,s,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case fi:return s=s.get(_.key===null?v:_.key)||null,_.type===Ot?d(p,s,_.props.children,C,_.key):i(p,s,_,C);case Jt:return s=s.get(_.key===null?v:_.key)||null,h(p,s,_,C)}if(sr(_)||Jn(_))return s=s.get(v)||null,d(p,s,_,C,null);ar(p,_)}return null}function f(s,p,v,_){for(var C=null,S=null,w=p,E=p=0,O=null;w!==null&&E<v.length;E++){w.index>E?(O=w,w=null):O=w.sibling;var R=u(s,w,v[E],_);if(R===null){w===null&&(w=O);break}t&&w&&R.alternate===null&&e(s,w),p=m(R,p,E),S===null?C=R:S.sibling=R,S=R,w=O}if(E===v.length)return n(s,w),C;if(w===null){for(;E<v.length;E++)w=l(s,v[E],_),w!==null&&(p=m(w,p,E),S===null?C=w:S.sibling=w,S=w);return C}for(w=r(s,w);E<v.length;E++)O=a(w,s,E,v[E],_),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?E:O.key),p=m(O,p,E),S===null?C=O:S.sibling=O,S=O);return t&&w.forEach(function(F){return e(s,F)}),C}function g(s,p,v,_){var C=Jn(v);if(typeof C!="function")throw Error(Z(150));if(v=C.call(v),v==null)throw Error(Z(151));for(var S=C=null,w=p,E=p=0,O=null,R=v.next();w!==null&&!R.done;E++,R=v.next()){w.index>E?(O=w,w=null):O=w.sibling;var F=u(s,w,R.value,_);if(F===null){w===null&&(w=O);break}t&&w&&F.alternate===null&&e(s,w),p=m(F,p,E),S===null?C=F:S.sibling=F,S=F,w=O}if(R.done)return n(s,w),C;if(w===null){for(;!R.done;E++,R=v.next())R=l(s,R.value,_),R!==null&&(p=m(R,p,E),S===null?C=R:S.sibling=R,S=R);return C}for(w=r(s,w);!R.done;E++,R=v.next())R=a(w,s,E,R.value,_),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?E:R.key),p=m(R,p,E),S===null?C=R:S.sibling=R,S=R);return t&&w.forEach(function(X){return e(s,X)}),C}return function(s,p,v,_){var C=typeof v=="object"&&v!==null&&v.type===Ot&&v.key===null;C&&(v=v.props.children);var S=typeof v=="object"&&v!==null;if(S)switch(v.$$typeof){case fi:e:{for(S=v.key,C=p;C!==null;){if(C.key===S){switch(C.tag){case 7:if(v.type===Ot){n(s,C.sibling),p=o(C,v.props.children),p.return=s,s=p;break e}break;default:if(C.elementType===v.type){n(s,C.sibling),p=o(C,v.props),p.ref=oi(s,C,v),p.return=s,s=p;break e}}n(s,C);break}else e(s,C);C=C.sibling}v.type===Ot?(p=jn(v.props.children,s.mode,_,v.key),p.return=s,s=p):(_=Tr(v.type,v.key,v.props,null,s.mode,_),_.ref=oi(s,p,v),_.return=s,s=_)}return y(s);case Jt:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(s,p.sibling),p=o(p,v.children||[]),p.return=s,s=p;break e}else{n(s,p);break}else e(s,p);p=p.sibling}p=Xo(v,s.mode,_),p.return=s,s=p}return y(s)}if(typeof v=="string"||typeof v=="number")return v=""+v,p!==null&&p.tag===6?(n(s,p.sibling),p=o(p,v),p.return=s,s=p):(n(s,p),p=Vo(v,s.mode,_),p.return=s,s=p),y(s);if(sr(v))return f(s,p,v,_);if(Jn(v))return g(s,p,v,_);if(S&&ar(s,v),typeof v=="undefined"&&!C)switch(s.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Z(152,kn(s.type)||"Component"))}return n(s,p)}}var Nr=Df(!0),Rf=Df(!1),$i={},ht=Xt($i),Wi=Xt($i),Hi=Xt($i);function nn(t){if(t===$i)throw Error(Z(174));return t}function Ts(t,e){switch(we(Hi,e),we(Wi,t),we(ht,$i),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ls(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ls(e,t)}ye(ht),we(ht,e)}function Hn(){ye(ht),ye(Wi),ye(Hi)}function gu(t){nn(Hi.current);var e=nn(ht.current),n=ls(e,t.type);e!==n&&(we(Wi,t),we(ht,n))}function Va(t){Wi.current===t&&(ye(ht),ye(Wi))}var Se=Xt(0);function Br(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yt=null,Dt=null,dt=!1;function Af(t,e){var n=Qe(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function mu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Es(t){if(dt){var e=Dt;if(e){var n=e;if(!mu(t,e)){if(e=An(n.nextSibling),!e||!mu(t,e)){t.flags=t.flags&-1025|2,dt=!1,yt=t;return}Af(yt,n)}yt=t,Dt=An(e.firstChild)}else t.flags=t.flags&-1025|2,dt=!1,yt=t}}function vu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yt=t}function lr(t){if(t!==yt)return!1;if(!dt)return vu(t),dt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!_s(e,t.memoizedProps))for(e=Dt;e;)Af(t,e),e=An(e.nextSibling);if(vu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=An(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=yt?An(t.stateNode.nextSibling):null;return!0}function Uo(){Dt=yt=null,dt=!1}var Mn=[];function Xa(){for(var t=0;t<Mn.length;t++)Mn[t]._workInProgressVersionPrimary=null;Mn.length=0}var Ei=pn.ReactCurrentDispatcher,et=pn.ReactCurrentBatchConfig,zi=0,xe=null,je=null,Re=null,Ur=!1,bi=!1;function Ve(){throw Error(Z(321))}function Ya(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!qe(t[n],e[n]))return!1;return!0}function Ga(t,e,n,r,o,m){if(zi=m,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ei.current=t===null||t.memoizedState===null?hp:dp,t=n(r,o),bi){m=0;do{if(bi=!1,!(25>m))throw Error(Z(301));m+=1,Re=je=null,e.updateQueue=null,Ei.current=pp,t=n(r,o)}while(bi)}if(Ei.current=Vr,e=je!==null&&je.next!==null,zi=0,Re=je=xe=null,Ur=!1,e)throw Error(Z(300));return t}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?xe.memoizedState=Re=t:Re=Re.next=t,Re}function mn(){if(je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Re===null?xe.memoizedState:Re.next;if(e!==null)Re=e,je=t;else{if(t===null)throw Error(Z(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Re===null?xe.memoizedState=Re=t:Re=Re.next=t}return Re}function ct(t,e){return typeof e=="function"?e(t):e}function si(t){var e=mn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=je,o=r.baseQueue,m=n.pending;if(m!==null){if(o!==null){var y=o.next;o.next=m.next,m.next=y}r.baseQueue=o=m,n.pending=null}if(o!==null){o=o.next,r=r.baseState;var c=y=m=null,i=o;do{var h=i.lane;if((zi&h)===h)c!==null&&(c=c.next={lane:0,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null}),r=i.eagerReducer===t?i.eagerState:t(r,i.action);else{var d={lane:h,action:i.action,eagerReducer:i.eagerReducer,eagerState:i.eagerState,next:null};c===null?(y=c=d,m=r):c=c.next=d,xe.lanes|=h,Ki|=h}i=i.next}while(i!==null&&i!==o);c===null?m=r:c.next=y,qe(r,e.memoizedState)||(at=!0),e.memoizedState=r,e.baseState=m,e.baseQueue=c,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ai(t){var e=mn(),n=e.queue;if(n===null)throw Error(Z(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,m=e.memoizedState;if(o!==null){n.pending=null;var y=o=o.next;do m=t(m,y.action),y=y.next;while(y!==o);qe(m,e.memoizedState)||(at=!0),e.memoizedState=m,e.baseQueue===null&&(e.baseState=m),n.lastRenderedState=m}return[m,r]}function yu(t,e,n){var r=e._getVersion;r=r(e._source);var o=e._workInProgressVersionPrimary;if(o!==null?t=o===r:(t=t.mutableReadLanes,(t=(zi&t)===t)&&(e._workInProgressVersionPrimary=r,Mn.push(e))),t)return n(e._source);throw Mn.push(e),Error(Z(350))}function Lf(t,e,n,r){var o=He;if(o===null)throw Error(Z(349));var m=e._getVersion,y=m(e._source),c=Ei.current,i=c.useState(function(){return yu(o,e,n)}),h=i[1],d=i[0];i=Re;var l=t.memoizedState,u=l.refs,a=u.getSnapshot,f=l.source;l=l.subscribe;var g=xe;return t.memoizedState={refs:u,source:e,subscribe:r},c.useEffect(function(){u.getSnapshot=n,u.setSnapshot=h;var s=m(e._source);if(!qe(y,s)){s=n(e._source),qe(d,s)||(h(s),s=Ft(g),o.mutableReadLanes|=s&o.pendingLanes),s=o.mutableReadLanes,o.entangledLanes|=s;for(var p=o.entanglements,v=s;0<v;){var _=31-Wt(v),C=1<<_;p[_]|=s,v&=~C}}},[n,e,r]),c.useEffect(function(){return r(e._source,function(){var s=u.getSnapshot,p=u.setSnapshot;try{p(s(e._source));var v=Ft(g);o.mutableReadLanes|=v&o.pendingLanes}catch(_){p(function(){throw _})}})},[e,r]),qe(a,n)&&qe(f,e)&&qe(l,r)||(t={pending:null,dispatch:null,lastRenderedReducer:ct,lastRenderedState:d},t.dispatch=h=qa.bind(null,xe,t),i.queue=t,i.baseQueue=null,d=yu(o,e,n),i.memoizedState=i.baseState=d),d}function Mf(t,e,n){var r=mn();return Lf(r,t,e,n)}function li(t){var e=rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ct,lastRenderedState:t},t=t.dispatch=qa.bind(null,xe,t),[e.memoizedState,t]}function Wr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _u(t){var e=rn();return t={current:t},e.memoizedState=t}function Hr(){return mn().memoizedState}function bs(t,e,n,r){var o=rn();xe.flags|=t,o.memoizedState=Wr(1|e,n,void 0,r===void 0?null:r)}function $a(t,e,n,r){var o=mn();r=r===void 0?null:r;var m=void 0;if(je!==null){var y=je.memoizedState;if(m=y.destroy,r!==null&&Ya(r,y.deps)){Wr(e,n,m,r);return}}xe.flags|=t,o.memoizedState=Wr(1|e,n,m,r)}function Cu(t,e){return bs(516,4,t,e)}function zr(t,e){return $a(516,4,t,e)}function If(t,e){return $a(4,2,t,e)}function Ff(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jf(t,e,n){return n=n!=null?n.concat([t]):null,$a(4,2,Ff.bind(null,e,t),n)}function Ka(){}function Nf(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ya(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bf(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ya(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fp(t,e){var n=Wn();cn(98>n?98:n,function(){t(!0)}),cn(97<n?97:n,function(){var r=et.transition;et.transition=1;try{t(!1),e()}finally{et.transition=r}})}function qa(t,e,n){var r=$e(),o=Ft(t),m={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},y=e.pending;if(y===null?m.next=m:(m.next=y.next,y.next=m),e.pending=m,y=t.alternate,t===xe||y!==null&&y===xe)bi=Ur=!0;else{if(t.lanes===0&&(y===null||y.lanes===0)&&(y=e.lastRenderedReducer,y!==null))try{var c=e.lastRenderedState,i=y(c,n);if(m.eagerReducer=y,m.eagerState=i,qe(i,c))return}catch{}finally{}jt(t,o,r)}}var Vr={readContext:tt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useOpaqueIdentifier:Ve,unstable_isNewReconciler:!1},hp={readContext:tt,useCallback:function(t,e){return rn().memoizedState=[t,e===void 0?null:e],t},useContext:tt,useEffect:Cu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bs(4,2,Ff.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bs(4,2,t,e)},useMemo:function(t,e){var n=rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=qa.bind(null,xe,t),[r.memoizedState,t]},useRef:_u,useState:li,useDebugValue:Ka,useDeferredValue:function(t){var e=li(t),n=e[0],r=e[1];return Cu(function(){var o=et.transition;et.transition=1;try{r(t)}finally{et.transition=o}},[t]),n},useTransition:function(){var t=li(!1),e=t[0];return t=fp.bind(null,t[1]),_u(t),[t,e]},useMutableSource:function(t,e,n){var r=rn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Lf(r,t,e,n)},useOpaqueIdentifier:function(){if(dt){var t=!1,e=op(function(){throw t||(t=!0,n("r:"+(jo++).toString(36))),Error(Z(355))}),n=li(e)[1];return(xe.mode&2)===0&&(xe.flags|=516,Wr(5,function(){n("r:"+(jo++).toString(36))},void 0,null)),e}return e="r:"+(jo++).toString(36),li(e),e},unstable_isNewReconciler:!1},dp={readContext:tt,useCallback:Nf,useContext:tt,useEffect:zr,useImperativeHandle:jf,useLayoutEffect:If,useMemo:Bf,useReducer:si,useRef:Hr,useState:function(){return si(ct)},useDebugValue:Ka,useDeferredValue:function(t){var e=si(ct),n=e[0],r=e[1];return zr(function(){var o=et.transition;et.transition=1;try{r(t)}finally{et.transition=o}},[t]),n},useTransition:function(){var t=si(ct)[0];return[Hr().current,t]},useMutableSource:Mf,useOpaqueIdentifier:function(){return si(ct)[0]},unstable_isNewReconciler:!1},pp={readContext:tt,useCallback:Nf,useContext:tt,useEffect:zr,useImperativeHandle:jf,useLayoutEffect:If,useMemo:Bf,useReducer:ai,useRef:Hr,useState:function(){return ai(ct)},useDebugValue:Ka,useDeferredValue:function(t){var e=ai(ct),n=e[0],r=e[1];return zr(function(){var o=et.transition;et.transition=1;try{r(t)}finally{et.transition=o}},[t]),n},useTransition:function(){var t=ai(ct)[0];return[Hr().current,t]},useMutableSource:Mf,useOpaqueIdentifier:function(){return ai(ct)[0]},unstable_isNewReconciler:!1},gp=pn.ReactCurrentOwner,at=!1;function Xe(t,e,n,r){e.child=t===null?Rf(e,null,n,r):Nr(e,t.child,n,r)}function Su(t,e,n,r,o){n=n.render;var m=e.ref;return Ln(e,o),r=Ga(t,e,n,r,m,o),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,_t(t,e,o)):(e.flags|=1,Xe(t,e,r,o),e.child)}function wu(t,e,n,r,o,m){if(t===null){var y=n.type;return typeof y=="function"&&!nl(y)&&y.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=y,Uf(t,e,y,r,o,m)):(t=Tr(n.type,null,r,e,e.mode,m),t.ref=e.ref,t.return=e,e.child=t)}return y=t.child,(o&m)===0&&(o=y.memoizedProps,n=n.compare,n=n!==null?n:ji,n(o,r)&&t.ref===e.ref)?_t(t,e,m):(e.flags|=1,t=Vt(y,r),t.ref=e.ref,t.return=e,e.child=t)}function Uf(t,e,n,r,o,m){if(t!==null&&ji(t.memoizedProps,r)&&t.ref===e.ref)if(at=!1,(m&o)!==0)(t.flags&16384)!==0&&(at=!0);else return e.lanes=t.lanes,_t(t,e,m);return Os(t,e,n,r,m)}function Wo(t,e,n){var r=e.pendingProps,o=r.children,m=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},cr(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},cr(e,m!==null?m.baseLanes:n);else return t=m!==null?m.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},cr(e,t),null;else m!==null?(r=m.baseLanes|n,e.memoizedState=null):r=n,cr(e,r);return Xe(t,e,o,n),e.child}function Wf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function Os(t,e,n,r,o){var m=Ge(n)?un:Ue.current;return m=Un(e,m),Ln(e,o),n=Ga(t,e,n,r,m,o),t!==null&&!at?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~o,_t(t,e,o)):(e.flags|=1,Xe(t,e,n,o),e.child)}function xu(t,e,n,r,o){if(Ge(n)){var m=!0;_r(e)}else m=!1;if(Ln(e,o),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Pf(e,n,r),xs(e,n,r,o),r=!0;else if(t===null){var y=e.stateNode,c=e.memoizedProps;y.props=c;var i=y.context,h=n.contextType;typeof h=="object"&&h!==null?h=tt(h):(h=Ge(n)?un:Ue.current,h=Un(e,h));var d=n.getDerivedStateFromProps,l=typeof d=="function"||typeof y.getSnapshotBeforeUpdate=="function";l||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==r||i!==h)&&pu(e,y,r,h),bt=!1;var u=e.memoizedState;y.state=u,Ui(e,r,y,o),i=e.memoizedState,c!==r||u!==i||Ye.current||bt?(typeof d=="function"&&(jr(e,n,d,r),i=e.memoizedState),(c=bt||du(e,n,c,r,u,i,h))?(l||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(e.flags|=4)):(typeof y.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=i),y.props=r,y.state=i,y.context=h,r=c):(typeof y.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{y=e.stateNode,Of(t,e),c=e.memoizedProps,h=e.type===e.elementType?c:ot(e.type,c),y.props=h,l=e.pendingProps,u=y.context,i=n.contextType,typeof i=="object"&&i!==null?i=tt(i):(i=Ge(n)?un:Ue.current,i=Un(e,i));var a=n.getDerivedStateFromProps;(d=typeof a=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(c!==l||u!==i)&&pu(e,y,r,i),bt=!1,u=e.memoizedState,y.state=u,Ui(e,r,y,o);var f=e.memoizedState;c!==l||u!==f||Ye.current||bt?(typeof a=="function"&&(jr(e,n,a,r),f=e.memoizedState),(h=bt||du(e,n,h,r,u,f,i))?(d||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,f,i),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,f,i)),typeof y.componentDidUpdate=="function"&&(e.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof y.componentDidUpdate!="function"||c===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&u===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=f),y.props=r,y.state=f,y.context=i,r=h):(typeof y.componentDidUpdate!="function"||c===t.memoizedProps&&u===t.memoizedState||(e.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&u===t.memoizedState||(e.flags|=256),r=!1)}return ks(t,e,n,r,m,o)}function ks(t,e,n,r,o,m){Wf(t,e);var y=(e.flags&64)!==0;if(!r&&!y)return o&&lu(e,n,!1),_t(t,e,m);r=e.stateNode,gp.current=e;var c=y&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&y?(e.child=Nr(e,t.child,null,m),e.child=Nr(e,null,c,m)):Xe(t,e,c,m),e.memoizedState=r.state,o&&lu(e,n,!0),e.child}function Tu(t){var e=t.stateNode;e.pendingContext?au(t,e.pendingContext,e.pendingContext!==e.context):e.context&&au(t,e.context,!1),Ts(t,e.containerInfo)}var ur={dehydrated:null,retryLane:0};function Eu(t,e,n){var r=e.pendingProps,o=Se.current,m=!1,y;return(y=(e.flags&64)!==0)||(y=t!==null&&t.memoizedState===null?!1:(o&2)!==0),y?(m=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(o|=1),we(Se,o&1),t===null?(r.fallback!==void 0&&Es(e),t=r.children,o=r.fallback,m?(t=bu(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ur,t):typeof r.unstable_expectedLoadTime=="number"?(t=bu(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ur,e.lanes=33554432,t):(n=il({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?m?(r=ku(t,e,r.children,r.fallback,n),m=e.child,o=t.child.memoizedState,m.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},m.childLanes=t.childLanes&~n,e.memoizedState=ur,r):(n=Ou(t,e,r.children,n),e.memoizedState=null,n):m?(r=ku(t,e,r.children,r.fallback,n),m=e.child,o=t.child.memoizedState,m.memoizedState=o===null?{baseLanes:n}:{baseLanes:o.baseLanes|n},m.childLanes=t.childLanes&~n,e.memoizedState=ur,r):(n=Ou(t,e,r.children,n),e.memoizedState=null,n)}function bu(t,e,n,r){var o=t.mode,m=t.child;return e={mode:"hidden",children:e},(o&2)===0&&m!==null?(m.childLanes=0,m.pendingProps=e):m=il(e,o,0,null),n=jn(n,o,r,null),m.return=t,n.return=t,m.sibling=n,t.child=m,n}function Ou(t,e,n,r){var o=t.child;return t=o.sibling,n=Vt(o,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function ku(t,e,n,r,o){var m=e.mode,y=t.child;t=y.sibling;var c={mode:"hidden",children:n};return(m&2)===0&&e.child!==y?(n=e.child,n.childLanes=0,n.pendingProps=c,y=n.lastEffect,y!==null?(e.firstEffect=n.firstEffect,e.lastEffect=y,y.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Vt(y,c),t!==null?r=Vt(t,r):(r=jn(r,m,o,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Pu(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),bf(t.return,e)}function Ho(t,e,n,r,o,m){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,lastEffect:m}:(y.isBackwards=e,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=n,y.tailMode=o,y.lastEffect=m)}function Du(t,e,n){var r=e.pendingProps,o=r.revealOrder,m=r.tail;if(Xe(t,e,r.children,n),r=Se.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pu(t,n);else if(t.tag===19)Pu(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(we(Se,r),(e.mode&2)===0)e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Br(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ho(e,!1,o,n,m,e.lastEffect);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Br(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ho(e,!0,n,null,m,e.lastEffect);break;case"together":Ho(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function _t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ki|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,n=Vt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Hf,Ps,zf,Vf;Hf=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ps=function(){};zf=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,nn(ht.current);var m=null;switch(n){case"input":o=ns(t,o),r=ns(t,r),m=[];break;case"option":o=os(t,o),r=os(t,r),m=[];break;case"select":o=Ce({},o,{value:void 0}),r=Ce({},r,{value:void 0}),m=[];break;case"textarea":o=ss(t,o),r=ss(t,r),m=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Rr)}us(n,r);var y;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var c=o[h];for(y in c)c.hasOwnProperty(y)&&(n||(n={}),n[y]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Di.hasOwnProperty(h)?m||(m=[]):(m=m||[]).push(h,null));for(h in r){var i=r[h];if(c=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&i!==c&&(i!=null||c!=null))if(h==="style")if(c){for(y in c)!c.hasOwnProperty(y)||i&&i.hasOwnProperty(y)||(n||(n={}),n[y]="");for(y in i)i.hasOwnProperty(y)&&c[y]!==i[y]&&(n||(n={}),n[y]=i[y])}else n||(m||(m=[]),m.push(h,n)),n=i;else h==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,c=c?c.__html:void 0,i!=null&&c!==i&&(m=m||[]).push(h,i)):h==="children"?typeof i!="string"&&typeof i!="number"||(m=m||[]).push(h,""+i):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Di.hasOwnProperty(h)?(i!=null&&h==="onScroll"&&ve("scroll",t),m||c===i||(m=[])):typeof i=="object"&&i!==null&&i.$$typeof===xa?i.toString():(m=m||[]).push(h,i))}n&&(m=m||[]).push("style",n);var h=m;(e.updateQueue=h)&&(e.flags|=4)}};Vf=function(t,e,n,r){n!==r&&(e.flags|=4)};function ui(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function mp(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ge(e.type)&&Lr(),null;case 3:return Hn(),ye(Ye),ye(Ue),Xa(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lr(e)?e.flags|=4:r.hydrate||(e.flags|=256)),Ps(e),null;case 5:Va(e);var o=nn(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)zf(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(Z(166));return null}if(t=nn(ht.current),lr(e)){r=e.stateNode,n=e.type;var m=e.memoizedProps;switch(r[Pt]=e,r[Ar]=m,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(t=0;t<di.length;t++)ve(di[t],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Dl(r,m),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!m.multiple},ve("invalid",r);break;case"textarea":Al(r,m),ve("invalid",r)}us(n,m),t=null;for(var y in m)m.hasOwnProperty(y)&&(o=m[y],y==="children"?typeof o=="string"?r.textContent!==o&&(t=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(t=["children",""+o]):Di.hasOwnProperty(y)&&o!=null&&y==="onScroll"&&ve("scroll",r));switch(n){case"input":nr(r),Rl(r,m,!0);break;case"textarea":nr(r),Ll(r);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(r.onclick=Rr)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(y=o.nodeType===9?o:o.ownerDocument,t===as.html&&(t=Fc(n)),t===as.html?n==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=y.createElement(n,{is:r.is}):(t=y.createElement(n),n==="select"&&(y=t,r.multiple?y.multiple=!0:r.size&&(y.size=r.size))):t=y.createElementNS(t,n),t[Pt]=e,t[Ar]=r,Hf(t,e,!1,!1),e.stateNode=t,y=cs(n,r),n){case"dialog":ve("cancel",t),ve("close",t),o=r;break;case"iframe":case"object":case"embed":ve("load",t),o=r;break;case"video":case"audio":for(o=0;o<di.length;o++)ve(di[o],t);o=r;break;case"source":ve("error",t),o=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),o=r;break;case"details":ve("toggle",t),o=r;break;case"input":Dl(t,r),o=ns(t,r),ve("invalid",t);break;case"option":o=os(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=Ce({},r,{value:void 0}),ve("invalid",t);break;case"textarea":Al(t,r),o=ss(t,r),ve("invalid",t);break;default:o=r}us(n,o);var c=o;for(m in c)if(c.hasOwnProperty(m)){var i=c[m];m==="style"?Bc(t,i):m==="dangerouslySetInnerHTML"?(i=i?i.__html:void 0,i!=null&&jc(t,i)):m==="children"?typeof i=="string"?(n!=="textarea"||i!=="")&&Ri(t,i):typeof i=="number"&&Ri(t,""+i):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Di.hasOwnProperty(m)?i!=null&&m==="onScroll"&&ve("scroll",t):i!=null&&va(t,m,i,y))}switch(n){case"input":nr(t),Rl(t,r,!1);break;case"textarea":nr(t),Ll(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ut(r.value));break;case"select":t.multiple=!!r.multiple,m=r.value,m!=null?Pn(t,!!r.multiple,m,!1):r.defaultValue!=null&&Pn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Rr)}vf(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Vf(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Z(166));n=nn(Hi.current),nn(ht.current),lr(e)?(r=e.stateNode,n=e.memoizedProps,r[Pt]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pt]=e,e.stateNode=r)}return null;case 13:return ye(Se),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&lr(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Se.current&1)!==0?Ae===0&&(Ae=3):((Ae===0||Ae===3)&&(Ae=4),He===null||(Ki&134217727)===0&&(qn&134217727)===0||In(He,Be))),(r||n)&&(e.flags|=4),null);case 4:return Hn(),Ps(e),t===null&&pf(e.stateNode.containerInfo),null;case 10:return Ha(e),null;case 17:return Ge(e.type)&&Lr(),null;case 19:if(ye(Se),r=e.memoizedState,r===null)return null;if(m=(e.flags&64)!==0,y=r.rendering,y===null)if(m)ui(r,!1);else{if(Ae!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(y=Br(t),y!==null){for(e.flags|=64,ui(r,!1),m=y.updateQueue,m!==null&&(e.updateQueue=m,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)m=n,t=r,m.flags&=2,m.nextEffect=null,m.firstEffect=null,m.lastEffect=null,y=m.alternate,y===null?(m.childLanes=0,m.lanes=t,m.child=null,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,t=y.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return we(Se,Se.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ne()>Is&&(e.flags|=64,m=!0,ui(r,!1),e.lanes=33554432)}else{if(!m)if(t=Br(y),t!==null){if(e.flags|=64,m=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ui(r,!0),r.tail===null&&r.tailMode==="hidden"&&!y.alternate&&!dt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ne()-r.renderingStartTime>Is&&n!==1073741824&&(e.flags|=64,m=!0,ui(r,!1),e.lanes=33554432);r.isBackwards?(y.sibling=e.child,e.child=y):(n=r.last,n!==null?n.sibling=y:e.child=y,r.last=y)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ne(),n.sibling=null,e=Se.current,we(Se,m?e&1|2:e&1),n):null;case 23:case 24:return tl(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Z(156,e.tag))}function vp(t){switch(t.tag){case 1:Ge(t.type)&&Lr();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Hn(),ye(Ye),ye(Ue),Xa(),e=t.flags,(e&64)!==0)throw Error(Z(285));return t.flags=e&-4097|64,t;case 5:return Va(t),null;case 13:return ye(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ye(Se),null;case 4:return Hn(),null;case 10:return Ha(t),null;case 23:case 24:return tl(),null;default:return null}}function Qa(t,e){try{var n="",r=e;do n+=Qh(r),r=r.return;while(r);var o=n}catch(m){o=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:e,stack:o}}function Ds(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yp=typeof WeakMap=="function"?WeakMap:Map;function Xf(t,e,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yr||(Yr=!0,Fs=r),Ds(t,e)},n}function Yf(t,e,n){n=Mt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return Ds(t,e),r(o)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(ft===null?ft=new Set([this]):ft.add(this),Ds(t,e));var y=e.stack;this.componentDidCatch(e.value,{componentStack:y!==null?y:""})}),n}var _p=typeof WeakSet=="function"?WeakSet:Set;function Ru(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Nt(t,n)}else e.current=null}function Cp(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:ot(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Na(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Z(163))}function Sp(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var o=t;r=o.next,o=o.tag,(o&4)!==0&&(o&1)!==0&&(th(n,t),Pp(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:ot(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&hu(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}hu(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&vf(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Kc(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Z(163))}function Au(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var o=n.memoizedProps.style;o=o!=null&&o.hasOwnProperty("display")?o.display:null,r.style.display=Nc("display",o)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Lu(t,e){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ba,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,o=r.destroy;if(r=r.tag,o!==void 0)if((r&4)!==0)th(e,n);else{r=e;try{o()}catch(m){Nt(r,m)}}n=n.next}while(n!==t)}break;case 1:if(Ru(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(m){Nt(e,m)}break;case 5:Ru(e);break;case 4:Gf(t,e)}}function Mu(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Iu(t){return t.tag===5||t.tag===3||t.tag===4}function Fu(t){e:{for(var e=t.return;e!==null;){if(Iu(e))break e;e=e.return}throw Error(Z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(Z(161))}n.flags&16&&(Ri(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Iu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?Rs(t,n,e):As(t,n,e)}function Rs(t,e,n){var r=t.tag,o=r===5||r===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rr));else if(r!==4&&(t=t.child,t!==null))for(Rs(t,e,n),t=t.sibling;t!==null;)Rs(t,e,n),t=t.sibling}function As(t,e,n){var r=t.tag,o=r===5||r===6;if(o)t=o?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(As(t,e,n),t=t.sibling;t!==null;)As(t,e,n),t=t.sibling}function Gf(t,e){for(var n=e,r=!1,o,m;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(Z(160));switch(o=r.stateNode,r.tag){case 5:m=!1;break e;case 3:o=o.containerInfo,m=!0;break e;case 4:o=o.containerInfo,m=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var y=t,c=n,i=c;;)if(Lu(y,i),i.child!==null&&i.tag!==4)i.child.return=i,i=i.child;else{if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}m?(y=o,c=n.stateNode,y.nodeType===8?y.parentNode.removeChild(c):y.removeChild(c)):o.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){o=n.stateNode.containerInfo,m=!0,n.child.return=n,n=n.child;continue}}else if(Lu(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function zo(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var o=t!==null?t.memoizedProps:r;t=e.type;var m=e.updateQueue;if(e.updateQueue=null,m!==null){for(n[Ar]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Mc(n,r),cs(t,o),e=cs(t,r),o=0;o<m.length;o+=2){var y=m[o],c=m[o+1];y==="style"?Bc(n,c):y==="dangerouslySetInnerHTML"?jc(n,c):y==="children"?Ri(n,c):va(n,y,c,e)}switch(t){case"input":is(n,r);break;case"textarea":Ic(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,m=r.value,m!=null?Pn(n,!!r.multiple,m,!1):t!==!!r.multiple&&(r.defaultValue!=null?Pn(n,!!r.multiple,r.defaultValue,!0):Pn(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Kc(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(el=Ne(),Au(e.child,!0)),ju(e);return;case 19:ju(e);return;case 17:return;case 23:case 24:Au(e,e.memoizedState!==null);return}throw Error(Z(163))}function ju(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _p),e.forEach(function(r){var o=Ap.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function wp(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var xp=Math.ceil,Xr=pn.ReactCurrentDispatcher,Za=pn.ReactCurrentOwner,le=0,He=null,Ee=null,Be=0,fn=0,Ls=Xt(0),Ae=0,go=null,Kn=0,Ki=0,qn=0,Ja=0,Ms=null,el=0,Is=1/0;function Qn(){Is=Ne()+500}var ie=null,Yr=!1,Fs=null,ft=null,zt=!1,Oi=null,pi=90,js=[],Ns=[],Ct=null,ki=0,Bs=null,Sr=-1,vt=0,wr=0,Pi=null,xr=!1;function $e(){return(le&48)!==0?Ne():Sr!==-1?Sr:Sr=Ne()}function Ft(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Wn()===99?1:2;if(vt===0&&(vt=Kn),cp.transition!==0){wr!==0&&(wr=Ms!==null?Ms.pendingLanes:0),t=vt;var e=4186112&~wr;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Wn(),(le&4)!==0&&t===98?t=Pr(12,vt):(t=dd(t),t=Pr(t,vt)),t}function jt(t,e,n){if(50<ki)throw ki=0,Bs=null,Error(Z(185));if(t=mo(t,e),t===null)return null;ao(t,e,n),t===He&&(qn|=e,Ae===4&&In(t,Be));var r=Wn();e===1?(le&8)!==0&&(le&48)===0?Us(t):(nt(t,n),le===0&&(Qn(),pt())):((le&4)===0||r!==98&&r!==99||(Ct===null?Ct=new Set([t]):Ct.add(t)),nt(t,n)),Ms=t}function mo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function nt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,o=t.pingedLanes,m=t.expirationTimes,y=t.pendingLanes;0<y;){var c=31-Wt(y),i=1<<c,h=m[c];if(h===-1){if((i&r)===0||(i&o)!==0){h=e,_n(i);var d=me;m[c]=10<=d?h+250:6<=d?h+5e3:-1}}else h<=e&&(t.expiredLanes|=i);y&=~i}if(r=Ii(t,t===He?Be:0),e=me,r===0)n!==null&&(n!==No&&Ss(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==No&&Ss(n)}e===15?(n=Us.bind(null,t),mt===null?(mt=[n],Cr=Ua(ho,Ef)):mt.push(n),n=No):e===14?n=Bi(99,Us.bind(null,t)):(n=pd(e),n=Bi(n,$f.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function $f(t){if(Sr=-1,wr=vt=0,(le&48)!==0)throw Error(Z(327));var e=t.callbackNode;if(Yt()&&t.callbackNode!==e)return null;var n=Ii(t,t===He?Be:0);if(n===0)return null;var r=n,o=le;le|=16;var m=Zf();(He!==t||Be!==r)&&(Qn(),Fn(t,r));do try{bp();break}catch(c){Qf(t,c)}while(1);if(Wa(),Xr.current=m,le=o,Ee!==null?r=0:(He=null,Be=0,r=Ae),(Kn&qn)!==0)Fn(t,0);else if(r!==0){if(r===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Na(t.containerInfo)),n=nf(t),n!==0&&(r=gi(t,n))),r===1)throw e=go,Fn(t,0),In(t,n),nt(t,Ne()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(Z(345));case 2:Kt(t);break;case 3:if(In(t,n),(n&62914560)===n&&(r=el+500-Ne(),10<r)){if(Ii(t,0)!==0)break;if(o=t.suspendedLanes,(o&n)!==n){$e(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=ru(Kt.bind(null,t),r);break}Kt(t);break;case 4:if(In(t,n),(n&4186112)===n)break;for(r=t.eventTimes,o=-1;0<n;){var y=31-Wt(n);m=1<<y,y=r[y],y>o&&(o=y),n&=~m}if(n=o,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*xp(n/1960))-n,10<n){t.timeoutHandle=ru(Kt.bind(null,t),n);break}Kt(t);break;case 5:Kt(t);break;default:throw Error(Z(329))}}return nt(t,Ne()),t.callbackNode===e?$f.bind(null,t):null}function In(t,e){for(e&=~Ja,e&=~qn,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Wt(e),r=1<<n;t[n]=-1,e&=~r}}function Us(t){if((le&48)!==0)throw Error(Z(327));if(Yt(),t===He&&(t.expiredLanes&Be)!==0){var e=Be,n=gi(t,e);(Kn&qn)!==0&&(e=Ii(t,e),n=gi(t,e))}else e=Ii(t,0),n=gi(t,e);if(t.tag!==0&&n===2&&(le|=64,t.hydrate&&(t.hydrate=!1,Na(t.containerInfo)),e=nf(t),e!==0&&(n=gi(t,e))),n===1)throw n=go,Fn(t,0),In(t,e),nt(t,Ne()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kt(t),nt(t,Ne()),null}function Tp(){if(Ct!==null){var t=Ct;Ct=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,nt(e,Ne())})}pt()}function Kf(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(Qn(),pt())}}function qf(t,e){var n=le;le&=-2,le|=8;try{return t(e)}finally{le=n,le===0&&(Qn(),pt())}}function cr(t,e){we(Ls,fn),fn|=e,Kn|=e}function tl(){fn=Ls.current,ye(Ls)}function Fn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rp(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Lr();break;case 3:Hn(),ye(Ye),ye(Ue),Xa();break;case 5:Va(r);break;case 4:Hn();break;case 13:ye(Se);break;case 19:ye(Se);break;case 10:Ha(r);break;case 23:case 24:tl()}n=n.return}He=t,Ee=Vt(t.current,null),Be=fn=Kn=e,Ae=0,go=null,Ja=qn=Ki=0}function Qf(t,e){do{var n=Ee;try{if(Wa(),Ei.current=Vr,Ur){for(var r=xe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ur=!1}if(zi=0,Re=je=xe=null,bi=!1,Za.current=null,n===null||n.return===null){Ae=1,go=e,Ee=null;break}e:{var m=t,y=n.return,c=n,i=e;if(e=Be,c.flags|=2048,c.firstEffect=c.lastEffect=null,i!==null&&typeof i=="object"&&typeof i.then=="function"){var h=i;if((c.mode&2)===0){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var l=(Se.current&1)!==0,u=y;do{var a;if(a=u.tag===13){var f=u.memoizedState;if(f!==null)a=f.dehydrated!==null;else{var g=u.memoizedProps;a=g.fallback===void 0?!1:g.unstable_avoidThisFallback!==!0?!0:!l}}if(a){var s=u.updateQueue;if(s===null){var p=new Set;p.add(h),u.updateQueue=p}else s.add(h);if((u.mode&2)===0){if(u.flags|=64,c.flags|=16384,c.flags&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var v=Mt(-1,1);v.tag=2,It(c,v)}c.lanes|=1;break e}i=void 0,c=e;var _=m.pingCache;if(_===null?(_=m.pingCache=new yp,i=new Set,_.set(h,i)):(i=_.get(h),i===void 0&&(i=new Set,_.set(h,i))),!i.has(c)){i.add(c);var C=Rp.bind(null,m,h,c);h.then(C,C)}u.flags|=4096,u.lanes=e;break e}u=u.return}while(u!==null);i=Error((kn(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ae!==5&&(Ae=2),i=Qa(i,c),u=y;do{switch(u.tag){case 3:m=i,u.flags|=4096,e&=-e,u.lanes|=e;var S=Xf(u,m,e);fu(u,S);break e;case 1:m=i;var w=u.type,E=u.stateNode;if((u.flags&64)===0&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ft===null||!ft.has(E)))){u.flags|=4096,e&=-e,u.lanes|=e;var O=Yf(u,m,e);fu(u,O);break e}}u=u.return}while(u!==null)}eh(n)}catch(R){e=R,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(1)}function Zf(){var t=Xr.current;return Xr.current=Vr,t===null?Vr:t}function gi(t,e){var n=le;le|=16;var r=Zf();He===t&&Be===e||Fn(t,e);do try{Ep();break}catch(o){Qf(t,o)}while(1);if(Wa(),le=n,Xr.current=r,Ee!==null)throw Error(Z(261));return He=null,Be=0,Ae}function Ep(){for(;Ee!==null;)Jf(Ee)}function bp(){for(;Ee!==null&&!ap();)Jf(Ee)}function Jf(t){var e=nh(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?eh(t):Ee=e,Za.current=null}function eh(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=mp(n,e,fn),n!==null){Ee=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(fn&1073741824)!==0||(n.mode&4)===0){for(var r=0,o=n.child;o!==null;)r|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=vp(e),n!==null){n.flags&=2047,Ee=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Ae===0&&(Ae=5)}function Kt(t){var e=Wn();return cn(99,Op.bind(null,t,e)),null}function Op(t,e){do Yt();while(Oi!==null);if((le&48)!==0)throw Error(Z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Z(177));t.callbackNode=null;var r=n.lanes|n.childLanes,o=r,m=t.pendingLanes&~o;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=o,t.mutableReadLanes&=o,t.entangledLanes&=o,o=t.entanglements;for(var y=t.eventTimes,c=t.expirationTimes;0<m;){var i=31-Wt(m),h=1<<i;o[i]=0,y[i]=-1,c[i]=-1,m&=~h}if(Ct!==null&&(r&24)===0&&Ct.has(t)&&Ct.delete(t),t===He&&(Ee=He=null,Be=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(o=le,le|=32,Za.current=null,Io=mr,y=Ql(),ms(y)){if("selectionStart"in y)c={start:y.selectionStart,end:y.selectionEnd};else e:if(c=(c=y.ownerDocument)&&c.defaultView||window,(h=c.getSelection&&c.getSelection())&&h.rangeCount!==0){c=h.anchorNode,m=h.anchorOffset,i=h.focusNode,h=h.focusOffset;try{c.nodeType,i.nodeType}catch{c=null;break e}var d=0,l=-1,u=-1,a=0,f=0,g=y,s=null;t:for(;;){for(var p;g!==c||m!==0&&g.nodeType!==3||(l=d+m),g!==i||h!==0&&g.nodeType!==3||(u=d+h),g.nodeType===3&&(d+=g.nodeValue.length),(p=g.firstChild)!==null;)s=g,g=p;for(;;){if(g===y)break t;if(s===c&&++a===m&&(l=d),s===i&&++f===h&&(u=d),(p=g.nextSibling)!==null)break;g=s,s=g.parentNode}g=p}c=l===-1||u===-1?null:{start:l,end:u}}else c=null;c=c||{start:0,end:0}}else c=null;Fo={focusedElem:y,selectionRange:c},mr=!1,Pi=null,xr=!1,ie=r;do try{kp()}catch(R){if(ie===null)throw Error(Z(330));Nt(ie,R),ie=ie.nextEffect}while(ie!==null);Pi=null,ie=r;do try{for(y=t;ie!==null;){var v=ie.flags;if(v&16&&Ri(ie.stateNode,""),v&128){var _=ie.alternate;if(_!==null){var C=_.ref;C!==null&&(typeof C=="function"?C(null):C.current=null)}}switch(v&1038){case 2:Fu(ie),ie.flags&=-3;break;case 6:Fu(ie),ie.flags&=-3,zo(ie.alternate,ie);break;case 1024:ie.flags&=-1025;break;case 1028:ie.flags&=-1025,zo(ie.alternate,ie);break;case 4:zo(ie.alternate,ie);break;case 8:c=ie,Gf(y,c);var S=c.alternate;Mu(c),S!==null&&Mu(S)}ie=ie.nextEffect}}catch(R){if(ie===null)throw Error(Z(330));Nt(ie,R),ie=ie.nextEffect}while(ie!==null);if(C=Fo,_=Ql(),v=C.focusedElem,y=C.selectionRange,_!==v&&v&&v.ownerDocument&&ff(v.ownerDocument.documentElement,v)){for(y!==null&&ms(v)&&(_=y.start,C=y.end,C===void 0&&(C=_),"selectionStart"in v?(v.selectionStart=_,v.selectionEnd=Math.min(C,v.value.length)):(C=(_=v.ownerDocument||document)&&_.defaultView||window,C.getSelection&&(C=C.getSelection(),c=v.textContent.length,S=Math.min(y.start,c),y=y.end===void 0?S:Math.min(y.end,c),!C.extend&&S>y&&(c=y,y=S,S=c),c=ql(v,S),m=ql(v,y),c&&m&&(C.rangeCount!==1||C.anchorNode!==c.node||C.anchorOffset!==c.offset||C.focusNode!==m.node||C.focusOffset!==m.offset)&&(_=_.createRange(),_.setStart(c.node,c.offset),C.removeAllRanges(),S>y?(C.addRange(_),C.extend(m.node,m.offset)):(_.setEnd(m.node,m.offset),C.addRange(_)))))),_=[],C=v;C=C.parentNode;)C.nodeType===1&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<_.length;v++)C=_[v],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}mr=!!Io,Fo=Io=null,t.current=n,ie=r;do try{for(v=t;ie!==null;){var w=ie.flags;if(w&36&&Sp(v,ie.alternate,ie),w&128){_=void 0;var E=ie.ref;if(E!==null){var O=ie.stateNode;switch(ie.tag){case 5:_=O;break;default:_=O}typeof E=="function"?E(_):E.current=_}}ie=ie.nextEffect}}catch(R){if(ie===null)throw Error(Z(330));Nt(ie,R),ie=ie.nextEffect}while(ie!==null);ie=null,up(),le=o}else t.current=n;if(zt)zt=!1,Oi=t,pi=e;else for(ie=r;ie!==null;)e=ie.nextEffect,ie.nextEffect=null,ie.flags&8&&(w=ie,w.sibling=null,w.stateNode=null),ie=e;if(r=t.pendingLanes,r===0&&(ft=null),r===1?t===Bs?ki++:(ki=0,Bs=t):ki=0,n=n.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ba,n,void 0,(n.current.flags&64)===64)}catch{}if(nt(t,Ne()),Yr)throw Yr=!1,t=Fs,Fs=null,t;return(le&8)!==0||pt(),null}function kp(){for(;ie!==null;){var t=ie.alternate;xr||Pi===null||((ie.flags&8)!==0?Fl(ie,Pi)&&(xr=!0):ie.tag===13&&wp(t,ie)&&Fl(ie,Pi)&&(xr=!0));var e=ie.flags;(e&256)!==0&&Cp(t,ie),(e&512)===0||zt||(zt=!0,Bi(97,function(){return Yt(),null})),ie=ie.nextEffect}}function Yt(){if(pi!==90){var t=97<pi?97:pi;return pi=90,cn(t,Dp)}return!1}function Pp(t,e){js.push(e,t),zt||(zt=!0,Bi(97,function(){return Yt(),null}))}function th(t,e){Ns.push(e,t),zt||(zt=!0,Bi(97,function(){return Yt(),null}))}function Dp(){if(Oi===null)return!1;var t=Oi;if(Oi=null,(le&48)!==0)throw Error(Z(331));var e=le;le|=32;var n=Ns;Ns=[];for(var r=0;r<n.length;r+=2){var o=n[r],m=n[r+1],y=o.destroy;if(o.destroy=void 0,typeof y=="function")try{y()}catch(i){if(m===null)throw Error(Z(330));Nt(m,i)}}for(n=js,js=[],r=0;r<n.length;r+=2){o=n[r],m=n[r+1];try{var c=o.create;o.destroy=c()}catch(i){if(m===null)throw Error(Z(330));Nt(m,i)}}for(c=t.current.firstEffect;c!==null;)t=c.nextEffect,c.nextEffect=null,c.flags&8&&(c.sibling=null,c.stateNode=null),c=t;return le=e,pt(),!0}function Nu(t,e,n){e=Qa(n,e),e=Xf(t,e,1),It(t,e),e=$e(),t=mo(t,1),t!==null&&(ao(t,1,e),nt(t,e))}function Nt(t,e){if(t.tag===3)Nu(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Nu(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ft===null||!ft.has(r))){t=Qa(e,t);var o=Yf(n,t,1);if(It(n,o),o=$e(),n=mo(n,1),n!==null)ao(n,1,o),nt(n,o);else if(typeof r.componentDidCatch=="function"&&(ft===null||!ft.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Rp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Be&n)===n&&(Ae===4||Ae===3&&(Be&62914560)===Be&&500>Ne()-el?Fn(t,0):Ja|=n),nt(t,e)}function Ap(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Wn()===99?1:2:(vt===0&&(vt=Kn),e=Cn(62914560&~vt),e===0&&(e=4194304))),n=$e(),t=mo(t,e),t!==null&&(ao(t,e,n),nt(t,n))}var nh;nh=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Ye.current)at=!0;else if((n&r)!==0)at=(t.flags&16384)!==0;else{switch(at=!1,e.tag){case 3:Tu(e),Uo();break;case 5:gu(e);break;case 1:Ge(e.type)&&_r(e);break;case 4:Ts(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var o=e.type._context;we(Mr,o._currentValue),o._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?Eu(t,e,n):(we(Se,Se.current&1),e=_t(t,e,n),e!==null?e.sibling:null);we(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return Du(t,e,n);e.flags|=64}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),we(Se,Se.current),r)break;return null;case 23:case 24:return e.lanes=0,Wo(t,e,n)}return _t(t,e,n)}else at=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,o=Un(e,Ue.current),Ln(e,n),o=Ga(null,e,r,t,o,n),e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(r)){var m=!0;_r(e)}else m=!1;e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,za(e);var y=r.getDerivedStateFromProps;typeof y=="function"&&jr(e,r,y,t),o.updater=po,e.stateNode=o,o._reactInternals=e,xs(e,r,t,n),e=ks(null,e,r,!0,m,n)}else e.tag=0,Xe(null,e,o,n),e=e.child;return e;case 16:o=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,m=o._init,o=m(o._payload),e.type=o,m=e.tag=Mp(o),t=ot(o,t),m){case 0:e=Os(null,e,o,t,n);break e;case 1:e=xu(null,e,o,t,n);break e;case 11:e=Su(null,e,o,t,n);break e;case 14:e=wu(null,e,o,ot(o.type,t),r,n);break e}throw Error(Z(306,o,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ot(r,o),Os(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ot(r,o),xu(t,e,r,o,n);case 3:if(Tu(e),r=e.updateQueue,t===null||r===null)throw Error(Z(282));if(r=e.pendingProps,o=e.memoizedState,o=o!==null?o.element:null,Of(t,e),Ui(e,r,null,n),r=e.memoizedState.element,r===o)Uo(),e=_t(t,e,n);else{if(o=e.stateNode,(m=o.hydrate)&&(Dt=An(e.stateNode.containerInfo.firstChild),yt=e,m=dt=!0),m){if(t=o.mutableSourceEagerHydrationData,t!=null)for(o=0;o<t.length;o+=2)m=t[o],m._workInProgressVersionPrimary=t[o+1],Mn.push(m);for(n=Rf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Xe(t,e,r,n),Uo();e=e.child}return e;case 5:return gu(e),t===null&&Es(e),r=e.type,o=e.pendingProps,m=t!==null?t.memoizedProps:null,y=o.children,_s(r,o)?y=null:m!==null&&_s(r,m)&&(e.flags|=16),Wf(t,e),Xe(t,e,y,n),e.child;case 6:return t===null&&Es(e),null;case 13:return Eu(t,e,n);case 4:return Ts(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Nr(e,null,r,n):Xe(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ot(r,o),Su(t,e,r,o,n);case 7:return Xe(t,e,e.pendingProps,n),e.child;case 8:return Xe(t,e,e.pendingProps.children,n),e.child;case 12:return Xe(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,o=e.pendingProps,y=e.memoizedProps,m=o.value;var c=e.type._context;if(we(Mr,c._currentValue),c._currentValue=m,y!==null)if(c=y.value,m=qe(c,m)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(c,m):1073741823)|0,m===0){if(y.children===o.children&&!Ye.current){e=_t(t,e,n);break e}}else for(c=e.child,c!==null&&(c.return=e);c!==null;){var i=c.dependencies;if(i!==null){y=c.child;for(var h=i.firstContext;h!==null;){if(h.context===r&&(h.observedBits&m)!==0){c.tag===1&&(h=Mt(-1,n&-n),h.tag=2,It(c,h)),c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),bf(c.return,n),i.lanes|=n;break}h=h.next}}else y=c.tag===10&&c.type===e.type?null:c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}Xe(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,m=e.pendingProps,r=m.children,Ln(e,n),o=tt(o,m.unstable_observedBits),r=r(o),e.flags|=1,Xe(t,e,r,n),e.child;case 14:return o=e.type,m=ot(o,e.pendingProps),m=ot(o.type,m),wu(t,e,o,m,r,n);case 15:return Uf(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:ot(r,o),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ge(r)?(t=!0,_r(e)):t=!1,Ln(e,n),Pf(e,r,o),xs(e,r,o,n),ks(null,e,r,!0,t,n);case 19:return Du(t,e,n);case 23:return Wo(t,e,n);case 24:return Wo(t,e,n)}throw Error(Z(156,e.tag))};function Lp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(t,e,n,r){return new Lp(t,e,n,r)}function nl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Mp(t){if(typeof t=="function")return nl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ro)return 11;if(t===oo)return 14}return 2}function Vt(t,e){var n=t.alternate;return n===null?(n=Qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tr(t,e,n,r,o,m){var y=2;if(r=t,typeof t=="function")nl(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case Ot:return jn(n.children,o,m,e);case Rc:y=8,o|=16;break;case ya:y=8,o|=1;break;case yi:return t=Qe(12,n,e,o|8),t.elementType=yi,t.type=yi,t.lanes=m,t;case _i:return t=Qe(13,n,e,o),t.type=_i,t.elementType=_i,t.lanes=m,t;case Er:return t=Qe(19,n,e,o),t.elementType=Er,t.lanes=m,t;case Ta:return il(n,o,m,e);case ts:return t=Qe(24,n,e,o),t.elementType=ts,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _a:y=10;break e;case Ca:y=9;break e;case ro:y=11;break e;case oo:y=14;break e;case Sa:y=16,r=null;break e;case wa:y=22;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Qe(y,n,e,o),e.elementType=t,e.type=r,e.lanes=m,e}function jn(t,e,n,r){return t=Qe(7,t,r,e),t.lanes=n,t}function il(t,e,n,r){return t=Qe(23,t,r,e),t.elementType=Ta,t.lanes=n,t}function Vo(t,e,n){return t=Qe(6,t,null,e),t.lanes=n,t}function Xo(t,e,n){return e=Qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ip(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ko(0),this.expirationTimes=ko(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ko(0),this.mutableSourceEagerHydrationData=null}function Fp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jt,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Gr(t,e,n,r){var o=e.current,m=$e(),y=Ft(o);e:if(n){n=n._reactInternals;t:{if(gn(n)!==n||n.tag!==1)throw Error(Z(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(Ge(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(c!==null);throw Error(Z(171))}if(n.tag===1){var i=n.type;if(Ge(i)){n=_f(n,i,c);break e}}n=c}else n=Ht;return e.context===null?e.context=n:e.pendingContext=n,e=Mt(m,y),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),It(o,e),jt(o,y,m),y}function Yo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Bu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rl(t,e){Bu(t,e),(t=t.alternate)&&Bu(t,e)}function jp(){return null}function ol(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Ip(t,e,n!=null&&n.hydrate===!0),e=Qe(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,za(e),t[$n]=n.current,pf(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var o=e._getVersion;o=o(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,o]:n.mutableSourceEagerHydrationData.push(e,o)}this._internalRoot=n}ol.prototype.render=function(t){Gr(t,this._internalRoot,null,null)};ol.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Gr(null,t,null,function(){e[$n]=null})};function qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Np(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new ol(t,0,e?{hydrate:!0}:void 0)}function vo(t,e,n,r,o){var m=n._reactRootContainer;if(m){var y=m._internalRoot;if(typeof o=="function"){var c=o;o=function(){var h=Yo(y);c.call(h)}}Gr(e,y,t,o)}else{if(m=n._reactRootContainer=Np(n,r),y=m._internalRoot,typeof o=="function"){var i=o;o=function(){var h=Yo(y);i.call(h)}}qf(function(){Gr(e,y,t,o)})}return Yo(y)}Yc=function(t){if(t.tag===13){var e=$e();jt(t,4,e),rl(t,4)}};Pa=function(t){if(t.tag===13){var e=$e();jt(t,67108864,e),rl(t,67108864)}};Gc=function(t){if(t.tag===13){var e=$e(),n=Ft(t);jt(t,n,e),rl(t,n)}};$c=function(t,e){return e()};fs=function(t,e,n){switch(e){case"input":if(is(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=fo(r);if(!o)throw Error(Z(90));Lc(r),is(r,o)}}}break;case"textarea":Ic(t,n);break;case"select":e=n.value,e!=null&&Pn(t,!!n.multiple,e,!1)}};ba=Kf;Hc=function(t,e,n,r,o){var m=le;le|=4;try{return cn(98,t.bind(null,e,n,r,o))}finally{le=m,le===0&&(Qn(),pt())}};Oa=function(){(le&49)===0&&(Tp(),Yt())};zc=function(t,e){var n=le;le|=2;try{return t(e)}finally{le=n,le===0&&(Qn(),pt())}};function ih(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qi(e))throw Error(Z(200));return Fp(t,e,null,n)}var Bp={Events:[Gi,En,fo,Uc,Wc,Yt,{current:!1}]},ci={findFiberByHostInstance:tn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Up={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xc(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||jp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fr.isDisabled&&fr.supportsFiber)try{Ba=fr.inject(Up),an=fr}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bp;it.createPortal=ih;it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):Error(Z(268,Object.keys(t)));return t=Xc(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t,e){var n=le;if((n&48)!==0)return t(e);le|=1;try{if(t)return cn(99,t.bind(null,e))}finally{le=n,pt()}};it.hydrate=function(t,e,n){if(!qi(e))throw Error(Z(200));return vo(null,t,e,!0,n)};it.render=function(t,e,n){if(!qi(e))throw Error(Z(200));return vo(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!qi(t))throw Error(Z(40));return t._reactRootContainer?(qf(function(){vo(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};it.unstable_batchedUpdates=Kf;it.unstable_createPortal=function(t,e){return ih(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};it.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!qi(n))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return vo(t,e,n,!1,r)};it.version="17.0.2";function rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rh)}catch(t){console.error(t)}}rh(),Oc.exports=it;var Bt=Oc.exports;function zn(){return zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zn.apply(this,arguments)}var on;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(on||(on={}));var Uu=function(t){return t},Wu="beforeunload",Wp="hashchange",Hp="popstate";function zp(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,o=r.history;function m(){var O=hn(r.location.hash.substr(1)),R=O.pathname,F=R===void 0?"/":R,X=O.search,G=X===void 0?"":X,$=O.hash,Q=$===void 0?"":$,K=o.state||{};return[K.idx,Uu({pathname:F,search:G,hash:Q,state:K.usr||null,key:K.key||"default"})]}var y=null;function c(){if(y)a.call(y),y=null;else{var O=on.Pop,R=m(),F=R[0],X=R[1];if(a.length){if(F!=null){var G=d-F;G&&(y={action:O,location:X,retry:function(){w(G*-1)}},w(G))}}else _(O)}}r.addEventListener(Hp,c),r.addEventListener(Wp,function(){var O=m(),R=O[1];Go(R)!==Go(l)&&c()});var i=on.Pop,h=m(),d=h[0],l=h[1],u=zu(),a=zu();d==null&&(d=0,o.replaceState(zn({},o.state,{idx:d}),""));function f(){var O=document.querySelector("base"),R="";if(O&&O.getAttribute("href")){var F=r.location.href,X=F.indexOf("#");R=X===-1?F:F.slice(0,X)}return R}function g(O){return f()+"#"+(typeof O=="string"?O:Go(O))}function s(O,R){return R===void 0&&(R=null),Uu(zn({pathname:l.pathname,hash:"",search:""},typeof O=="string"?hn(O):O,{state:R,key:Vp()}))}function p(O,R){return[{usr:O.state,key:O.key,idx:R},g(O)]}function v(O,R,F){return!a.length||(a.call({action:O,location:R,retry:F}),!1)}function _(O){i=O;var R=m();d=R[0],l=R[1],u.call({action:i,location:l})}function C(O,R){var F=on.Push,X=s(O,R);function G(){C(O,R)}if(v(F,X,G)){var $=p(X,d+1),Q=$[0],K=$[1];try{o.pushState(Q,"",K)}catch{r.location.assign(K)}_(F)}}function S(O,R){var F=on.Replace,X=s(O,R);function G(){S(O,R)}if(v(F,X,G)){var $=p(X,d),Q=$[0],K=$[1];o.replaceState(Q,"",K),_(F)}}function w(O){o.go(O)}var E={get action(){return i},get location(){return l},createHref:g,push:C,replace:S,go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(R){return u.push(R)},block:function(R){var F=a.push(R);return a.length===1&&r.addEventListener(Wu,Hu),function(){F(),a.length||r.removeEventListener(Wu,Hu)}}};return E}function Hu(t){t.preventDefault(),t.returnValue=""}function zu(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function Vp(){return Math.random().toString(36).substr(2,8)}function Go(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,o=r===void 0?"":r,m=t.hash,y=m===void 0?"":m;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),y&&y!=="#"&&(n+=y.charAt(0)==="#"?y:"#"+y),n}function hn(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wt(t,e){if(!t)throw new Error(e)}const oh=ae.exports.createContext(null),sl=ae.exports.createContext(null),yo=ae.exports.createContext({outlet:null,matches:[]});function hv(t){return $p(t.context)}function Xp(t){wt(!1)}function Yp(t){let{basename:e="/",children:n=null,location:r,navigationType:o=on.Pop,navigator:m,static:y=!1}=t;_o()&&wt(!1);let c=uh(e),i=ae.exports.useMemo(()=>({basename:c,navigator:m,static:y}),[c,m,y]);typeof r=="string"&&(r=hn(r));let{pathname:h="/",search:d="",hash:l="",state:u=null,key:a="default"}=r,f=ae.exports.useMemo(()=>{let g=lh(h,c);return g==null?null:{pathname:g,search:d,hash:l,state:u,key:a}},[c,h,d,l,u,a]);return f==null?null:ae.exports.createElement(oh.Provider,{value:i},ae.exports.createElement(sl.Provider,{children:n,value:{location:f,navigationType:o}}))}function dv(t){let{children:e,location:n}=t;return Kp(Ws(e),n)}function _o(){return ae.exports.useContext(sl)!=null}function sh(){return _o()||wt(!1),ae.exports.useContext(sl).location}function pv(){_o()||wt(!1);let{basename:t,navigator:e}=ae.exports.useContext(oh),{matches:n}=ae.exports.useContext(yo),{pathname:r}=sh(),o=JSON.stringify(n.map(c=>c.pathnameBase)),m=ae.exports.useRef(!1);return ae.exports.useEffect(()=>{m.current=!0}),ae.exports.useCallback(function(c,i){if(i===void 0&&(i={}),!m.current)return;if(typeof c=="number"){e.go(c);return}let h=dg(c,JSON.parse(o),r);t!=="/"&&(h.pathname=ln([t,h.pathname])),(i.replace?e.replace:e.push)(h,i.state)},[t,e,o,r])}const Gp=ae.exports.createContext(null);function $p(t){let e=ae.exports.useContext(yo).outlet;return e&&ae.exports.createElement(Gp.Provider,{value:t},e)}function Kp(t,e){_o()||wt(!1);let{matches:n}=ae.exports.useContext(yo),r=n[n.length-1],o=r?r.params:{};r&&r.pathname;let m=r?r.pathnameBase:"/";r&&r.route;let y=sh(),c;if(e){var i;let u=typeof e=="string"?hn(e):e;m==="/"||((i=u.pathname)==null?void 0:i.startsWith(m))||wt(!1),c=u}else c=y;let h=c.pathname||"/",d=m==="/"?h:h.slice(m.length)||"/",l=qp(t,{pathname:d});return ag(l&&l.map(u=>Object.assign({},u,{params:Object.assign({},o,u.params),pathname:ln([m,u.pathname]),pathnameBase:u.pathnameBase==="/"?m:ln([m,u.pathnameBase])})),n)}function Ws(t){let e=[];return ae.exports.Children.forEach(t,n=>{if(!ae.exports.isValidElement(n))return;if(n.type===ae.exports.Fragment){e.push.apply(e,Ws(n.props.children));return}n.type!==Xp&&wt(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=Ws(n.props.children)),e.push(r)}),e}function qp(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?hn(e):e,o=lh(r.pathname||"/",n);if(o==null)return null;let m=ah(t);Qp(m);let y=null;for(let c=0;y==null&&c<m.length;++c)y=sg(m[c],o);return y}function ah(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((o,m)=>{let y={relativePath:o.path||"",caseSensitive:o.caseSensitive===!0,childrenIndex:m,route:o};y.relativePath.startsWith("/")&&(y.relativePath.startsWith(r)||wt(!1),y.relativePath=y.relativePath.slice(r.length));let c=ln([r,y.relativePath]),i=n.concat(y);o.children&&o.children.length>0&&(o.index===!0&&wt(!1),ah(o.children,e,i,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:rg(c,o.index),routesMeta:i})}),e}function Qp(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:og(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zp=/^:\w+$/,Jp=3,eg=2,tg=1,ng=10,ig=-2,Vu=t=>t==="*";function rg(t,e){let n=t.split("/"),r=n.length;return n.some(Vu)&&(r+=ig),e&&(r+=eg),n.filter(o=>!Vu(o)).reduce((o,m)=>o+(Zp.test(m)?Jp:m===""?tg:ng),r)}function og(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function sg(t,e){let{routesMeta:n}=t,r={},o="/",m=[];for(let y=0;y<n.length;++y){let c=n[y],i=y===n.length-1,h=o==="/"?e:e.slice(o.length)||"/",d=lg({path:c.relativePath,caseSensitive:c.caseSensitive,end:i},h);if(!d)return null;Object.assign(r,d.params);let l=c.route;m.push({params:r,pathname:ln([o,d.pathname]),pathnameBase:uh(ln([o,d.pathnameBase])),route:l}),d.pathnameBase!=="/"&&(o=ln([o,d.pathnameBase]))}return m}function ag(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,o)=>ae.exports.createElement(yo.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,o+1))}}),null)}function lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ug(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let m=o[0],y=m.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((h,d,l)=>{if(d==="*"){let u=c[l]||"";y=m.slice(0,m.length-u.length).replace(/(.)\/+$/,"$1")}return h[d]=cg(c[l]||""),h},{}),pathname:m,pathnameBase:y,pattern:t}}function ug(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(y,c)=>(r.push(c),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,e?void 0:"i"),r]}function cg(t,e){try{return decodeURIComponent(t)}catch{return t}}function fg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?hn(t):t;return{pathname:n?n.startsWith("/")?n:hg(n,e):e,search:pg(r),hash:gg(o)}}function hg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dg(t,e,n){let r=typeof t=="string"?hn(t):t,o=t===""||r.pathname===""?"/":r.pathname,m;if(o==null)m=n;else{let c=e.length-1;if(o.startsWith("..")){let i=o.split("/");for(;i[0]==="..";)i.shift(),c-=1;r.pathname=i.join("/")}m=c>=0?e[c]:"/"}let y=fg(r,m);return o&&o!=="/"&&o.endsWith("/")&&!y.pathname.endsWith("/")&&(y.pathname+="/"),y}function lh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const ln=t=>t.join("/").replace(/\/\/+/g,"/"),uh=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,gg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;/**
 * React Router DOM v6.2.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gv(t){let{basename:e,children:n,window:r}=t,o=ae.exports.useRef();o.current==null&&(o.current=zp({window:r}));let m=o.current,[y,c]=ae.exports.useState({action:m.action,location:m.location});return ae.exports.useLayoutEffect(()=>m.listen(c),[m]),ae.exports.createElement(Yp,{basename:e,children:n,location:y.location,navigationType:y.action,navigator:m})}var hr,mg=new Uint8Array(16);function vg(){if(!hr&&(hr=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!hr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return hr(mg)}var yg=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _g(t){return typeof t=="string"&&yg.test(t)}var De=[];for(var $o=0;$o<256;++$o)De.push(($o+256).toString(16).substr(1));function Cg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(De[t[e+0]]+De[t[e+1]]+De[t[e+2]]+De[t[e+3]]+"-"+De[t[e+4]]+De[t[e+5]]+"-"+De[t[e+6]]+De[t[e+7]]+"-"+De[t[e+8]]+De[t[e+9]]+"-"+De[t[e+10]]+De[t[e+11]]+De[t[e+12]]+De[t[e+13]]+De[t[e+14]]+De[t[e+15]]).toLowerCase();if(!_g(n))throw TypeError("Stringified UUID is invalid");return n}function Sg(t,e,n){t=t||{};var r=t.random||(t.rng||vg)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return Cg(r)}var Co={exports:{}},Qi={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=ae.exports,ch=60103;Qi.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Xu=Symbol.for;ch=Xu("react.element"),Qi.Fragment=Xu("react.fragment")}var xg=wg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tg=Object.prototype.hasOwnProperty,Eg={key:!0,ref:!0,__self:!0,__source:!0};function fh(t,e,n){var r,o={},m=null,y=null;n!==void 0&&(m=""+n),e.key!==void 0&&(m=""+e.key),e.ref!==void 0&&(y=e.ref);for(r in e)Tg.call(e,r)&&!Eg.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ch,type:t,key:m,ref:y,props:o,_owner:xg.current}}Qi.jsx=fh;Qi.jsxs=fh;Co.exports=Qi;const he=Co.exports.jsx,Ze=Co.exports.jsxs,hh=Co.exports.Fragment,bg=t=>typeof t=="string"?import(`${t}`):typeof t=="function"?t().then(e=>import(`${e}`)):Promise.reject("Type Error: entry path of spa."),Og=(t,e)=>{if(typeof t.default!="function")return Promise.reject("[SubSpa] \u5BFC\u51FA\u683C\u5F0F\u9519\u8BEF, \u7F3A\u5931\u5FC5\u8981\u7684 'default' \u5BFC\u51FA.");if(e){const n=t.default(e);return!n.mount&&!n.render?Promise.reject("[SubSpa] 'mount' \u548C 'render' \u65B9\u6CD5\u540C\u65F6\u7F3A\u5931, \u9700\u8981\u81F3\u5C11\u4E00\u9879\u4E0D\u4E3A\u7A7A."):n.mount&&!n.unmount?Promise.reject("[SubSpa] 'unmount' \u65B9\u6CD5\u7F3A\u5931, \u5F53 'mount' \u65B9\u6CD5\u975E\u7A7A\u65F6, 'unmount' \u65B9\u6CD5\u4E3A\u5FC5\u987B\u9879."):Promise.resolve(n)}else return Promise.reject("[SubSpa] \u6302\u8F7D\u5143\u7D20\u9519\u8BEF, \u76EE\u6807\u5143\u7D20\u4E0D\u5B58\u5728.")};function mv(t){const a=t,{entryPath:e,deepProps:n,loadingDisplay:r,errorDisplay:o}=a,m=wl(a,["entryPath","deepProps","loadingDisplay","errorDisplay"]),y=Sg(),c=ae.exports.useRef(),[i,h]=ae.exports.useState(!0),[d,l]=ae.exports.useState("");ae.exports.useLayoutEffect(()=>{console.log(e);const f=document.getElementById(y);return f?bg(e).then(g=>Og(g,f)).then(g=>{g.mount?(h(!1),c.current=g,g.mount(n)):(h(!1),c.current=g)}).catch(g=>{l(g.toString),h(!1)}):alert("[Sub Spa] No container matched!"),()=>{const g=c.current;!!g&&g.unmount&&g.unmount()}},[]);const u=c.current;return he("div",Ji($t({},m),{id:y,children:d!==""?o?o(d):d:i?r||"[Sub Spa] Converter is preparing.":u&&u.render?u.render(n):"[Sub Spa] This Sub-app has no content."}))}function kg(t){if(Array.isArray(t))return t}function Pg(t,e){var n=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],o=!0,m=!1,y,c;try{for(n=n.call(t);!(o=(y=n.next()).done)&&(r.push(y.value),!(e&&r.length===e));o=!0);}catch(i){m=!0,c=i}finally{try{!o&&n.return!=null&&n.return()}finally{if(m)throw c}}return r}}function Hs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dh(t,e){if(!!t){if(typeof t=="string")return Hs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hs(t,e)}}function Dg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rg(t,e){return kg(t)||Pg(t,e)||dh(t,e)||Dg()}function st(t){return st=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(t)}function Le(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e){for(var r=[],o=0;o<e.length;o++){var m=e[o];if(!!m){var y=st(m);if(y==="string"||y==="number")r.push(m);else if(y==="object"){var c=Array.isArray(m)?m:Object.entries(m).map(function(i){var h=Rg(i,2),d=h[0],l=h[1];return l?d:null});r=c.length?r.concat(c.filter(function(i){return!!i})):r}}}return r.join(" ")}}function al(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ll(t,e,n){return e&&Yu(t.prototype,e),n&&Yu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ko(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ag(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(h){throw h},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var m=!0,y=!1,c;return{s:function(){n=n.call(t)},n:function(){var h=n.next();return m=h.done,h},e:function(h){y=!0,c=h},f:function(){try{!m&&n.return!=null&&n.return()}finally{if(y)throw c}}}}function Ag(t,e){if(!!t){if(typeof t=="string")return Gu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gu(t,e)}}function Gu(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ue=function(){function t(){al(this,t)}return ll(t,null,[{key:"innerWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r+=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}return 0}},{key:"width",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight),r}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var n=document.documentElement;return(window.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}},{key:"getOuterWidth",value:function(n,r){if(n){var o=n.offsetWidth||n.getBoundingClientRect().width;if(r){var m=getComputedStyle(n);o+=parseFloat(m.marginLeft)+parseFloat(m.marginRight)}return o}return 0}},{key:"getOuterHeight",value:function(n,r){if(n){var o=n.offsetHeight||n.getBoundingClientRect().height;if(r){var m=getComputedStyle(n);o+=parseFloat(m.marginTop)+parseFloat(m.marginBottom)}return o}return 0}},{key:"getClientHeight",value:function(n,r){if(n){var o=n.clientHeight;if(r){var m=getComputedStyle(n);o+=parseFloat(m.marginTop)+parseFloat(m.marginBottom)}return o}return 0}},{key:"getClientWidth",value:function(n,r){if(n){var o=n.clientWidth;if(r){var m=getComputedStyle(n);o+=parseFloat(m.marginLeft)+parseFloat(m.marginRight)}return o}return 0}},{key:"getViewport",value:function(){var n=window,r=document,o=r.documentElement,m=r.getElementsByTagName("body")[0],y=n.innerWidth||o.clientWidth||m.clientWidth,c=n.innerHeight||o.clientHeight||m.clientHeight;return{width:y,height:c}}},{key:"getOffset",value:function(n){if(n){var r=n.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(n){if(n)for(var r=n.parentNode.childNodes,o=0,m=0;m<r.length;m++){if(r[m]===n)return o;r[m].nodeType===1&&o++}return-1}},{key:"addMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),m=0;m<o.length;m++)n.classList.add(o[m]);else for(var y=r.split(" "),c=0;c<y.length;c++)n.className+=" "+y[c]}},{key:"removeMultipleClasses",value:function(n,r){if(n&&r)if(n.classList)for(var o=r.split(" "),m=0;m<o.length;m++)n.classList.remove(o[m]);else for(var y=r.split(" "),c=0;c<y.length;c++)n.className=n.className.replace(new RegExp("(^|\\b)"+y[c].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(n,r){n&&r&&(n.classList?n.classList.add(r):n.className+=" "+r)}},{key:"removeClass",value:function(n,r){n&&r&&(n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(n,r){if(n)return n.classList?n.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(n.className)}},{key:"find",value:function(n,r){return n?Array.from(n.querySelectorAll(r)):[]}},{key:"findSingle",value:function(n,r){return n?n.querySelector(r):null}},{key:"getHeight",value:function(n){if(n){var r=n.offsetHeight,o=getComputedStyle(n);return r-=parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth),r}return 0}},{key:"getWidth",value:function(n){if(n){var r=n.offsetWidth,o=getComputedStyle(n);return r-=parseFloat(o.paddingLeft)+parseFloat(o.paddingRight)+parseFloat(o.borderLeftWidth)+parseFloat(o.borderRightWidth),r}return 0}},{key:"alignOverlay",value:function(n,r,o){var m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;n&&r&&(o==="self"?this.relativePosition(n,r):(m&&(n.style.minWidth=t.getOuterWidth(r)+"px"),this.absolutePosition(n,r)))}},{key:"absolutePosition",value:function(n,r){if(n){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),m=o.height,y=o.width,c=r.offsetHeight,i=r.offsetWidth,h=r.getBoundingClientRect(),d=this.getWindowScrollTop(),l=this.getWindowScrollLeft(),u=this.getViewport(),a,f;h.top+c+m>u.height?(a=h.top+d-m,a<0&&(a=d),n.style.transformOrigin="bottom"):(a=c+h.top+d,n.style.transformOrigin="top"),h.left+i+y>u.width?f=Math.max(0,h.left+l+i-y):f=h.left+l,n.style.top=a+"px",n.style.left=f+"px"}}},{key:"relativePosition",value:function(n,r){if(n){var o=n.offsetParent?{width:n.offsetWidth,height:n.offsetHeight}:this.getHiddenElementDimensions(n),m=r.offsetHeight,y=r.getBoundingClientRect(),c=this.getViewport(),i,h;y.top+m+o.height>c.height?(i=-1*o.height,y.top+i<0&&(i=-1*y.top),n.style.transformOrigin="bottom"):(i=m,n.style.transformOrigin="top"),o.width>c.width?h=y.left*-1:y.left+o.width>c.width?h=(y.left+o.width-c.width)*-1:h=0,n.style.top=i+"px",n.style.left=h+"px"}}},{key:"flipfitCollision",value:function(n,r){var o=this,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",c=arguments.length>4?arguments[4]:void 0,i=r.getBoundingClientRect(),h=this.getViewport(),d=m.split(" "),l=y.split(" "),u=function(p,v){return v?+p.substring(p.search(/(\+|-)/g))||0:p.substring(0,p.search(/(\+|-)/g))||p},a={my:{x:u(d[0]),y:u(d[1]||d[0]),offsetX:u(d[0],!0),offsetY:u(d[1]||d[0],!0)},at:{x:u(l[0]),y:u(l[1]||l[0]),offsetX:u(l[0],!0),offsetY:u(l[1]||l[0],!0)}},f={left:function(){var p=a.my.offsetX+a.at.offsetX;return p+i.left+(a.my.x==="left"?0:-1*(a.my.x==="center"?o.getOuterWidth(n)/2:o.getOuterWidth(n)))},top:function(){var p=a.my.offsetY+a.at.offsetY;return p+i.top+(a.my.y==="top"?0:-1*(a.my.y==="center"?o.getOuterHeight(n)/2:o.getOuterHeight(n)))}},g={count:{x:0,y:0},left:function(){var p=f.left(),v=t.getWindowScrollLeft();n.style.left=p+v+"px",this.count.x===2?(n.style.left=v+"px",this.count.x=0):p<0&&(this.count.x++,a.my.x="left",a.at.x="right",a.my.offsetX*=-1,a.at.offsetX*=-1,this.right())},right:function(){var p=f.left()+t.getOuterWidth(r),v=t.getWindowScrollLeft();n.style.left=p+v+"px",this.count.x===2?(n.style.left=h.width-t.getOuterWidth(n)+v+"px",this.count.x=0):p+t.getOuterWidth(n)>h.width&&(this.count.x++,a.my.x="right",a.at.x="left",a.my.offsetX*=-1,a.at.offsetX*=-1,this.left())},top:function(){var p=f.top(),v=t.getWindowScrollTop();n.style.top=p+v+"px",this.count.y===2?(n.style.left=v+"px",this.count.y=0):p<0&&(this.count.y++,a.my.y="top",a.at.y="bottom",a.my.offsetY*=-1,a.at.offsetY*=-1,this.bottom())},bottom:function(){var p=f.top()+t.getOuterHeight(r),v=t.getWindowScrollTop();n.style.top=p+v+"px",this.count.y===2?(n.style.left=h.height-t.getOuterHeight(n)+v+"px",this.count.y=0):p+t.getOuterHeight(r)>h.height&&(this.count.y++,a.my.y="bottom",a.at.y="top",a.my.offsetY*=-1,a.at.offsetY*=-1,this.top())},center:function(p){if(p==="y"){var v=f.top()+t.getOuterHeight(r)/2;n.style.top=v+t.getWindowScrollTop()+"px",v<0?this.bottom():v+t.getOuterHeight(r)>h.height&&this.top()}else{var _=f.left()+t.getOuterWidth(r)/2;n.style.left=_+t.getWindowScrollLeft()+"px",_<0?this.left():_+t.getOuterWidth(n)>h.width&&this.right()}}};g[a.at.x]("x"),g[a.at.y]("y"),this.isFunction(c)&&c(a)}},{key:"findCollisionPosition",value:function(n){if(n){var r=n==="top"||n==="bottom",o=n==="left"?"right":"left",m=n==="top"?"bottom":"top";return r?{axis:"y",my:"center ".concat(m),at:"center ".concat(n)}:{axis:"x",my:"".concat(o," center"),at:"".concat(n," center")}}}},{key:"getParents",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.parentNode===null?r:this.getParents(n.parentNode,r.concat([n.parentNode]))}},{key:"getScrollableParents",value:function(n){var r=[];if(n){var o=this.getParents(n),m=/(auto|scroll)/,y=function(p){var v=p?getComputedStyle(p):null;return v&&(m.test(v.getPropertyValue("overflow"))||m.test(v.getPropertyValue("overflowX"))||m.test(v.getPropertyValue("overflowY")))},c=Ko(o),i;try{for(c.s();!(i=c.n()).done;){var h=i.value,d=h.nodeType===1&&h.dataset.scrollselectors;if(d){var l=d.split(","),u=Ko(l),a;try{for(u.s();!(a=u.n()).done;){var f=a.value,g=this.findSingle(h,f);g&&y(g)&&r.push(g)}}catch(s){u.e(s)}finally{u.f()}}h.nodeType!==9&&y(h)&&r.push(h)}}catch(s){c.e(s)}finally{c.f()}}return r}},{key:"getHiddenElementOuterHeight",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetHeight;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementOuterWidth",value:function(n){if(n){n.style.visibility="hidden",n.style.display="block";var r=n.offsetWidth;return n.style.display="none",n.style.visibility="visible",r}return 0}},{key:"getHiddenElementDimensions",value:function(n){var r={};return n&&(n.style.visibility="hidden",n.style.display="block",r.width=n.offsetWidth,r.height=n.offsetHeight,n.style.display="none",n.style.visibility="visible"),r}},{key:"fadeIn",value:function(n,r){if(n){n.style.opacity=0;var o=+new Date,m=0,y=function c(){m=+n.style.opacity+(new Date().getTime()-o)/r,n.style.opacity=m,o=+new Date,+m<1&&(window.requestAnimationFrame&&requestAnimationFrame(c)||setTimeout(c,16))};y()}}},{key:"fadeOut",value:function(n,r){if(n)var o=1,m=50,y=m/r,c=setInterval(function(){o-=y,o<=0&&(o=0,clearInterval(c)),n.style.opacity=o},m)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"appendChild",value:function(n,r){if(this.isElement(r))r.appendChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.appendChild(n);else throw new Error("Cannot append "+r+" to "+n)}},{key:"removeChild",value:function(n,r){if(this.isElement(r))r.removeChild(n);else if(r.el&&r.el.nativeElement)r.el.nativeElement.removeChild(n);else throw new Error("Cannot remove "+n+" from "+r)}},{key:"isElement",value:function(n){return(typeof HTMLElement=="undefined"?"undefined":st(HTMLElement))==="object"?n instanceof HTMLElement:n&&st(n)==="object"&&n!==null&&n.nodeType===1&&typeof n.nodeName=="string"}},{key:"scrollInView",value:function(n,r){var o=getComputedStyle(n).getPropertyValue("borderTopWidth"),m=o?parseFloat(o):0,y=getComputedStyle(n).getPropertyValue("paddingTop"),c=y?parseFloat(y):0,i=n.getBoundingClientRect(),h=r.getBoundingClientRect(),d=h.top+document.body.scrollTop-(i.top+document.body.scrollTop)-m-c,l=n.scrollTop,u=n.clientHeight,a=this.getOuterHeight(r);d<0?n.scrollTop=l+d:d+a>u&&(n.scrollTop=l+d-u+a)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(n){if(n){var r=getComputedStyle(n);return n.offsetWidth-n.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}else{if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var o=document.createElement("div");o.className="p-scrollbar-measure",document.body.appendChild(o);var m=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),this.calculatedScrollbarWidth=m,m}}},{key:"getBrowser",value:function(){if(!this.browser){var n=this.resolveUserAgent();this.browser={},n.browser&&(this.browser[n.browser]=!0,this.browser.version=n.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var n=navigator.userAgent.toLowerCase(),r=/(chrome)[ ]([\w.]+)/.exec(n)||/(webkit)[ ]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:r[1]||"",version:r[2]||"0"}}},{key:"isVisible",value:function(n){return n&&n.offsetParent!=null}},{key:"isExist",value:function(n){return n!==null&&typeof n!="undefined"&&n.nodeName&&n.parentNode}},{key:"hasDOM",value:function(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}},{key:"getFocusableElements",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=t.find(n,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(r,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(r)),m=[],y=Ko(o),c;try{for(y.s();!(c=y.n()).done;){var i=c.value;getComputedStyle(i).display!=="none"&&getComputedStyle(i).visibility!=="hidden"&&m.push(i)}}catch(h){y.e(h)}finally{y.f()}return m}},{key:"getFirstFocusableElement",value:function(n,r){var o=t.getFocusableElements(n,r);return o.length>0?o[0]:null}},{key:"getLastFocusableElement",value:function(n,r){var o=t.getFocusableElements(n,r);return o.length>0?o[o.length-1]:null}},{key:"getCursorOffset",value:function(n,r,o,m){if(n){var y=getComputedStyle(n),c=document.createElement("div");c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.visibility="hidden",c.style.pointerEvents="none",c.style.overflow=y.overflow,c.style.width=y.width,c.style.height=y.height,c.style.padding=y.padding,c.style.border=y.border,c.style.overflowWrap=y.overflowWrap,c.style.whiteSpace=y.whiteSpace,c.style.lineHeight=y.lineHeight,c.innerHTML=r.replace(/\r\n|\r|\n/g,"<br />");var i=document.createElement("span");i.textContent=m,c.appendChild(i);var h=document.createTextNode(o);c.appendChild(h),document.body.appendChild(c);var d=i.offsetLeft,l=i.offsetTop,u=i.clientHeight;return document.body.removeChild(c),{left:Math.abs(d-n.scrollLeft),top:Math.abs(l-n.scrollTop)+u}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(n,r,o){n[r].apply(n,o)}},{key:"isClickable",value:function(n){var r=n.nodeName,o=n.parentElement&&n.parentElement.nodeName;return r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||o==="INPUT"||o==="TEXTAREA"||o==="BUTTON"||o==="A"||this.hasClass(n,"p-button")||this.hasClass(n.parentElement,"p-button")||this.hasClass(n.parentElement,"p-checkbox")||this.hasClass(n.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(n,r){if(typeof r=="string")n.style.cssText=this.style;else for(var o in this.style)n.style[o]=r[o]}},{key:"exportCSV",value:function(n,r){var o=new Blob([n],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(o,r+".csv");else{var m=t.saveAs({name:r+".csv",src:URL.createObjectURL(o)});m||(n="data:text/csv;charset=utf-8,"+n,window.open(encodeURI(n)))}}},{key:"saveAs",value:function(n){if(n){var r=document.createElement("a");if(r.download!==void 0){var o=n.name,m=n.src;return r.setAttribute("href",m),r.setAttribute("download",o),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),!0}}return!1}},{key:"createInlineStyle",value:function(n){var r=document.createElement("style");try{n||(n={}.REACT_APP_CSS_NONCE)}catch{}return n&&r.setAttribute("nonce",n),document.head.appendChild(r),r}},{key:"removeInlineStyle",value:function(n){if(this.isExist(n)){try{document.head.removeChild(n)}catch{}n=null}return n}}]),t}(),Lg=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};al(this,t),this.element=e,this.listener=n}return ll(t,[{key:"bindScrollListener",value:function(){this.scrollableParents=ue.getScrollableParents(this.element);for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].addEventListener("scroll",this.listener)}},{key:"unbindScrollListener",value:function(){if(this.scrollableParents)for(var n=0;n<this.scrollableParents.length;n++)this.scrollableParents[n].removeEventListener("scroll",this.listener)}},{key:"destroy",value:function(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}]),t}(),So=function(){function t(){al(this,t)}return ll(t,null,[{key:"equals",value:function(n,r,o){return o&&n&&st(n)==="object"&&r&&st(r)==="object"?this.resolveFieldData(n,o)===this.resolveFieldData(r,o):this.deepEquals(n,r)}},{key:"deepEquals",value:function(n,r){if(n===r)return!0;if(n&&r&&st(n)=="object"&&st(r)=="object"){var o=Array.isArray(n),m=Array.isArray(r),y,c,i;if(o&&m){if(c=n.length,c!==r.length)return!1;for(y=c;y--!==0;)if(!this.deepEquals(n[y],r[y]))return!1;return!0}if(o!==m)return!1;var h=n instanceof Date,d=r instanceof Date;if(h!==d)return!1;if(h&&d)return n.getTime()===r.getTime();var l=n instanceof RegExp,u=r instanceof RegExp;if(l!==u)return!1;if(l&&u)return n.toString()===r.toString();var a=Object.keys(n);if(c=a.length,c!==Object.keys(r).length)return!1;for(y=c;y--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[y]))return!1;for(y=c;y--!==0;)if(i=a[y],!this.deepEquals(n[i],r[i]))return!1;return!0}return n!==n&&r!==r}},{key:"resolveFieldData",value:function(n,r){if(n&&Object.keys(n).length&&r){if(this.isFunction(r))return r(n);if(r.indexOf(".")===-1)return n[r];for(var o=r.split("."),m=n,y=0,c=o.length;y<c;++y){if(m==null)return null;m=m[o[y]]}return m}else return null}},{key:"isFunction",value:function(n){return!!(n&&n.constructor&&n.call&&n.apply)}},{key:"findDiffKeys",value:function(n,r){return!n||!r?{}:Object.keys(n).filter(function(o){return!r.hasOwnProperty(o)}).reduce(function(o,m){return o[m]=n[m],o},{})}},{key:"reorderArray",value:function(n,r,o){var m;if(n&&r!==o){if(o>=n.length)for(m=o-n.length;m--+1;)n.push(void 0);n.splice(o,0,n.splice(r,1)[0])}}},{key:"findIndexInList",value:function(n,r,o){var m=this;return r?o?r.findIndex(function(y){return m.equals(y,n,o)}):r.findIndex(function(y){return y===n}):-1}},{key:"getJSXElement",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),m=1;m<r;m++)o[m-1]=arguments[m];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getPropValue",value:function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),m=1;m<r;m++)o[m-1]=arguments[m];return this.isFunction(n)?n.apply(void 0,o):n}},{key:"getRefElement",value:function(n){return n?st(n)==="object"&&n.hasOwnProperty("current")?n.current:n:null}},{key:"removeAccents",value:function(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}},{key:"isEmpty",value:function(n){return n==null||n===""||Array.isArray(n)&&n.length===0||!(n instanceof Date)&&st(n)==="object"&&Object.keys(n).length===0}},{key:"isNotEmpty",value:function(n){return!this.isEmpty(n)}},{key:"sort",value:function(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,m=arguments.length>3?arguments[3]:void 0,y=null;return n==null&&r!=null?y=-1:n!=null&&r==null?y=1:n==null&&r==null?y=0:typeof n=="string"&&typeof r=="string"?y=n.localeCompare(r,m,{numeric:!0}):y=n<r?-1:n>r?1:0,o*y}}]),t}();function Mg(t){if(Array.isArray(t))return Hs(t)}function Ig(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jg(t){return Mg(t)||Ig(t)||dh(t)||Fg()}function Ng(){var t=[],e=function(c,i){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,d=o(c,i,h),l=d.value+(d.key===c?0:h)+1;return t.push({key:c,value:l}),l},n=function(c){t=t.filter(function(i){return i.value!==c})},r=function(c,i){return o(c,i).value},o=function(c,i){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return jg(t).reverse().find(function(d){return i?!0:d.key===c})||{key:c,value:h}},m=function(c){return c&&parseInt(c.style.zIndex,10)||0};return{get:m,set:function(c,i,h,d){i&&(i.style.zIndex=String(e(c,h,d)))},clear:function(c){c&&(n(Je.get(c)),c.style.zIndex="")},getCurrent:function(c,i){return r(c,i)}}}var Je=Ng();function $u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bg(t,e,n){return e&&$u(t.prototype,e),n&&$u(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ug(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fe=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Pe=Bg(function t(){Ug(this,t)});Tt(Pe,"ripple",!1);Tt(Pe,"inputStyle","outlined");Tt(Pe,"locale","en");Tt(Pe,"appendTo",null);Tt(Pe,"cssTransition",!0);Tt(Pe,"autoZIndex",!0);Tt(Pe,"nonce",null);Tt(Pe,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});Tt(Pe,"filterMatchModeOptions",{text:[Fe.STARTS_WITH,Fe.CONTAINS,Fe.NOT_CONTAINS,Fe.ENDS_WITH,Fe.EQUALS,Fe.NOT_EQUALS],numeric:[Fe.EQUALS,Fe.NOT_EQUALS,Fe.LESS_THAN,Fe.LESS_THAN_OR_EQUAL_TO,Fe.GREATER_THAN,Fe.GREATER_THAN_OR_EQUAL_TO],date:[Fe.DATE_IS,Fe.DATE_IS_NOT,Fe.DATE_BEFORE,Fe.DATE_AFTER]});Object.freeze({ALIGN_CENTER:"pi pi-align-center",ALIGN_JUSTIFY:"pi pi-align-justify",ALIGN_LEFT:"pi pi-align-left",ALIGN_RIGHT:"pi pi-align-right",AMAZON:"pi pi-amazon",ANDROID:"pi pi-android",ANGLE_DOUBLE_DOWN:"pi pi-angle-double-down",ANGLE_DOUBLE_LEFT:"pi pi-angle-double-left",ANGLE_DOUBLE_RIGHT:"pi pi-angle-double-right",ANGLE_DOUBLE_UP:"pi pi-angle-double-up",ANGLE_DOWN:"pi pi-angle-down",ANGLE_LEFT:"pi pi-angle-left",ANGLE_RIGHT:"pi pi-angle-right",ANGLE_UP:"pi pi-angle-up",APPLE:"pi pi-apple",ARROW_CIRCLE_DOWN:"pi pi-arrow-circle-down",ARROW_CIRCLE_LEFT:"pi pi-arrow-circle-left",ARROW_CIRCLE_RIGHT:"pi pi-arrow-circle-right",ARROW_CIRCLE_UP:"pi pi-arrow-circle-up",ARROW_DOWN:"pi pi-arrow-down",ARROW_DOWN_LEFT:"pi pi-arrow-down-left",ARROW_DOWN_RIGHT:"pi pi-arrow-down-right",ARROW_LEFT:"pi pi-arrow-left",ARROW_RIGHT:"pi pi-arrow-right",ARROW_UP:"pi pi-arrow-up",ARROW_UP_LEFT:"pi pi-arrow-up-left",ARROW_UP_RIGHT:"pi pi-arrow-up-right",ARROW_H:"pi pi-arrow-h",ARROW_V:"pi pi-arrow-v",AT:"pi pi-at",BACKWARD:"pi pi-backward",BAN:"pi pi-ban",BARS:"pi pi-bars",BELL:"pi pi-bell",BOLT:"pi pi-bolt",BOOK:"pi pi-book",BOOKMARK:"pi pi-bookmark",BOOKMARK_FILL:"pi pi-bookmark-fill",BOX:"pi pi-box",BRIEFCASE:"pi pi-briefcase",BUILDING:"pi pi-building",CALENDAR:"pi pi-calendar",CALENDAR_MINUS:"pi pi-calendar-minus",CALENDAR_PLUS:"pi pi-calendar-plus",CALENDAR_TIMES:"pi pi-calendar-times",CAMERA:"pi pi-camera",CAR:"pi pi-car",CARET_DOWN:"pi pi-caret-down",CARET_LEFT:"pi pi-caret-left",CARET_RIGHT:"pi pi-caret-right",CARET_UP:"pi pi-caret-up",CHART_BAR:"pi pi-chart-bar",CHART_LINE:"pi pi-chart-line",CHART_PIE:"pi pi-chart-pie",CHECK:"pi pi-check",CHECK_CIRCLE:"pi pi-check-circle",CHECK_SQUARE:"pi pi-check-square",CHEVRON_CIRCLE_DOWN:"pi pi-chevron-circle-down",CHEVRON_CIRCLE_LEFT:"pi pi-chevron-circle-left",CHEVRON_CIRCLE_RIGHT:"pi pi-chevron-circle-right",CHEVRON_CIRCLE_UP:"pi pi-chevron-circle-up",CHEVRON_DOWN:"pi pi-chevron-down",CHEVRON_LEFT:"pi pi-chevron-left",CHEVRON_RIGHT:"pi pi-chevron-right",CHEVRON_UP:"pi pi-chevron-up",CIRCLE:"pi pi-circle",CIRCLE_FILL:"pi pi-circle-fill",CLOCK:"pi pi-clock",CLONE:"pi pi-clone",CLOUD:"pi pi-cloud",CLOUD_DOWNLOAD:"pi pi-cloud-download",CLOUD_UPLOAD:"pi pi-cloud-upload",CODE:"pi pi-code",COG:"pi pi-cog",COMMENT:"pi pi-comment",COMMENTS:"pi pi-comments",COMPASS:"pi pi-compass",COPY:"pi pi-copy",CREDIT_CARD:"pi pi-credit-card",DATABASE:"pi pi-database",DESKTOP:"pi pi-desktop",DIRECTIONS:"pi pi-directions",DIRECTIONS_ALT:"pi pi-directions-alt",DISCORD:"pi pi-discord",DOLLAR:"pi pi-dollar",DOWNLOAD:"pi pi-download",EJECT:"pi pi-eject",ELLIPSIS_H:"pi pi-ellipsis-h",ELLIPSIS_V:"pi pi-ellipsis-v",ENVELOPE:"pi pi-envelope",EURO:"pi pi-euro",EXCLAMATION_CIRCLE:"pi pi-exclamation-circle",EXCLAMATION_TRIANGLE:"pi pi-exclamation-triangle",EXTERNAL_LINK:"pi pi-external-link",EYE:"pi pi-eye",EYE_SLASH:"pi pi-eye-slash",FACEBOOK:"pi pi-facebook",FAST_BACKWARD:"pi pi-fast-backward",FAST_FORWARD:"pi pi-fast-forward",FILE:"pi pi-file",FILE_EXCEL:"pi pi-file-excel",FILE_PDF:"pi pi-file-pdf",FILTER:"pi pi-filter",FILTER_FILL:"pi pi-filter-fill",FILTER_SLASH:"pi pi-filter-slash",FLAG:"pi pi-flag",FLAG_FILL:"pi pi-flag-fill",FOLDER:"pi pi-folder",FOLDER_OPEN:"pi pi-folder-open",FORWARD:"pi pi-forward",GITHUB:"pi pi-github",GLOBE:"pi pi-globe",GOOGLE:"pi pi-google",HASHTAG:"pi pi-hashtag",HEART:"pi pi-heart",HEART_FILL:"pi pi-heart-fill",HISTORY:"pi pi-history",HOME:"pi pi-home",ID_CARD:"pi pi-id-card",IMAGE:"pi pi-image",IMAGES:"pi pi-images",INBOX:"pi pi-inbox",INFO:"pi pi-info",INFO_CIRCLE:"pi pi-info-circle",INSTAGRAM:"pi pi-instagram",KEY:"pi pi-key",LINK:"pi pi-link",LINKEDIN:"pi pi-linkedin",LIST:"pi pi-list",LOCK:"pi pi-lock",LOCK_OPEN:"pi pi-lock-open",MAP:"pi pi-map",MAP_MARKER:"pi pi-map-marker",MICROSOFT:"pi pi-microsoft",MINUS:"pi pi-minus",MINUS_CIRCLE:"pi pi-minus-circle",MOBILE:"pi pi-mobile",MONEY_BILL:"pi pi-money-bill",MOON:"pi pi-moon",PALETTE:"pi pi-palette",PAPERCLIP:"pi pi-paperclip",PAUSE:"pi pi-pause",PAYPAL:"pi pi-paypal",PENCIL:"pi pi-pencil",PERCENTAGE:"pi pi-percentage",PHONE:"pi pi-phone",PLAY:"pi pi-play",PLUS:"pi pi-plus",PLUS_CIRCLE:"pi pi-plus-circle",POUND:"pi pi-pound",POWER_OFF:"pi pi-power-off",PRIME:"pi pi-prime",PRINT:"pi pi-print",QRCODE:"pi pi-qrcode",QUESTION:"pi pi-question",QUESTION_CIRCLE:"pi pi-question-circle",REDDIT:"pi pi-reddit",REFRESH:"pi pi-refresh",REPLAY:"pi pi-replay",REPLY:"pi pi-reply",SAVE:"pi pi-save",SEARCH:"pi pi-search",SEARCH_MINUS:"pi pi-search-minus",SEARCH_PLUS:"pi pi-search-plus",SEND:"pi pi-send",SERVER:"pi pi-server",SHARE_ALT:"pi pi-share-alt",SHIELD:"pi pi-shield",SHOPPING_BAG:"pi pi-shopping-bag",SHOPPING_CART:"pi pi-shopping-cart",SIGN_IN:"pi pi-sign-in",SIGN_OUT:"pi pi-sign-out",SITEMAP:"pi pi-sitemap",SLACK:"pi pi-slack",SLIDERS_H:"pi pi-sliders-h",SLIDERS_V:"pi pi-sliders-v",SORT:"pi pi-sort",SORT_ALPHA_DOWN:"pi pi-sort-alpha-down",SORT_ALPHA_ALT_DOWN:"pi pi-sort-alpha-alt-down",SORT_ALPHA_UP:"pi pi-sort-alpha-up",SORT_ALPHA_ALT_UP:"pi pi-sort-alpha-alt-up",SORT_ALT:"pi pi-sort-alt",SORT_ALT_SLASH:"pi pi-sort-slash",SORT_AMOUNT_DOWN:"pi pi-sort-amount-down",SORT_AMOUNT_DOWN_ALT:"pi pi-sort-amount-down-alt",SORT_AMOUNT_UP:"pi pi-sort-amount-up",SORT_AMOUNT_UP_ALT:"pi pi-sort-amount-up-alt",SORT_DOWN:"pi pi-sort-down",SORT_NUMERIC_DOWN:"pi pi-sort-numeric-down",SORT_NUMERIC_ALT_DOWN:"pi pi-sort-numeric-alt-down",SORT_NUMERIC_UP:"pi pi-sort-numeric-up",SORT_NUMERIC_ALT_UP:"pi pi-sort-numeric-alt-up",SORT_UP:"pi pi-sort-up",SPINNER:"pi pi-spinner",STAR:"pi pi-star",STAR_FILL:"pi pi-star-fill",STEP_BACKWARD:"pi pi-step-backward",STEP_BACKWARD_ALT:"pi pi-step-backward-alt",STEP_FORWARD:"pi pi-step-forward",STEP_FORWARD_ALT:"pi pi-step-forward-alt",STOP:"pi pi-stop",STOP_CIRCLE:"pi pi-stop-circle",SUN:"pi pi-sun",SYNC:"pi pi-sync",TABLE:"pi pi-table",TABLET:"pi pi-tablet",TAG:"pi pi-tag",TAGS:"pi pi-tags",TELEGRAM:"pi pi-telegram",TH_LARGE:"pi pi-th-large",THUMBS_DOWN:"pi pi-thumbs-down",THUMBS_UP:"pi pi-thumbs-up",TICKET:"pi pi-ticket",TIMES:"pi pi-times",TIMES_CIRCLE:"pi pi-times-circle",TRASH:"pi pi-trash",TWITTER:"pi pi-twitter",UNDO:"pi pi-undo",UNLOCK:"pi pi-unlock",UPLOAD:"pi pi-upload",USER:"pi pi-user",USER_EDIT:"pi pi-user-edit",USER_MINUS:"pi pi-user-minus",USER_PLUS:"pi pi-user-plus",USERS:"pi pi-users",VIDEO:"pi pi-video",VIMEO:"pi pi-vimeo",VOLUME_DOWN:"pi pi-volume-down",VOLUME_OFF:"pi pi-volume-off",VOLUME_UP:"pi pi-volume-up",WALLET:"pi pi-wallet",WHATSAPP:"pi pi-whatsapp",WIFI:"pi pi-wifi",WINDOW_MAXIMIZE:"pi pi-window-maximize",WINDOW_MINIMIZE:"pi pi-window-minimize",YOUTUBE:"pi pi-youtube"});Object.freeze({SUCCESS:"success",INFO:"info",WARN:"warn",ERROR:"error"});Object.freeze({AND:"and",OR:"or"});function Wg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hg(t,e,n){return e&&Ku(t.prototype,e),n&&Ku(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ph(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zs(t,e){return zs=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},zs(t,e)}function zg(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zs(t,e)}function Vs(t){return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function Vg(t,e){if(e&&(Vs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ph(t)}function $r(t){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},$r(t)}function Xg(t){var e=Yg();return function(){var r=$r(t),o;if(e){var m=$r(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return Vg(this,o)}}function Yg(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Kr=function(t){zg(n,t);var e=Xg(n);function n(r){var o;return Wg(this,n),o=e.call(this,r),o.onMouseDown=o.onMouseDown.bind(ph(o)),o}return Hg(n,[{key:"getTarget",value:function(){return this.ink&&this.ink.parentElement}},{key:"bindEvents",value:function(){this.target&&this.target.addEventListener("mousedown",this.onMouseDown)}},{key:"unbindEvents",value:function(){this.target&&this.target.removeEventListener("mousedown",this.onMouseDown)}},{key:"onMouseDown",value:function(o){if(!(!this.ink||getComputedStyle(this.ink,null).display==="none")){if(ue.removeClass(this.ink,"p-ink-active"),!ue.getHeight(this.ink)&&!ue.getWidth(this.ink)){var m=Math.max(ue.getOuterWidth(this.target),ue.getOuterHeight(this.target));this.ink.style.height=m+"px",this.ink.style.width=m+"px"}var y=ue.getOffset(this.target),c=o.pageX-y.left+document.body.scrollTop-ue.getWidth(this.ink)/2,i=o.pageY-y.top+document.body.scrollLeft-ue.getHeight(this.ink)/2;this.ink.style.top=i+"px",this.ink.style.left=c+"px",ue.addClass(this.ink,"p-ink-active")}}},{key:"onAnimationEnd",value:function(o){ue.removeClass(o.currentTarget,"p-ink-active")}},{key:"componentDidMount",value:function(){this.ink&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentDidUpdate",value:function(){this.ink&&!this.target&&(this.target=this.getTarget(),this.bindEvents())}},{key:"componentWillUnmount",value:function(){this.ink&&(this.target=null,this.unbindEvents())}},{key:"render",value:function(){var o=this;return Pe.ripple?he("span",{ref:function(y){return o.ink=y},className:"p-ink",onAnimationEnd:this.onAnimationEnd}):null}}]),n}(ae.exports.Component);function ul(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,m;for(m=0;m<r.length;m++)o=r[m],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Xs(t,e){return Xs=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Xs(t,e)}function cl(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Xs(t,e)}function Gg(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function $g(t,e){t.classList?t.classList.add(e):Gg(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function qu(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Kg(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=qu(t.className,e):t.setAttribute("class",qu(t.className&&t.className.baseVal||"",e))}var Qu={disabled:!1},qr=Me.createContext(null),mi="unmounted",qt="exited",Qt="entering",Sn="entered",Ys="exiting",Et=function(t){cl(e,t);function e(r,o){var m;m=t.call(this,r,o)||this;var y=o,c=y&&!y.isMounting?r.enter:r.appear,i;return m.appearStatus=null,r.in?c?(i=qt,m.appearStatus=Qt):i=Sn:r.unmountOnExit||r.mountOnEnter?i=mi:i=qt,m.state={status:i},m.nextCallback=null,m}e.getDerivedStateFromProps=function(o,m){var y=o.in;return y&&m.status===mi?{status:qt}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var m=null;if(o!==this.props){var y=this.state.status;this.props.in?y!==Qt&&y!==Sn&&(m=Qt):(y===Qt||y===Sn)&&(m=Ys)}this.updateStatus(!1,m)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,m,y,c;return m=y=c=o,o!=null&&typeof o!="number"&&(m=o.exit,y=o.enter,c=o.appear!==void 0?o.appear:y),{exit:m,enter:y,appear:c}},n.updateStatus=function(o,m){o===void 0&&(o=!1),m!==null?(this.cancelNextCallback(),m===Qt?this.performEnter(o):this.performExit()):this.props.unmountOnExit&&this.state.status===qt&&this.setState({status:mi})},n.performEnter=function(o){var m=this,y=this.props.enter,c=this.context?this.context.isMounting:o,i=this.props.nodeRef?[c]:[Bt.findDOMNode(this),c],h=i[0],d=i[1],l=this.getTimeouts(),u=c?l.appear:l.enter;if(!o&&!y||Qu.disabled){this.safeSetState({status:Sn},function(){m.props.onEntered(h)});return}this.props.onEnter(h,d),this.safeSetState({status:Qt},function(){m.props.onEntering(h,d),m.onTransitionEnd(u,function(){m.safeSetState({status:Sn},function(){m.props.onEntered(h,d)})})})},n.performExit=function(){var o=this,m=this.props.exit,y=this.getTimeouts(),c=this.props.nodeRef?void 0:Bt.findDOMNode(this);if(!m||Qu.disabled){this.safeSetState({status:qt},function(){o.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Ys},function(){o.props.onExiting(c),o.onTransitionEnd(y.exit,function(){o.safeSetState({status:qt},function(){o.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,m){m=this.setNextCallback(m),this.setState(o,m)},n.setNextCallback=function(o){var m=this,y=!0;return this.nextCallback=function(c){y&&(y=!1,m.nextCallback=null,o(c))},this.nextCallback.cancel=function(){y=!1},this.nextCallback},n.onTransitionEnd=function(o,m){this.setNextCallback(m);var y=this.props.nodeRef?this.props.nodeRef.current:Bt.findDOMNode(this),c=o==null&&!this.props.addEndListener;if(!y||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[y,this.nextCallback],h=i[0],d=i[1];this.props.addEndListener(h,d)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===mi)return null;var m=this.props,y=m.children;m.in,m.mountOnEnter,m.unmountOnExit,m.appear,m.enter,m.exit,m.timeout,m.addEndListener,m.onEnter,m.onEntering,m.onEntered,m.onExit,m.onExiting,m.onExited,m.nodeRef;var c=ul(m,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Me.createElement(qr.Provider,{value:null},typeof y=="function"?y(o,c):Me.cloneElement(Me.Children.only(y),c))},e}(Me.Component);Et.contextType=qr;Et.propTypes={};function yn(){}Et.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yn,onEntering:yn,onEntered:yn,onExit:yn,onExiting:yn,onExited:yn};Et.UNMOUNTED=mi;Et.EXITED=qt;Et.ENTERING=Qt;Et.ENTERED=Sn;Et.EXITING=Ys;var qg=Et,Qg=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return $g(e,r)})},qo=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return Kg(e,r)})},fl=function(t){cl(e,t);function e(){for(var r,o=arguments.length,m=new Array(o),y=0;y<o;y++)m[y]=arguments[y];return r=t.call.apply(t,[this].concat(m))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,i){var h=r.resolveArguments(c,i),d=h[0],l=h[1];r.removeClasses(d,"exit"),r.addClass(d,l?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,i)},r.onEntering=function(c,i){var h=r.resolveArguments(c,i),d=h[0],l=h[1],u=l?"appear":"enter";r.addClass(d,u,"active"),r.props.onEntering&&r.props.onEntering(c,i)},r.onEntered=function(c,i){var h=r.resolveArguments(c,i),d=h[0],l=h[1],u=l?"appear":"enter";r.removeClasses(d,u),r.addClass(d,u,"done"),r.props.onEntered&&r.props.onEntered(c,i)},r.onExit=function(c){var i=r.resolveArguments(c),h=i[0];r.removeClasses(h,"appear"),r.removeClasses(h,"enter"),r.addClass(h,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var i=r.resolveArguments(c),h=i[0];r.addClass(h,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var i=r.resolveArguments(c),h=i[0];r.removeClasses(h,"exit"),r.addClass(h,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,i){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,i]},r.getClassNames=function(c){var i=r.props.classNames,h=typeof i=="string",d=h&&i?i+"-":"",l=h?""+d+c:i[c],u=h?l+"-active":i[c+"Active"],a=h?l+"-done":i[c+"Done"];return{baseClassName:l,activeClassName:u,doneClassName:a}},r}var n=e.prototype;return n.addClass=function(o,m,y){var c=this.getClassNames(m)[y+"ClassName"],i=this.getClassNames("enter"),h=i.doneClassName;m==="appear"&&y==="done"&&h&&(c+=" "+h),y==="active"&&o&&o.scrollTop,c&&(this.appliedClasses[m][y]=c,Qg(o,c))},n.removeClasses=function(o,m){var y=this.appliedClasses[m],c=y.base,i=y.active,h=y.done;this.appliedClasses[m]={},c&&qo(o,c),i&&qo(o,i),h&&qo(o,h)},n.render=function(){var o=this.props;o.classNames;var m=ul(o,["classNames"]);return Me.createElement(qg,zn({},m,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Me.Component);fl.defaultProps={classNames:""};fl.propTypes={};var Zg=fl;function Jg(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hl(t,e){var n=function(m){return e&&ae.exports.isValidElement(m)?e(m):m},r=Object.create(null);return t&&ae.exports.Children.map(t,function(o){return o}).forEach(function(o){r[o.key]=n(o)}),r}function em(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),o=[];for(var m in t)m in e?o.length&&(r[m]=o,o=[]):o.push(m);var y,c={};for(var i in e){if(r[i])for(y=0;y<r[i].length;y++){var h=r[i][y];c[r[i][y]]=n(h)}c[i]=n(i)}for(y=0;y<o.length;y++)c[o[y]]=n(o[y]);return c}function sn(t,e,n){return n[e]!=null?n[e]:t.props[e]}function tm(t,e){return hl(t.children,function(n){return ae.exports.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:sn(n,"appear",t),enter:sn(n,"enter",t),exit:sn(n,"exit",t)})})}function nm(t,e,n){var r=hl(t.children),o=em(e,r);return Object.keys(o).forEach(function(m){var y=o[m];if(!!ae.exports.isValidElement(y)){var c=m in e,i=m in r,h=e[m],d=ae.exports.isValidElement(h)&&!h.props.in;i&&(!c||d)?o[m]=ae.exports.cloneElement(y,{onExited:n.bind(null,y),in:!0,exit:sn(y,"exit",t),enter:sn(y,"enter",t)}):!i&&c&&!d?o[m]=ae.exports.cloneElement(y,{in:!1}):i&&c&&ae.exports.isValidElement(h)&&(o[m]=ae.exports.cloneElement(y,{onExited:n.bind(null,y),in:h.props.in,exit:sn(y,"exit",t),enter:sn(y,"enter",t)}))}}),o}var im=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},rm={component:"div",childFactory:function(e){return e}},dl=function(t){cl(e,t);function e(r,o){var m;m=t.call(this,r,o)||this;var y=m.handleExited.bind(Jg(m));return m.state={contextValue:{isMounting:!0},handleExited:y,firstRender:!0},m}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,m){var y=m.children,c=m.handleExited,i=m.firstRender;return{children:i?tm(o,c):nm(o,y,c),firstRender:!1}},n.handleExited=function(o,m){var y=hl(this.props.children);o.key in y||(o.props.onExited&&o.props.onExited(m),this.mounted&&this.setState(function(c){var i=zn({},c.children);return delete i[o.key],{children:i}}))},n.render=function(){var o=this.props,m=o.component,y=o.childFactory,c=ul(o,["component","childFactory"]),i=this.state.contextValue,h=im(this.state.children).map(y);return delete c.appear,delete c.enter,delete c.exit,m===null?Me.createElement(qr.Provider,{value:i},h):Me.createElement(qr.Provider,{value:i},Me.createElement(m,c,h))},e}(Me.Component);dl.propTypes={};dl.defaultProps=rm;var om=dl;function sm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function am(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function lm(t,e,n){return e&&Zu(t.prototype,e),n&&Zu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t,e){return Gs=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Gs(t,e)}function um(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gs(t,e)}function $s(t){return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function cm(t,e){if(e&&($s(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zt(t)}function Qr(t){return Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Qr(t)}function Ju(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ju(Object(n),!0).forEach(function(r){sm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ju(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fm(t){var e=hm();return function(){var r=Qr(t),o;if(e){var m=Qr(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return cm(this,o)}}function hm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var pl=function(t){um(n,t);var e=fm(n);function n(r){var o;return am(this,n),o=e.call(this,r),o.onEnter=o.onEnter.bind(Zt(o)),o.onEntering=o.onEntering.bind(Zt(o)),o.onEntered=o.onEntered.bind(Zt(o)),o.onExit=o.onExit.bind(Zt(o)),o.onExiting=o.onExiting.bind(Zt(o)),o.onExited=o.onExited.bind(Zt(o)),o}return lm(n,[{key:"disabled",get:function(){return this.props.disabled||this.props.options&&this.props.options.disabled||!Pe.cssTransition}},{key:"onEnter",value:function(o,m){this.props.onEnter&&this.props.onEnter(o,m),this.props.options&&this.props.options.onEnter&&this.props.options.onEnter(o,m)}},{key:"onEntering",value:function(o,m){this.props.onEntering&&this.props.onEntering(o,m),this.props.options&&this.props.options.onEntering&&this.props.options.onEntering(o,m)}},{key:"onEntered",value:function(o,m){this.props.onEntered&&this.props.onEntered(o,m),this.props.options&&this.props.options.onEntered&&this.props.options.onEntered(o,m)}},{key:"onExit",value:function(o){this.props.onExit&&this.props.onExit(o),this.props.options&&this.props.options.onExit&&this.props.options.onExit(o)}},{key:"onExiting",value:function(o){this.props.onExiting&&this.props.onExiting(o),this.props.options&&this.props.options.onExiting&&this.props.options.onExiting(o)}},{key:"onExited",value:function(o){this.props.onExited&&this.props.onExited(o),this.props.options&&this.props.options.onExited&&this.props.options.onExited(o)}},{key:"componentDidUpdate",value:function(o){if(this.props.in!==o.in&&this.disabled){var m=So.getRefElement(this.props.nodeRef);this.props.in?(this.onEnter(m,!0),this.onEntering(m,!0),this.onEntered(m,!0)):(this.onExit(m),this.onExiting(m),this.onExited(m))}}},{key:"render",value:function(){if(this.disabled)return this.props.in?this.props.children:null;var o={nodeRef:this.props.nodeRef,in:this.props.in,onEnter:this.onEnter,onEntering:this.onEntering,onEntered:this.onEntered,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited},m={classNames:this.props.classNames,timeout:this.props.timeout,unmountOnExit:this.props.unmountOnExit},y=Qo(Qo(Qo({},m),this.props.options||{}),o);return he(Zg,Ji($t({},y),{children:this.props.children}))}}]),n}(ae.exports.Component);function dm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ec(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pm(t,e,n){return e&&ec(t.prototype,e),n&&ec(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ks(t,e){return Ks=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Ks(t,e)}function gm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ks(t,e)}function qs(t){return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(t)}function mm(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vm(t,e){if(e&&(qs(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mm(t)}function Zr(t){return Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Zr(t)}function ym(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _m(t){var e=Cm();return function(){var r=Zr(t),o;if(e){var m=Zr(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return vm(this,o)}}function Cm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var wo=function(t){gm(n,t);var e=_m(n);function n(r){var o;dm(this,n),o=e.call(this,r);var m=r.visible&&ue.hasDOM();return o.state={mounted:m},o}return pm(n,[{key:"componentDidMount",value:function(){ue.hasDOM()&&!this.state.mounted&&this.setState({mounted:!0},this.props.onMounted)}},{key:"componentWillUnmount",value:function(){this.props.onUnmounted&&this.props.onUnmounted()}},{key:"render",value:function(){var o=this.props.element||this.props.children;if(o&&this.state.mounted){var m=this.props.appendTo||Pe.appendTo||document.body;return m==="self"?o:Bt.createPortal(o,m)}return null}}]),n}(ae.exports.Component);ym(wo,"defaultProps",{element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null});function Qs(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sm(t){if(Array.isArray(t))return Qs(t)}function wm(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xm(t,e){if(!!t){if(typeof t=="string")return Qs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qs(t,e)}}function Tm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(t){return Sm(t)||wm(t)||xm(t)||Tm()}function gh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function mh(t,e,n){return e&&tc(t.prototype,e),n&&tc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zs(t,e){return Zs=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},Zs(t,e)}function vh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zs(t,e)}function Js(t){return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function yh(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nn(t)}function Vn(t){return Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vn(t)}function gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nc(Object(n),!0).forEach(function(r){gl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Em(t){var e=bm();return function(){var r=Vn(t),o;if(e){var m=Vn(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return yh(this,o)}}function bm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _h=function(t){vh(n,t);var e=Em(n);function n(r){var o;return gh(this,n),o=e.call(this,r),o.onClick=o.onClick.bind(Nn(o)),o.onClose=o.onClose.bind(Nn(o)),o}return mh(n,[{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"componentDidMount",value:function(){var o=this;this.props.message.sticky||(this.timeout=setTimeout(function(){o.onClose(null)},this.props.message.life||3e3))}},{key:"onClose",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.onClose&&this.props.onClose(this.props.message)}},{key:"onClick",value:function(o){this.props.onClick&&!(ue.hasClass(o.target,"p-toast-icon-close")||ue.hasClass(o.target,"p-toast-icon-close-icon"))&&this.props.onClick(this.props.message)}},{key:"renderCloseIcon",value:function(){return this.props.message.closable!==!1?Ze("button",{type:"button",className:"p-toast-icon-close p-link",onClick:this.onClose,children:[he("span",{className:"p-toast-icon-close-icon pi pi-times"}),he(Kr,{})]}):null}},{key:"renderMessage",value:function(){if(this.props.message){var o=this.props.message,m=o.severity,y=o.content,c=o.summary,i=o.detail,h=So.getJSXElement(y,ic(ic({},this.props),{},{onClose:this.onClose})),d=Le("p-toast-message-icon pi",{"pi-info-circle":m==="info","pi-exclamation-triangle":m==="warn","pi-times":m==="error","pi-check":m==="success"});return h||Ze(hh,{children:[he("span",{className:d}),Ze("div",{className:"p-toast-message-text",children:[he("span",{className:"p-toast-summary",children:c}),i&&he("div",{className:"p-toast-detail",children:i})]})]})}return null}},{key:"render",value:function(){var o=this.props.message.severity,m=this.props.message.contentClassName,y=this.props.message.contentStyle,c=this.props.message.style,i=Le("p-toast-message",{"p-toast-message-info":o==="info","p-toast-message-warn":o==="warn","p-toast-message-error":o==="error","p-toast-message-success":o==="success"},this.props.message.className),h=this.renderMessage(),d=this.renderCloseIcon();return he("div",{ref:this.props.forwardRef,className:i,style:c,role:"alert","aria-live":"assertive","aria-atomic":"true",onClick:this.onClick,children:Ze("div",{className:Le("p-toast-message-content",m),style:y,children:[h,d]})})}}]),n}(ae.exports.Component);gl(_h,"defaultProps",{message:null,onClose:null,onClick:null});var Om=Me.forwardRef(function(t,e){return he(_h,$t({forwardRef:e},t))});function km(t){var e=Pm();return function(){var r=Vn(t),o;if(e){var m=Vn(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return yh(this,o)}}function Pm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var rc=0,Dm=function(t){vh(n,t);var e=km(n);function n(r){var o;return gh(this,n),o=e.call(this,r),o.state={messages:[]},o.onClose=o.onClose.bind(Nn(o)),o.onEntered=o.onEntered.bind(Nn(o)),o.onExited=o.onExited.bind(Nn(o)),o}return mh(n,[{key:"show",value:function(o){if(o&&o){var m;if(Array.isArray(o))for(var y=0;y<o.length;y++)o[y].id=rc++,m=[].concat(Zo(this.state.messages),Zo(o));else o.id=rc++,m=this.state.messages?[].concat(Zo(this.state.messages),[o]):[o];this.state.messages.length===0&&Je.set("toast",this.container,Pe.autoZIndex,this.props.baseZIndex||Pe.zIndex.toast),this.setState({messages:m})}}},{key:"clear",value:function(){Je.clear(this.container),this.setState({messages:[]})}},{key:"onClose",value:function(o){var m=this.state.messages.filter(function(y){return y.id!==o.id});this.setState({messages:m}),this.props.onRemove&&this.props.onRemove(o)}},{key:"onEntered",value:function(){this.props.onShow&&this.props.onShow()}},{key:"onExited",value:function(){this.state.messages.length===0&&Je.clear(this.container),this.props.onHide&&this.props.onHide()}},{key:"componentWillUnmount",value:function(){Je.clear(this.container)}},{key:"renderElement",value:function(){var o=this,m=Le("p-toast p-component p-toast-"+this.props.position,this.props.className);return he("div",{ref:function(c){o.container=c},id:this.props.id,className:m,style:this.props.style,children:he(om,{children:this.state.messages.map(function(y){var c=Me.createRef();return he(pl,{nodeRef:c,classNames:"p-toast-message",unmountOnExit:!0,timeout:{enter:300,exit:300},onEntered:o.onEntered,onExited:o.onExited,options:o.props.transitionOptions,children:he(Om,{ref:c,message:y,onClick:o.props.onClick,onClose:o.onClose})},y.id)})})})}},{key:"render",value:function(){var o=this.renderElement();return he(wo,{element:o,appendTo:this.props.appendTo})}}]),n}(ae.exports.Component);gl(Dm,"defaultProps",{id:null,className:null,style:null,baseZIndex:0,position:"top-right",transitionOptions:null,appendTo:"self",onClick:null,onRemove:null,onShow:null,onHide:null});function Ch(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sh(t,e,n){return e&&oc(t.prototype,e),n&&oc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ea(t,e){return ea=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},ea(t,e)}function wh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ea(t,e)}function ta(t){return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(t)}function Rm(t,e){if(e&&(ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}function Jr(t){return Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Jr(t)}function xh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Th(t){var e=Am();return function(){var r=Jr(t),o;if(e){var m=Jr(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return Rm(this,o)}}function Am(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Eh=function(t){wh(n,t);var e=Th(n);function n(r){var o;return Ch(this,n),o=e.call(this,r),o.state={activeItem:null},o.onEnter=o.onEnter.bind(gt(o)),o.submenuRef=Me.createRef(),o}return Sh(n,[{key:"onItemMouseEnter",value:function(o,m){if(m.disabled){o.preventDefault();return}this.setState({activeItem:m})}},{key:"onItemClick",value:function(o,m){if(m.disabled){o.preventDefault();return}m.url||o.preventDefault(),m.command&&m.command({originalEvent:o,item:m}),m.items||this.props.onLeafClick(o)}},{key:"position",value:function(){var o=this.submenuRef.current.parentElement,m=ue.getOffset(this.submenuRef.current.parentElement),y=ue.getViewport(),c=this.submenuRef.current.offsetParent?this.submenuRef.current.offsetWidth:ue.getHiddenElementOuterWidth(this.submenuRef.current),i=ue.getOuterWidth(o.children[0]);this.submenuRef.current.style.top="0px",parseInt(m.left,10)+i+c>y.width-ue.calculateScrollbarWidth()?this.submenuRef.current.style.left=-1*c+"px":this.submenuRef.current.style.left=i+"px"}},{key:"onEnter",value:function(){this.position()}},{key:"isActive",value:function(){return this.props.root||!this.props.resetMenu}},{key:"componentDidUpdate",value:function(){this.isActive()&&this.position()}},{key:"renderSeparator",value:function(o){return he("li",{className:"p-menu-separator",role:"separator"},"separator_"+o)}},{key:"renderSubmenu",value:function(o){return o.items?he(n,{model:o.items,resetMenu:o!==this.state.activeItem,onLeafClick:this.props.onLeafClick}):null}},{key:"renderMenuitem",value:function(o,m){var y=this,c=this.state.activeItem===o,i=Le("p-menuitem",{"p-menuitem-active":c},o.className),h=Le("p-menuitem-link",{"p-disabled":o.disabled}),d=Le("p-menuitem-icon",o.icon),l="p-submenu-icon pi pi-angle-right",u=o.icon&&he("span",{className:d}),a=o.label&&he("span",{className:"p-menuitem-text",children:o.label}),f=o.items&&he("span",{className:l}),g=this.renderSubmenu(o),s=Ze("a",{href:o.url||"#",className:h,target:o.target,onClick:function(_){return y.onItemClick(_,o,m)},role:"menuitem","aria-haspopup":o.items!=null,"aria-disabled":o.disabled,children:[u,a,f,he(Kr,{})]});if(o.template){var p={onClick:function(_){return y.onItemClick(_,o,m)},className:h,labelClassName:"p-menuitem-text",iconClassName:d,submenuIconClassName:l,element:s,props:this.props,active:c};s=So.getJSXElement(o.template,o,p)}return Ze("li",{role:"none",className:i,style:o.style,onMouseEnter:function(_){return y.onItemMouseEnter(_,o)},children:[s,g]},o.label+"_"+m)}},{key:"renderItem",value:function(o,m){return o.separator?this.renderSeparator(m):this.renderMenuitem(o,m)}},{key:"renderMenu",value:function(){var o=this;return this.props.model?this.props.model.map(function(m,y){return o.renderItem(m,y)}):null}},{key:"render",value:function(){var o=Le({"p-submenu-list":!this.props.root}),m=this.renderMenu(),y=this.isActive();return he(pl,{nodeRef:this.submenuRef,classNames:"p-contextmenusub",in:y,timeout:{enter:0,exit:0},unmountOnExit:!0,onEnter:this.onEnter,children:he("ul",{ref:this.submenuRef,className:o,children:m})})}}],[{key:"getDerivedStateFromProps",value:function(o,m){return o.resetMenu===!0?{activeItem:null}:null}}]),n}(ae.exports.Component);xh(Eh,"defaultProps",{model:null,root:!1,className:null,resetMenu:!1,onLeafClick:null});var Lm=function(t){wh(n,t);var e=Th(n);function n(r){var o;return Ch(this,n),o=e.call(this,r),o.state={visible:!1,reshow:!1,resetMenu:!1},o.onMenuClick=o.onMenuClick.bind(gt(o)),o.onLeafClick=o.onLeafClick.bind(gt(o)),o.onMenuMouseEnter=o.onMenuMouseEnter.bind(gt(o)),o.onEnter=o.onEnter.bind(gt(o)),o.onEntered=o.onEntered.bind(gt(o)),o.onExit=o.onExit.bind(gt(o)),o.onExited=o.onExited.bind(gt(o)),o.menuRef=Me.createRef(),o}return Sh(n,[{key:"onMenuClick",value:function(){this.setState({resetMenu:!1})}},{key:"onMenuMouseEnter",value:function(){this.setState({resetMenu:!1})}},{key:"show",value:function(o){var m=this;o instanceof Event||o.persist(),o.stopPropagation(),o.preventDefault(),this.currentEvent=o,this.state.visible?this.setState({reshow:!0}):this.setState({visible:!0},function(){m.props.onShow&&m.props.onShow(m.currentEvent)})}},{key:"hide",value:function(o){var m=this;o instanceof Event||o.persist(),this.currentEvent=o,this.setState({visible:!1,reshow:!1},function(){m.props.onHide&&m.props.onHide(m.currentEvent)})}},{key:"onEnter",value:function(){this.props.autoZIndex&&Je.set("menu",this.menuRef.current,Pe.autoZIndex,this.props.baseZIndex||Pe.zIndex.menu),this.position(this.currentEvent)}},{key:"onEntered",value:function(){this.bindDocumentListeners()}},{key:"onExit",value:function(){this.currentEvent=null,this.unbindDocumentListeners()}},{key:"onExited",value:function(){Je.clear(this.menuRef.current)}},{key:"position",value:function(o){if(o){var m=o.pageX+1,y=o.pageY+1,c=this.menuRef.current.offsetParent?this.menuRef.current.offsetWidth:ue.getHiddenElementOuterWidth(this.menuRef.current),i=this.menuRef.current.offsetParent?this.menuRef.current.offsetHeight:ue.getHiddenElementOuterHeight(this.menuRef.current),h=ue.getViewport();m+c-document.body.scrollLeft>h.width&&(m-=c),y+i-document.body.scrollTop>h.height&&(y-=i),m<document.body.scrollLeft&&(m=document.body.scrollLeft),y<document.body.scrollTop&&(y=document.body.scrollTop),this.menuRef.current.style.left=m+"px",this.menuRef.current.style.top=y+"px"}}},{key:"onLeafClick",value:function(o){this.setState({resetMenu:!0}),this.hide(o),o.stopPropagation()}},{key:"isOutsideClicked",value:function(o){return this.menuRef&&this.menuRef.current&&!(this.menuRef.current.isSameNode(o.target)||this.menuRef.current.contains(o.target))}},{key:"bindDocumentListeners",value:function(){this.bindDocumentResizeListener(),this.bindDocumentClickListener()}},{key:"unbindDocumentListeners",value:function(){this.unbindDocumentResizeListener(),this.unbindDocumentClickListener()}},{key:"bindDocumentClickListener",value:function(){var o=this;this.documentClickListener||(this.documentClickListener=function(m){o.isOutsideClicked(m)&&m.button!==2&&(o.hide(m),o.setState({resetMenu:!0}))},document.addEventListener("click",this.documentClickListener))}},{key:"bindDocumentContextMenuListener",value:function(){var o=this;this.documentContextMenuListener||(this.documentContextMenuListener=function(m){o.show(m)},document.addEventListener("contextmenu",this.documentContextMenuListener))}},{key:"bindDocumentResizeListener",value:function(){var o=this;this.documentResizeListener||(this.documentResizeListener=function(m){o.state.visible&&!ue.isTouchDevice()&&o.hide(m)},window.addEventListener("resize",this.documentResizeListener))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}},{key:"unbindDocumentContextMenuListener",value:function(){this.documentContextMenuListener&&(document.removeEventListener("contextmenu",this.documentContextMenuListener),this.documentContextMenuListener=null)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"componentDidMount",value:function(){this.props.global&&this.bindDocumentContextMenuListener()}},{key:"componentDidUpdate",value:function(o,m){var y=this;if(this.state.visible&&(m.reshow!==this.state.reshow||o.model!==this.props.model)){var c=this.currentEvent;this.setState({visible:!1,reshow:!1,rePosition:!1,resetMenu:!0},function(){return y.show(c)})}}},{key:"componentWillUnmount",value:function(){this.unbindDocumentListeners(),this.unbindDocumentContextMenuListener(),Je.clear(this.menuRef.current)}},{key:"renderContextMenu",value:function(){var o=Le("p-contextmenu p-component",this.props.className);return he(pl,{nodeRef:this.menuRef,classNames:"p-contextmenu",in:this.state.visible,timeout:{enter:250,exit:0},options:this.props.transitionOptions,unmountOnExit:!0,onEnter:this.onEnter,onEntered:this.onEntered,onExit:this.onExit,onExited:this.onExited,children:he("div",{ref:this.menuRef,id:this.props.id,className:o,style:this.props.style,onClick:this.onMenuClick,onMouseEnter:this.onMenuMouseEnter,children:he(Eh,{model:this.props.model,root:!0,resetMenu:this.state.resetMenu,onLeafClick:this.onLeafClick})})})}},{key:"render",value:function(){var o=this.renderContextMenu();return he(wo,{element:o,appendTo:this.props.appendTo})}}]),n}(ae.exports.Component);xh(Lm,"defaultProps",{id:null,model:null,style:null,className:null,global:!1,autoZIndex:!0,baseZIndex:0,appendTo:null,transitionOptions:null,onShow:null,onHide:null});function Mm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Im(t,e,n){return e&&sc(t.prototype,e),n&&sc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function na(t,e){return na=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},na(t,e)}function Fm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&na(t,e)}function ia(t){return ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ia(t)}function jm(t,e){if(e&&(ia(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vi(t)}function eo(t){return eo=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},eo(t)}function ml(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nm(t){var e=Bm();return function(){var r=eo(t),o;if(e){var m=eo(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return jm(this,o)}}function Bm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ac(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ac(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ac(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bh(t){var e=t.appendTo||document.body,n=document.createDocumentFragment();ue.appendChild(n,e),t=dr(dr({},t),t.options);var r=he(Oh,$t({},t));Bt.render(r,n);var o=function(y){t=dr(dr({},t),y),Bt.render(Me.cloneElement(r,t),n)};return{destroy:function(){Bt.unmountComponentAtNode(n)},updateContent:function(y){console.warn("The 'updateContent' method has been deprecated on Tooltip. Use update(newProps) method."),o({content:y})},update:function(y){o(y)}}}var Oh=function(t){Fm(n,t);var e=Nm(n);function n(r){var o;return Mm(this,n),o=e.call(this,r),o.state={visible:!1,position:o.props.position},o.show=o.show.bind(vi(o)),o.hide=o.hide.bind(vi(o)),o.onMouseEnter=o.onMouseEnter.bind(vi(o)),o.onMouseLeave=o.onMouseLeave.bind(vi(o)),o}return Im(n,[{key:"isTargetContentEmpty",value:function(o){return!(this.props.content||this.getTargetOption(o,"tooltip"))}},{key:"isContentEmpty",value:function(o){return!(this.props.content||this.getTargetOption(o,"tooltip")||this.props.children)}},{key:"isMouseTrack",value:function(o){return this.getTargetOption(o,"mousetrack")||this.props.mouseTrack}},{key:"isDisabled",value:function(o){return this.getTargetOption(o,"disabled")==="true"||this.hasTargetOption(o,"disabled")||this.props.disabled}},{key:"isShowOnDisabled",value:function(o){return this.getTargetOption(o,"showondisabled")||this.props.showOnDisabled}},{key:"isAutoHide",value:function(){return this.getTargetOption(this.currentTarget,"autohide")||this.props.autoHide}},{key:"getTargetOption",value:function(o,m){return this.hasTargetOption(o,"data-pr-".concat(m))?o.getAttribute("data-pr-".concat(m)):null}},{key:"hasTargetOption",value:function(o,m){return o&&o.hasAttribute(m)}},{key:"getEvents",value:function(o){var m=this.getTargetOption(o,"showevent")||this.props.showEvent,y=this.getTargetOption(o,"hideevent")||this.props.hideEvent;if(this.isMouseTrack(o))m="mousemove",y="mouseleave";else{var c=this.getTargetOption(o,"event")||this.props.event;c==="focus"&&(m="focus",y="blur")}return{showEvent:m,hideEvent:y}}},{key:"getPosition",value:function(o){return this.getTargetOption(o,"position")||this.state.position}},{key:"getMouseTrackPosition",value:function(o){var m=this.getTargetOption(o,"mousetracktop")||this.props.mouseTrackTop,y=this.getTargetOption(o,"mousetrackleft")||this.props.mouseTrackLeft;return{top:m,left:y}}},{key:"updateText",value:function(o,m){if(this.tooltipTextEl){var y=this.getTargetOption(o,"tooltip")||this.props.content;y?(this.tooltipTextEl.innerHTML="",this.tooltipTextEl.appendChild(document.createTextNode(y)),m()):this.props.children&&m()}}},{key:"show",value:function(o){var m=this;this.currentTarget=o.currentTarget;var y=this.isDisabled(this.currentTarget),c=this.isContentEmpty(this.isShowOnDisabled(this.currentTarget)&&y?this.currentTarget.firstChild:this.currentTarget);if(!(c||y)){var i=function(){m.updateText(m.currentTarget,function(){m.props.autoZIndex&&!Je.get(m.containerEl)&&Je.set("tooltip",m.containerEl,Pe.autoZIndex,m.props.baseZIndex||Pe.zIndex.tooltip),m.containerEl.style.left="",m.containerEl.style.top="",m.isMouseTrack(m.currentTarget)&&!m.containerSize&&(m.containerSize={width:ue.getOuterWidth(m.containerEl),height:ue.getOuterHeight(m.containerEl)}),m.align(m.currentTarget,{x:o.pageX,y:o.pageY})})};this.state.visible?this.applyDelay("updateDelay",i):(this.sendCallback(this.props.onBeforeShow,{originalEvent:o,target:this.currentTarget}),this.applyDelay("showDelay",function(){m.setState({visible:!0,position:m.getPosition(m.currentTarget)},function(){i(),m.sendCallback(m.props.onShow,{originalEvent:o,target:m.currentTarget})}),m.bindDocumentResizeListener(),m.bindScrollListener(),ue.addClass(m.currentTarget,m.getTargetOption(m.currentTarget,"classname"))}))}}},{key:"hide",value:function(o){var m=this;this.clearTimeouts(),this.state.visible&&(ue.removeClass(this.currentTarget,this.getTargetOption(this.currentTarget,"classname")),this.sendCallback(this.props.onBeforeHide,{originalEvent:o,target:this.currentTarget}),this.applyDelay("hideDelay",function(){Je.clear(m.containerEl),ue.removeClass(m.containerEl,"p-tooltip-active"),!(!m.isAutoHide()&&m.allowHide===!1)&&m.setState({visible:!1,position:m.props.position},function(){m.tooltipTextEl&&Bt.unmountComponentAtNode(m.tooltipTextEl),m.unbindDocumentResizeListener(),m.unbindScrollListener(),m.currentTarget=null,m.scrollHandler=null,m.containerSize=null,m.allowHide=!0,m.sendCallback(m.props.onHide,{originalEvent:o,target:m.currentTarget})})}))}},{key:"align",value:function(o,m){var y=this,c=0,i=0;if(this.isMouseTrack(o)&&m){var h={width:ue.getOuterWidth(this.containerEl),height:ue.getOuterHeight(this.containerEl)};c=m.x,i=m.y;var d=this.getMouseTrackPosition(o),l=d.top,u=d.left;switch(this.state.position){case"left":c-=h.width+u,i-=h.height/2-l;break;case"right":c+=u,i-=h.height/2-l;break;case"top":c-=h.width/2-u,i-=h.height+l;break;case"bottom":c-=h.width/2-u,i+=l;break}c<=0||this.containerSize.width>h.width?(this.containerEl.style.left="0px",this.containerEl.style.right=window.innerWidth-h.width-c+"px"):(this.containerEl.style.right="",this.containerEl.style.left=c+"px"),this.containerEl.style.top=i+"px",ue.addClass(this.containerEl,"p-tooltip-active")}else{var a=ue.findCollisionPosition(this.state.position),f=this.getTargetOption(o,"my")||this.props.my||a.my,g=this.getTargetOption(o,"at")||this.props.at||a.at;this.containerEl.style.padding="0px",ue.flipfitCollision(this.containerEl,o,f,g,function(s){var p=s.at,v=p.x,_=p.y,C=s.my.x,S=y.props.at?v!=="center"&&v!==C?v:_:s.at["".concat(a.axis)];y.containerEl.style.padding="",y.setState({position:S},function(){y.updateContainerPosition(),ue.addClass(y.containerEl,"p-tooltip-active")})})}}},{key:"updateContainerPosition",value:function(){if(this.containerEl){var o=getComputedStyle(this.containerEl);this.state.position==="left"?this.containerEl.style.left=parseFloat(o.left)-parseFloat(o.paddingLeft)*2+"px":this.state.position==="top"&&(this.containerEl.style.top=parseFloat(o.top)-parseFloat(o.paddingTop)*2+"px")}}},{key:"onMouseEnter",value:function(){this.isAutoHide()||(this.allowHide=!1)}},{key:"onMouseLeave",value:function(o){this.isAutoHide()||(this.allowHide=!0,this.hide(o))}},{key:"bindDocumentResizeListener",value:function(){var o=this;this.documentResizeListener=function(m){ue.isTouchDevice()||o.hide(m)},window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"bindScrollListener",value:function(){var o=this;this.scrollHandler||(this.scrollHandler=new Lg(this.currentTarget,function(m){o.state.visible&&o.hide(m)})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"bindTargetEvent",value:function(o){if(o){var m=this.getEvents(o),y=m.showEvent,c=m.hideEvent,i=this.getTarget(o);i.addEventListener(y,this.show),i.addEventListener(c,this.hide)}}},{key:"unbindTargetEvent",value:function(o){if(o){var m=this.getEvents(o),y=m.showEvent,c=m.hideEvent,i=this.getTarget(o);i.removeEventListener(y,this.show),i.removeEventListener(c,this.hide)}}},{key:"applyDelay",value:function(o,m){this.clearTimeouts();var y=this.getTargetOption(this.currentTarget,o.toLowerCase())||this.props[o];y?this["".concat(o,"Timeout")]=setTimeout(function(){return m()},y):m()}},{key:"sendCallback",value:function(o){if(o){for(var m=arguments.length,y=new Array(m>1?m-1:0),c=1;c<m;c++)y[c-1]=arguments[c];o.apply(void 0,y)}}},{key:"clearTimeouts",value:function(){clearTimeout(this.showDelayTimeout),clearTimeout(this.updateDelayTimeout),clearTimeout(this.hideDelayTimeout)}},{key:"getTarget",value:function(o){if(o){if(this.isShowOnDisabled(o)){var m=document.createElement("span");return o.parentNode.insertBefore(m,o),m.appendChild(o),m}return o}return null}},{key:"updateTargetEvents",value:function(o){this.unloadTargetEvents(o),this.loadTargetEvents(o)}},{key:"loadTargetEvents",value:function(o){this.setTargetEventOperations(o||this.props.target,"bindTargetEvent")}},{key:"unloadTargetEvents",value:function(o){this.setTargetEventOperations(o||this.props.target,"unbindTargetEvent")}},{key:"setTargetEventOperations",value:function(o,m){var y=this;if(o)if(ue.isElement(o))this[m](o);else{var c=function(h){var d=ue.find(document,h);d.forEach(function(l){y[m](l)})};o instanceof Array?o.forEach(function(i){c(i)}):c(o)}}},{key:"componentDidMount",value:function(){this.props.target&&this.loadTargetEvents()}},{key:"componentDidUpdate",value:function(o,m){var y=this;o.target!==this.props.target&&(this.unloadTargetEvents(o.target),this.loadTargetEvents()),this.state.visible&&(o.content!==this.props.content&&this.applyDelay("updateDelay",function(){y.updateText(y.currentTarget,function(){y.align(y.currentTarget)})}),this.currentTarget&&this.isDisabled(this.currentTarget)&&this.hide())}},{key:"componentWillUnmount",value:function(){this.clearTimeouts(),this.unbindDocumentResizeListener(),this.unloadTargetEvents(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),Je.clear(this.containerEl)}},{key:"renderElement",value:function(){var o=this,m=Le("p-tooltip p-component",ml({},"p-tooltip-".concat(this.state.position),!0),this.props.className),y=this.isTargetContentEmpty(this.currentTarget);return Ze("div",{id:this.props.id,ref:function(i){return o.containerEl=i},className:m,style:this.props.style,role:"tooltip","aria-hidden":this.state.visible,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[he("div",{className:"p-tooltip-arrow"}),he("div",{ref:function(i){return o.tooltipTextEl=i},className:"p-tooltip-text",children:y&&this.props.children})]})}},{key:"render",value:function(){if(this.state.visible){var o=this.renderElement();return he(wo,{element:o,appendTo:this.props.appendTo,visible:!0})}return null}}]),n}(ae.exports.Component);ml(Oh,"defaultProps",{id:null,target:null,content:null,disabled:!1,className:null,style:null,appendTo:null,position:"right",my:null,at:null,event:null,showEvent:"mouseenter",hideEvent:"mouseleave",autoZIndex:!0,baseZIndex:0,mouseTrack:!1,mouseTrackTop:5,mouseTrackLeft:5,showDelay:0,updateDelay:0,hideDelay:0,autoHide:!0,showOnDisabled:!1,onBeforeShow:null,onBeforeHide:null,onShow:null,onHide:null});var Um={},Wm={},Hm=Object.freeze(Object.defineProperty({__proto__:null,default:Wm},Symbol.toStringTag,{value:"Module"})),Jo=jh(Hm);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.2.1"};if(t.fabric=e,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Jo,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=r.document,e.jsdomImplForWrapper=Jo.implForWrapper,e.nodeCanvas=Jo.Canvas,e.window=r,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer!="undefined"&&typeof window=="undefined",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=e),function(){function c(a,f){if(!!this.__eventListeners[a]){var g=this.__eventListeners[a];f?g[g.indexOf(f)]=!1:e.util.array.fill(g,!1)}}function i(a,f){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in a)this.on(g,a[g]);else this.__eventListeners[a]||(this.__eventListeners[a]=[]),this.__eventListeners[a].push(f);return this}function h(a,f){var g=function(){f.apply(this,arguments),this.off(a,g)}.bind(this);this.on(a,g)}function d(a,f){if(arguments.length===1)for(var g in a)h.call(this,g,a[g]);else h.call(this,a,f);return this}function l(a,f){if(!this.__eventListeners)return this;if(arguments.length===0)for(a in this.__eventListeners)c.call(this,a);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in a)c.call(this,g,a[g]);else c.call(this,a,f);return this}function u(a,f){if(!this.__eventListeners)return this;var g=this.__eventListeners[a];if(!g)return this;for(var s=0,p=g.length;s<p;s++)g[s]&&g[s].call(this,f||{});return this.__eventListeners[a]=g.filter(function(v){return v!==!1}),this}e.Observable={fire:u,on:i,once:d,off:l}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var c=0,i=arguments.length;c<i;c++)this._onObjectAdded(arguments[c]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(c,i,h){var d=this._objects;return h?d[i]=c:d.splice(i,0,c),this._onObjectAdded&&this._onObjectAdded(c),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var c=this._objects,i,h=!1,d=0,l=arguments.length;d<l;d++)i=c.indexOf(arguments[d]),i!==-1&&(h=!0,c.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(c,i){for(var h=this.getObjects(),d=0,l=h.length;d<l;d++)c.call(i,h[d],d,h);return this},getObjects:function(c){return typeof c=="undefined"?this._objects.concat():this._objects.filter(function(i){return i.type===c})},item:function(c){return this._objects[c]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(c,i){return this._objects.indexOf(c)>-1?!0:i?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(c,!0)}):!1},complexity:function(){return this._objects.reduce(function(c,i){return c+=i.complexity?i.complexity():0,c},0)}},e.CommonMethods={_setOptions:function(c){for(var i in c)this.set(i,c[i])},_initGradient:function(c,i){c&&c.colorStops&&!(c instanceof e.Gradient)&&this.set(i,new e.Gradient(c))},_initPattern:function(c,i,h){c&&c.source&&!(c instanceof e.Pattern)?this.set(i,new e.Pattern(c,h)):h&&h()},_setObject:function(c){for(var i in c)this._set(i,c[i])},set:function(c,i){return typeof c=="object"?this._setObject(c):this._set(c,i),this},_set:function(c,i){this[c]=i},toggle:function(c){var i=this.get(c);return typeof i=="boolean"&&this.set(c,!i),this},get:function(c){return this[c]}},function(c){var i=Math.sqrt,h=Math.atan2,d=Math.pow,l=Math.PI/180,u=Math.PI/2;e.util={cos:function(a){if(a===0)return 1;a<0&&(a=-a);var f=a/u;switch(f){case 1:case 3:return 0;case 2:return-1}return Math.cos(a)},sin:function(a){if(a===0)return 0;var f=a/u,g=1;switch(a<0&&(g=-1),f){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(a)},removeFromArray:function(a,f){var g=a.indexOf(f);return g!==-1&&a.splice(g,1),a},getRandomInt:function(a,f){return Math.floor(Math.random()*(f-a+1))+a},degreesToRadians:function(a){return a*l},radiansToDegrees:function(a){return a/l},rotatePoint:function(a,f,g){var s=new e.Point(a.x-f.x,a.y-f.y),p=e.util.rotateVector(s,g);return new e.Point(p.x,p.y).addEquals(f)},rotateVector:function(a,f){var g=e.util.sin(f),s=e.util.cos(f),p=a.x*s-a.y*g,v=a.x*g+a.y*s;return{x:p,y:v}},createVector:function(a,f){return new e.Point(f.x-a.x,f.y-a.y)},calcAngleBetweenVectors:function(a,f){return Math.acos((a.x*f.x+a.y*f.y)/(Math.hypot(a.x,a.y)*Math.hypot(f.x,f.y)))},getHatVector:function(a){return new e.Point(a.x,a.y).multiply(1/Math.hypot(a.x,a.y))},getBisector:function(a,f,g){var s=e.util.createVector(a,f),p=e.util.createVector(a,g),v=e.util.calcAngleBetweenVectors(s,p),_=e.util.calcAngleBetweenVectors(e.util.rotateVector(s,v),p),C=v*(_===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(s,C)),angle:v}},projectStrokeOnPoints:function(a,f,g){var s=[],p=f.strokeWidth/2,v=f.strokeUniform?new e.Point(1/f.scaleX,1/f.scaleY):new e.Point(1,1),_=function(C){var S=p/Math.hypot(C.x,C.y);return new e.Point(C.x*S*v.x,C.y*S*v.y)};return a.length<=1||a.forEach(function(C,S){var w=new e.Point(C.x,C.y),E,O;S===0?(O=a[S+1],E=g?_(e.util.createVector(O,w)).addEquals(w):a[a.length-1]):S===a.length-1?(E=a[S-1],O=g?_(e.util.createVector(E,w)).addEquals(w):a[0]):(E=a[S-1],O=a[S+1]);var R=e.util.getBisector(w,E,O),F=R.vector,X=R.angle,G,$;if(f.strokeLineJoin==="miter"&&(G=-p/Math.sin(X/2),$=new e.Point(F.x*G*v.x,F.y*G*v.y),Math.hypot($.x,$.y)/p<=f.strokeMiterLimit)){s.push(w.add($)),s.push(w.subtract($));return}G=-p*Math.SQRT2,$=new e.Point(F.x*G*v.x,F.y*G*v.y),s.push(w.add($)),s.push(w.subtract($))}),s},transformPoint:function(a,f,g){return g?new e.Point(f[0]*a.x+f[2]*a.y,f[1]*a.x+f[3]*a.y):new e.Point(f[0]*a.x+f[2]*a.y+f[4],f[1]*a.x+f[3]*a.y+f[5])},makeBoundingBoxFromPoints:function(a,f){if(f)for(var g=0;g<a.length;g++)a[g]=e.util.transformPoint(a[g],f);var s=[a[0].x,a[1].x,a[2].x,a[3].x],p=e.util.array.min(s),v=e.util.array.max(s),_=v-p,C=[a[0].y,a[1].y,a[2].y,a[3].y],S=e.util.array.min(C),w=e.util.array.max(C),E=w-S;return{left:p,top:S,width:_,height:E}},invertTransform:function(a){var f=1/(a[0]*a[3]-a[1]*a[2]),g=[f*a[3],-f*a[1],-f*a[2],f*a[0]],s=e.util.transformPoint({x:a[4],y:a[5]},g,!0);return g[4]=-s.x,g[5]=-s.y,g},toFixed:function(a,f){return parseFloat(Number(a).toFixed(f))},parseUnit:function(a,f){var g=/\D{0,2}$/.exec(a),s=parseFloat(a);switch(f||(f=e.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return s*e.DPI/25.4;case"cm":return s*e.DPI/2.54;case"in":return s*e.DPI;case"pt":return s*e.DPI/72;case"pc":return s*e.DPI/72*12;case"em":return s*f;default:return s}},falseFunction:function(){return!1},getKlass:function(a,f){return a=e.util.string.camelize(a.charAt(0).toUpperCase()+a.slice(1)),e.util.resolveNamespace(f)[a]},getSvgAttributes:function(a){var f=["instantiated_by_use","style","id","class"];switch(a){case"linearGradient":f=f.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":f=f.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":f=f.concat(["offset","stop-color","stop-opacity"]);break}return f},resolveNamespace:function(a){if(!a)return e;var f=a.split("."),g=f.length,s,p=c||e.window;for(s=0;s<g;++s)p=p[f[s]];return p},loadImage:function(a,f,g,s){if(!a){f&&f.call(g,a);return}var p=e.util.createImage(),v=function(){f&&f.call(g,p,!1),p=p.onload=p.onerror=null};p.onload=v,p.onerror=function(){e.log("Error loading "+p.src),f&&f.call(g,null,!0),p=p.onload=p.onerror=null},a.indexOf("data")!==0&&s!==void 0&&s!==null&&(p.crossOrigin=s),a.substring(0,14)==="data:image/svg"&&(p.onload=null,e.util.loadImageInDom(p,v)),p.src=a},loadImageInDom:function(a,f){var g=e.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(a),e.document.querySelector("body").appendChild(g),a.onload=function(){f(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(a,f,g,s){a=a||[];var p=[],v=0,_=a.length;function C(){++v===_&&f&&f(p.filter(function(S){return S}))}if(!_){f&&f(p);return}a.forEach(function(S,w){if(!S||!S.type){C();return}var E=e.util.getKlass(S.type,g);E.fromObject(S,function(O,R){R||(p[w]=O),s&&s(S,O,R),C()})})},enlivenObjectEnlivables:function(a,f,g){var s=e.Object.ENLIVEN_PROPS.filter(function(p){return!!a[p]});e.util.enlivenObjects(s.map(function(p){return a[p]}),function(p){var v={};s.forEach(function(_,C){v[_]=p[C],f&&(f[_]=p[C])}),g&&g(v)})},enlivenPatterns:function(a,f){a=a||[];function g(){++p===v&&f&&f(s)}var s=[],p=0,v=a.length;if(!v){f&&f(s);return}a.forEach(function(_,C){_&&_.source?new e.Pattern(_,function(S){s[C]=S,g()}):(s[C]=_,g())})},groupSVGElements:function(a,f,g){var s;return a&&a.length===1?a[0]:(f&&(f.width&&f.height?f.centerPoint={x:f.width/2,y:f.height/2}:(delete f.width,delete f.height)),s=new e.Group(a,f),typeof g!="undefined"&&(s.sourcePath=g),s)},populateWithProperties:function(a,f,g){if(g&&Array.isArray(g))for(var s=0,p=g.length;s<p;s++)g[s]in a&&(f[g[s]]=a[g[s]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(a){var f=e.util.createCanvasElement();return f.width=a.width,f.height=a.height,f.getContext("2d").drawImage(a,0,0),f},toDataURL:function(a,f,g){return a.toDataURL("image/"+f,g)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(a,f,g){return[a[0]*f[0]+a[2]*f[1],a[1]*f[0]+a[3]*f[1],a[0]*f[2]+a[2]*f[3],a[1]*f[2]+a[3]*f[3],g?0:a[0]*f[4]+a[2]*f[5]+a[4],g?0:a[1]*f[4]+a[3]*f[5]+a[5]]},qrDecompose:function(a){var f=h(a[1],a[0]),g=d(a[0],2)+d(a[1],2),s=i(g),p=(a[0]*a[3]-a[2]*a[1])/s,v=h(a[0]*a[2]+a[1]*a[3],g);return{angle:f/l,scaleX:s,scaleY:p,skewX:v/l,skewY:0,translateX:a[4],translateY:a[5]}},calcRotateMatrix:function(a){if(!a.angle)return e.iMatrix.concat();var f=e.util.degreesToRadians(a.angle),g=e.util.cos(f),s=e.util.sin(f);return[g,s,-s,g,0,0]},calcDimensionsMatrix:function(a){var f=typeof a.scaleX=="undefined"?1:a.scaleX,g=typeof a.scaleY=="undefined"?1:a.scaleY,s=[a.flipX?-f:f,0,0,a.flipY?-g:g,0,0],p=e.util.multiplyTransformMatrices,v=e.util.degreesToRadians;return a.skewX&&(s=p(s,[1,0,Math.tan(v(a.skewX)),1],!0)),a.skewY&&(s=p(s,[1,Math.tan(v(a.skewY)),0,1],!0)),s},composeMatrix:function(a){var f=[1,0,0,1,a.translateX||0,a.translateY||0],g=e.util.multiplyTransformMatrices;return a.angle&&(f=g(f,e.util.calcRotateMatrix(a))),(a.scaleX!==1||a.scaleY!==1||a.skewX||a.skewY||a.flipX||a.flipY)&&(f=g(f,e.util.calcDimensionsMatrix(a))),f},resetObjectTransform:function(a){a.scaleX=1,a.scaleY=1,a.skewX=0,a.skewY=0,a.flipX=!1,a.flipY=!1,a.rotate(0)},saveObjectTransform:function(a){return{scaleX:a.scaleX,scaleY:a.scaleY,skewX:a.skewX,skewY:a.skewY,angle:a.angle,left:a.left,flipX:a.flipX,flipY:a.flipY,top:a.top}},isTransparent:function(a,f,g,s){s>0&&(f>s?f-=s:f=0,g>s?g-=s:g=0);var p=!0,v,_,C=a.getImageData(f,g,s*2||1,s*2||1),S=C.data.length;for(v=3;v<S&&(_=C.data[v],p=_<=0,p!==!1);v+=4);return C=null,p},parsePreserveAspectRatioAttribute:function(a){var f="meet",g="Mid",s="Mid",p=a.split(" "),v;return p&&p.length&&(f=p.pop(),f!=="meet"&&f!=="slice"?(v=f,f="meet"):p.length&&(v=p.pop())),g=v!=="none"?v.slice(1,4):"none",s=v!=="none"?v.slice(5,8):"none",{meetOrSlice:f,alignX:g,alignY:s}},clearFabricFontCache:function(a){a=(a||"").toLowerCase(),a?e.charWidthsCache[a]&&delete e.charWidthsCache[a]:e.charWidthsCache={}},limitDimsByArea:function(a,f){var g=Math.sqrt(f*a),s=Math.floor(f/g);return{x:Math.floor(g),y:s}},capValue:function(a,f,g){return Math.max(a,Math.min(f,g))},findScaleToFit:function(a,f){return Math.min(f.width/a.width,f.height/a.height)},findScaleToCover:function(a,f){return Math.max(f.width/a.width,f.height/a.height)},matrixToSVG:function(a){return"matrix("+a.map(function(f){return e.util.toFixed(f,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(a,f){var g=e.util.invertTransform(f),s=e.util.multiplyTransformMatrices(g,a.calcOwnMatrix());e.util.applyTransformToObject(a,s)},addTransformToObject:function(a,f){e.util.applyTransformToObject(a,e.util.multiplyTransformMatrices(f,a.calcOwnMatrix()))},applyTransformToObject:function(a,f){var g=e.util.qrDecompose(f),s=new e.Point(g.translateX,g.translateY);a.flipX=!1,a.flipY=!1,a.set("scaleX",g.scaleX),a.set("scaleY",g.scaleY),a.skewX=g.skewX,a.skewY=g.skewY,a.angle=g.angle,a.setPositionByOrigin(s,"center","center")},sizeAfterTransform:function(a,f,g){var s=a/2,p=f/2,v=[{x:-s,y:-p},{x:s,y:-p},{x:-s,y:p},{x:s,y:p}],_=e.util.calcDimensionsMatrix(g),C=e.util.makeBoundingBoxFromPoints(v,_);return{x:C.width,y:C.height}},mergeClipPaths:function(a,f){var g=a,s=f;g.inverted&&!s.inverted&&(g=f,s=a),e.util.applyTransformToObject(s,e.util.multiplyTransformMatrices(e.util.invertTransform(g.calcTransformMatrix()),s.calcTransformMatrix()));var p=g.inverted&&s.inverted;return p&&(g.inverted=s.inverted=!1),new e.Group([g],{clipPath:s,inverted:p})}}}(t),function(){var c=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function d(T,D,b,k,L,P,x,A,M,U,j){var V=e.util.cos(T),q=e.util.sin(T),J=e.util.cos(D),N=e.util.sin(D),I=b*L*J-k*P*N+x,H=k*L*J+b*P*N+A,z=U+M*(-b*L*q-k*P*V),B=j+M*(-k*L*q+b*P*V),Y=I+M*(b*L*N+k*P*J),ee=H+M*(k*L*N-b*P*J);return["C",z,B,Y,ee,I,H]}function l(T,D,b,k,L,P,x){var A=Math.PI,M=x*A/180,U=e.util.sin(M),j=e.util.cos(M),V=0,q=0;b=Math.abs(b),k=Math.abs(k);var J=-j*T*.5-U*D*.5,N=-j*D*.5+U*T*.5,I=b*b,H=k*k,z=N*N,B=J*J,Y=I*H-I*z-H*B,ee=0;if(Y<0){var ce=Math.sqrt(1-Y/(I*H));b*=ce,k*=ce}else ee=(L===P?-1:1)*Math.sqrt(Y/(I*z+H*B));var oe=ee*b*N/k,W=-ee*k*J/b,se=j*oe-U*W+T*.5,fe=U*oe+j*W+D*.5,de=u(1,0,(J-oe)/b,(N-W)/k),_e=u((J-oe)/b,(N-W)/k,(-J-oe)/b,(-N-W)/k);P===0&&_e>0?_e-=2*A:P===1&&_e<0&&(_e+=2*A);for(var ge=Math.ceil(Math.abs(_e/A*2)),We=[],Te=_e/ge,Gt=8/3*Math.sin(Te/4)*Math.sin(Te/4)/Math.sin(Te/2),Zn=de+Te,lt=0;lt<ge;lt++)We[lt]=d(de,Zn,j,U,b,k,se,fe,Gt,V,q),V=We[lt][5],q=We[lt][6],de=Zn,Zn+=Te;return We}function u(T,D,b,k){var L=Math.atan2(D,T),P=Math.atan2(k,b);return P>=L?P-L:2*Math.PI-(L-P)}function a(T,D,b,k,L,P,x,A){var M;if(e.cachesBoundsOfCurve&&(M=c.call(arguments),e.boundsOfCurveCache[M]))return e.boundsOfCurveCache[M];var U=Math.sqrt,j=Math.min,V=Math.max,q=Math.abs,J=[],N=[[],[]],I,H,z,B,Y,ee,ce,oe;H=6*T-12*b+6*L,I=-3*T+9*b-9*L+3*x,z=3*b-3*T;for(var W=0;W<2;++W){if(W>0&&(H=6*D-12*k+6*P,I=-3*D+9*k-9*P+3*A,z=3*k-3*D),q(I)<1e-12){if(q(H)<1e-12)continue;B=-z/H,0<B&&B<1&&J.push(B);continue}ce=H*H-4*z*I,!(ce<0)&&(oe=U(ce),Y=(-H+oe)/(2*I),0<Y&&Y<1&&J.push(Y),ee=(-H-oe)/(2*I),0<ee&&ee<1&&J.push(ee))}for(var se,fe,de=J.length,_e=de,ge;de--;)B=J[de],ge=1-B,se=ge*ge*ge*T+3*ge*ge*B*b+3*ge*B*B*L+B*B*B*x,N[0][de]=se,fe=ge*ge*ge*D+3*ge*ge*B*k+3*ge*B*B*P+B*B*B*A,N[1][de]=fe;N[0][_e]=T,N[1][_e]=D,N[0][_e+1]=x,N[1][_e+1]=A;var We=[{x:j.apply(null,N[0]),y:j.apply(null,N[1])},{x:V.apply(null,N[0]),y:V.apply(null,N[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[M]=We),We}function f(T,D,b){for(var k=b[1],L=b[2],P=b[3],x=b[4],A=b[5],M=b[6],U=b[7],j=l(M-T,U-D,k,L,x,A,P),V=0,q=j.length;V<q;V++)j[V][1]+=T,j[V][2]+=D,j[V][3]+=T,j[V][4]+=D,j[V][5]+=T,j[V][6]+=D;return j}function g(T){var D=0,b=0,k=T.length,L=0,P=0,x,A,M,U=[],j,V,q;for(A=0;A<k;++A){switch(M=!1,x=T[A].slice(0),x[0]){case"l":x[0]="L",x[1]+=D,x[2]+=b;case"L":D=x[1],b=x[2];break;case"h":x[1]+=D;case"H":x[0]="L",x[2]=b,D=x[1];break;case"v":x[1]+=b;case"V":x[0]="L",b=x[1],x[1]=D,x[2]=b;break;case"m":x[0]="M",x[1]+=D,x[2]+=b;case"M":D=x[1],b=x[2],L=x[1],P=x[2];break;case"c":x[0]="C",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b,x[5]+=D,x[6]+=b;case"C":V=x[3],q=x[4],D=x[5],b=x[6];break;case"s":x[0]="S",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b;case"S":j==="C"?(V=2*D-V,q=2*b-q):(V=D,q=b),D=x[3],b=x[4],x[0]="C",x[5]=x[3],x[6]=x[4],x[3]=x[1],x[4]=x[2],x[1]=V,x[2]=q,V=x[3],q=x[4];break;case"q":x[0]="Q",x[1]+=D,x[2]+=b,x[3]+=D,x[4]+=b;case"Q":V=x[1],q=x[2],D=x[3],b=x[4];break;case"t":x[0]="T",x[1]+=D,x[2]+=b;case"T":j==="Q"?(V=2*D-V,q=2*b-q):(V=D,q=b),x[0]="Q",D=x[1],b=x[2],x[1]=V,x[2]=q,x[3]=D,x[4]=b;break;case"a":x[0]="A",x[6]+=D,x[7]+=b;case"A":M=!0,U=U.concat(f(D,b,x)),D=x[6],b=x[7];break;case"z":case"Z":D=L,b=P;break}M||U.push(x),j=x[0]}return U}function s(T,D,b,k){return Math.sqrt((b-T)*(b-T)+(k-D)*(k-D))}function p(T){return T*T*T}function v(T){return 3*T*T*(1-T)}function _(T){return 3*T*(1-T)*(1-T)}function C(T){return(1-T)*(1-T)*(1-T)}function S(T,D,b,k,L,P,x,A){return function(M){var U=p(M),j=v(M),V=_(M),q=C(M);return{x:x*U+L*j+b*V+T*q,y:A*U+P*j+k*V+D*q}}}function w(T,D,b,k,L,P,x,A){return function(M){var U=1-M,j=3*U*U*(b-T)+6*U*M*(L-b)+3*M*M*(x-L),V=3*U*U*(k-D)+6*U*M*(P-k)+3*M*M*(A-P);return Math.atan2(V,j)}}function E(T){return T*T}function O(T){return 2*T*(1-T)}function R(T){return(1-T)*(1-T)}function F(T,D,b,k,L,P){return function(x){var A=E(x),M=O(x),U=R(x);return{x:L*A+b*M+T*U,y:P*A+k*M+D*U}}}function X(T,D,b,k,L,P){return function(x){var A=1-x,M=2*A*(b-T)+2*x*(L-b),U=2*A*(k-D)+2*x*(P-k);return Math.atan2(U,M)}}function G(T,D,b){var k={x:D,y:b},L,P=0,x;for(x=1;x<=100;x+=1)L=T(x/100),P+=s(k.x,k.y,L.x,L.y),k=L;return P}function $(T,D){for(var b=0,k=0,L=T.iterator,P={x:T.x,y:T.y},x,A,M=.01,U=T.angleFinder,j;k<D&&M>1e-4;)x=L(b),j=b,A=s(P.x,P.y,x.x,x.y),A+k>D?(b-=M,M/=2):(P=x,b+=M,k+=A);return x.angle=U(j),x}function Q(T){for(var D=0,b=T.length,k,L=0,P=0,x=0,A=0,M=[],U,j,V,q=0;q<b;q++){switch(k=T[q],j={x:L,y:P,command:k[0]},k[0]){case"M":j.length=0,x=L=k[1],A=P=k[2];break;case"L":j.length=s(L,P,k[1],k[2]),L=k[1],P=k[2];break;case"C":U=S(L,P,k[1],k[2],k[3],k[4],k[5],k[6]),V=w(L,P,k[1],k[2],k[3],k[4],k[5],k[6]),j.iterator=U,j.angleFinder=V,j.length=G(U,L,P),L=k[5],P=k[6];break;case"Q":U=F(L,P,k[1],k[2],k[3],k[4]),V=X(L,P,k[1],k[2],k[3],k[4]),j.iterator=U,j.angleFinder=V,j.length=G(U,L,P),L=k[3],P=k[4];break;case"Z":case"z":j.destX=x,j.destY=A,j.length=s(L,P,x,A),L=x,P=A;break}D+=j.length,M.push(j)}return M.push({length:D,x:L,y:P}),M}function K(T,D,b){b||(b=Q(T));for(var k=0;D-b[k].length>0&&k<b.length-2;)D-=b[k].length,k++;var L=b[k],P=D/L.length,x=L.command,A=T[k],M;switch(x){case"M":return{x:L.x,y:L.y,angle:0};case"Z":case"z":return M=new e.Point(L.x,L.y).lerp(new e.Point(L.destX,L.destY),P),M.angle=Math.atan2(L.destY-L.y,L.destX-L.x),M;case"L":return M=new e.Point(L.x,L.y).lerp(new e.Point(A[1],A[2]),P),M.angle=Math.atan2(A[2]-L.y,A[1]-L.x),M;case"C":return $(L,D);case"Q":return $(L,D)}}function te(T){var D=[],b=[],k,L,P=e.rePathCommand,x="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",A="("+x+")"+e.commaWsp,M="([01])"+e.commaWsp+"?",U=A+"?"+A+"?"+A+M+M+A+"?("+x+")",j=new RegExp(U,"g"),V,q,J;if(!T||!T.match)return D;J=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var N=0,I,H=J.length;N<H;N++){k=J[N],q=k.slice(1).trim(),b.length=0;var z=k.charAt(0);if(I=[z],z.toLowerCase()==="a")for(var B;B=j.exec(q);)for(var Y=1;Y<B.length;Y++)b.push(B[Y]);else for(;V=P.exec(q);)b.push(V[0]);for(var Y=0,ee=b.length;Y<ee;Y++)L=parseFloat(b[Y]),isNaN(L)||I.push(L);var ce=i[z.toLowerCase()],oe=h[z]||z;if(I.length-1>ce)for(var W=1,se=I.length;W<se;W+=ce)D.push([z].concat(I.slice(W,W+ce))),z=oe;else D.push(I)}return D}function re(T,D){var b=[],k,L=new e.Point(T[0].x,T[0].y),P=new e.Point(T[1].x,T[1].y),x=T.length,A=1,M=0,U=x>2;for(D=D||0,U&&(A=T[2].x<P.x?-1:T[2].x===P.x?0:1,M=T[2].y<P.y?-1:T[2].y===P.y?0:1),b.push(["M",L.x-A*D,L.y-M*D]),k=1;k<x;k++){if(!L.eq(P)){var j=L.midPointFrom(P);b.push(["Q",L.x,L.y,j.x,j.y])}L=T[k],k+1<T.length&&(P=T[k+1])}return U&&(A=L.x>T[k-2].x?1:L.x===T[k-2].x?0:-1,M=L.y>T[k-2].y?1:L.y===T[k-2].y?0:-1),b.push(["L",L.x+A*D,L.y+M*D]),b}function ne(T,D,b){return b&&(D=e.util.multiplyTransformMatrices(D,[1,0,0,1,-b.x,-b.y])),T.map(function(k){for(var L=k.slice(0),P={},x=1;x<k.length-1;x+=2)P.x=k[x],P.y=k[x+1],P=e.util.transformPoint(P,D),L[x]=P.x,L[x+1]=P.y;return L})}e.util.joinPath=function(T){return T.map(function(D){return D.join(" ")}).join(" ")},e.util.parsePath=te,e.util.makePathSimpler=g,e.util.getSmoothPathFromPoints=re,e.util.getPathSegmentsInfo=Q,e.util.getBoundsOfCurve=a,e.util.getPointOnPath=K,e.util.transformPath=ne}(),function(){var c=Array.prototype.slice;function i(a,f){for(var g=c.call(arguments,2),s=[],p=0,v=a.length;p<v;p++)s[p]=g.length?a[p][f].apply(a[p],g):a[p][f].call(a[p]);return s}function h(a,f){return u(a,f,function(g,s){return g>=s})}function d(a,f){return u(a,f,function(g,s){return g<s})}function l(a,f){for(var g=a.length;g--;)a[g]=f;return a}function u(a,f,g){if(!(!a||a.length===0)){var s=a.length-1,p=f?a[s][f]:a[s];if(f)for(;s--;)g(a[s][f],p)&&(p=a[s][f]);else for(;s--;)g(a[s],p)&&(p=a[s]);return p}}e.util.array={fill:l,invoke:i,min:d,max:h}}(),function(){function c(h,d,l){if(l)if(!e.isLikelyNode&&d instanceof Element)h=d;else if(d instanceof Array){h=[];for(var u=0,a=d.length;u<a;u++)h[u]=c({},d[u],l)}else if(d&&typeof d=="object")for(var f in d)f==="canvas"||f==="group"?h[f]=null:d.hasOwnProperty(f)&&(h[f]=c({},d[f],l));else h=d;else for(var f in d)h[f]=d[f];return h}function i(h,d){return c({},h,d)}e.util.object={extend:c,clone:i},e.util.object.extend(e.util,e.Observable)}(),function(){function c(u){return u.replace(/-+(.)?/g,function(a,f){return f?f.toUpperCase():""})}function i(u,a){return u.charAt(0).toUpperCase()+(a?u.slice(1):u.slice(1).toLowerCase())}function h(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(u){var a=0,f,g=[];for(a=0,f;a<u.length;a++)(f=l(u,a))!==!1&&g.push(f);return g}function l(u,a){var f=u.charCodeAt(a);if(isNaN(f))return"";if(f<55296||f>57343)return u.charAt(a);if(55296<=f&&f<=56319){if(u.length<=a+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(a+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(a)+u.charAt(a+1)}if(a===0)throw"Low surrogate without preceding high surrogate";var s=u.charCodeAt(a-1);if(55296>s||s>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:c,capitalize:i,escapeXml:h,graphemeSplit:d}}(),function(){var c=Array.prototype.slice,i=function(){},h=function(){for(var f in{toString:1})if(f==="toString")return!1;return!0}(),d=function(f,g,s){for(var p in g)p in f.prototype&&typeof f.prototype[p]=="function"&&(g[p]+"").indexOf("callSuper")>-1?f.prototype[p]=function(v){return function(){var _=this.constructor.superclass;this.constructor.superclass=s;var C=g[v].apply(this,arguments);if(this.constructor.superclass=_,v!=="initialize")return C}}(p):f.prototype[p]=g[p],h&&(g.toString!==Object.prototype.toString&&(f.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(f.prototype.valueOf=g.valueOf))};function l(){}function u(f){for(var g=null,s=this;s.constructor.superclass;){var p=s.constructor.superclass.prototype[f];if(s[f]!==p){g=p;break}s=s.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,c.call(arguments,1)):g.call(this):console.log("tried to callSuper "+f+", method not found in prototype chain",this)}function a(){var f=null,g=c.call(arguments,0);typeof g[0]=="function"&&(f=g.shift());function s(){this.initialize.apply(this,arguments)}s.superclass=f,s.subclasses=[],f&&(l.prototype=f.prototype,s.prototype=new l,f.subclasses.push(s));for(var p=0,v=g.length;p<v;p++)d(s,g[p],f);return s.prototype.initialize||(s.prototype.initialize=i),s.prototype.constructor=s,s.prototype.callSuper=u,s}e.util.createClass=a}(),function(){var c=!!e.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];e.util.addListener=function(d,l,u,a){d&&d.addEventListener(l,u,c?!1:a)},e.util.removeListener=function(d,l,u,a){d&&d.removeEventListener(l,u,c?!1:a)};function h(d){var l=d.changedTouches;return l&&l[0]?l[0]:d}e.util.getPointer=function(d){var l=d.target,u=e.util.getScrollLeftTop(l),a=h(d);return{x:a.clientX+u.left,y:a.clientY+u.top}},e.util.isTouchEvent=function(d){return i.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function c(a,f){var g=a.style;if(!g)return a;if(typeof f=="string")return a.style.cssText+=";"+f,f.indexOf("opacity")>-1?u(a,f.match(/opacity:\s*(\d?\.?\d*)/)[1]):a;for(var s in f)if(s==="opacity")u(a,f[s]);else{var p=s==="float"||s==="cssFloat"?typeof g.styleFloat=="undefined"?"cssFloat":"styleFloat":s;g[p]=f[s]}return a}var i=e.document.createElement("div"),h=typeof i.style.opacity=="string",d=typeof i.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(a){return a};h?u=function(a,f){return a.style.opacity=f,a}:d&&(u=function(a,f){var g=a.style;return a.currentStyle&&!a.currentStyle.hasLayout&&(g.zoom=1),l.test(g.filter)?(f=f>=.9999?"":"alpha(opacity="+f*100+")",g.filter=g.filter.replace(l,f)):g.filter+=" alpha(opacity="+f*100+")",a}),e.util.setStyle=c}(),function(){var c=Array.prototype.slice;function i(C){return typeof C=="string"?e.document.getElementById(C):C}var h,d=function(C){return c.call(C,0)};try{h=d(e.document.childNodes)instanceof Array}catch{}h||(d=function(C){for(var S=new Array(C.length),w=C.length;w--;)S[w]=C[w];return S});function l(C,S){var w=e.document.createElement(C);for(var E in S)E==="class"?w.className=S[E]:E==="for"?w.htmlFor=S[E]:w.setAttribute(E,S[E]);return w}function u(C,S){C&&(" "+C.className+" ").indexOf(" "+S+" ")===-1&&(C.className+=(C.className?" ":"")+S)}function a(C,S,w){return typeof S=="string"&&(S=l(S,w)),C.parentNode&&C.parentNode.replaceChild(S,C),S.appendChild(C),S}function f(C){for(var S=0,w=0,E=e.document.documentElement,O=e.document.body||{scrollLeft:0,scrollTop:0};C&&(C.parentNode||C.host)&&(C=C.parentNode||C.host,C===e.document?(S=O.scrollLeft||E.scrollLeft||0,w=O.scrollTop||E.scrollTop||0):(S+=C.scrollLeft||0,w+=C.scrollTop||0),!(C.nodeType===1&&C.style.position==="fixed")););return{left:S,top:w}}function g(C){var S,w=C&&C.ownerDocument,E={left:0,top:0},O={left:0,top:0},R,F={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!w)return O;for(var X in F)O[F[X]]+=parseInt(s(C,X),10)||0;return S=w.documentElement,typeof C.getBoundingClientRect!="undefined"&&(E=C.getBoundingClientRect()),R=f(C),{left:E.left+R.left-(S.clientLeft||0)+O.left,top:E.top+R.top-(S.clientTop||0)+O.top}}var s;e.document.defaultView&&e.document.defaultView.getComputedStyle?s=function(C,S){var w=e.document.defaultView.getComputedStyle(C,null);return w?w[S]:void 0}:s=function(C,S){var w=C.style[S];return!w&&C.currentStyle&&(w=C.currentStyle[S]),w},function(){var C=e.document.documentElement.style,S="userSelect"in C?"userSelect":"MozUserSelect"in C?"MozUserSelect":"WebkitUserSelect"in C?"WebkitUserSelect":"KhtmlUserSelect"in C?"KhtmlUserSelect":"";function w(O){return typeof O.onselectstart!="undefined"&&(O.onselectstart=e.util.falseFunction),S?O.style[S]="none":typeof O.unselectable=="string"&&(O.unselectable="on"),O}function E(O){return typeof O.onselectstart!="undefined"&&(O.onselectstart=null),S?O.style[S]="":typeof O.unselectable=="string"&&(O.unselectable=""),O}e.util.makeElementUnselectable=w,e.util.makeElementSelectable=E}();function p(C){var S=e.jsdomImplForWrapper(C);return S._canvas||S._image}function v(C){if(!!e.isLikelyNode){var S=e.jsdomImplForWrapper(C);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function _(C,S){C.imageSmoothingEnabled=C.imageSmoothingEnabled||C.webkitImageSmoothingEnabled||C.mozImageSmoothingEnabled||C.msImageSmoothingEnabled||C.oImageSmoothingEnabled,C.imageSmoothingEnabled=S}e.util.setImageSmoothing=_,e.util.getById=i,e.util.toArray=d,e.util.addClass=u,e.util.makeElement=l,e.util.wrapElement=a,e.util.getScrollLeftTop=f,e.util.getElementOffset=g,e.util.getNodeCanvas=p,e.util.cleanUpJsdomNode=v}(),function(){function c(d,l){return d+(/\?/.test(d)?"&":"?")+l}function i(){}function h(d,l){l||(l={});var u=l.method?l.method.toUpperCase():"GET",a=l.onComplete||function(){},f=new e.window.XMLHttpRequest,g=l.body||l.parameters;return f.onreadystatechange=function(){f.readyState===4&&(a(f),f.onreadystatechange=i)},u==="GET"&&(g=null,typeof l.parameters=="string"&&(d=c(d,l.parameters))),f.open(u,d,!0),(u==="POST"||u==="PUT")&&f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(g),f}e.util.request=h}(),e.log=console.log,e.warn=console.warn,function(){var c=e.util.object.extend,i=e.util.object.clone,h=[];e.util.object.extend(h,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(v){v.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var v=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===p});return v.forEach(function(_){_.cancel()}),v},cancelByTarget:function(p){var v=this.findAnimationsByTarget(p);return v.forEach(function(_){_.cancel()}),v},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(v){return v.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(v){return v.target===p}):[]}});function d(){return!1}function l(p,v,_,C){return-_*Math.cos(p/C*(Math.PI/2))+_+v}function u(p){p||(p={});var v=!1,_,C=function(){var S=e.runningAnimations.indexOf(_);return S>-1&&e.runningAnimations.splice(S,1)[0]};return _=c(i(p),{cancel:function(){return v=!0,C()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(_),g(function(S){var w=S||+new Date,E=p.duration||500,O=w+E,R,F=p.onChange||d,X=p.abort||d,G=p.onComplete||d,$=p.easing||l,Q="startValue"in p?p.startValue.length>0:!1,K="startValue"in p?p.startValue:0,te="endValue"in p?p.endValue:100,re=p.byValue||(Q?K.map(function(ne,T){return te[T]-K[T]}):te-K);p.onStart&&p.onStart(),function ne(T){R=T||+new Date;var D=R>O?E:R-w,b=D/E,k=Q?K.map(function(P,x){return $(D,K[x],re[x],E)}):$(D,K,re,E),L=Math.abs(Q?(k[0]-K[0])/re[0]:(k-K)/re);if(_.currentValue=Q?k.slice():k,_.completionRate=L,_.durationRate=b,!v){if(X(k,L,b)){C();return}if(R>O){_.currentValue=Q?te.slice():te,_.completionRate=1,_.durationRate=1,F(Q?te.slice():te,1,1),G(te,1,1),C();return}else F(k,L,b),g(ne)}}(w)}),_.cancel}var a=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(p){return e.window.setTimeout(p,1e3/60)},f=e.window.cancelAnimationFrame||e.window.clearTimeout;function g(){return a.apply(e.window,arguments)}function s(){return f.apply(e.window,arguments)}e.util.animate=u,e.util.requestAnimFrame=g,e.util.cancelAnimFrame=s,e.runningAnimations=h}(),function(){function c(h,d,l){var u="rgba("+parseInt(h[0]+l*(d[0]-h[0]),10)+","+parseInt(h[1]+l*(d[1]-h[1]),10)+","+parseInt(h[2]+l*(d[2]-h[2]),10);return u+=","+(h&&d?parseFloat(h[3]+l*(d[3]-h[3])):1),u+=")",u}function i(h,d,l,u){var a=new e.Color(h).getSource(),f=new e.Color(d).getSource(),g=u.onComplete,s=u.onChange;return u=u||{},e.util.animate(e.util.object.extend(u,{duration:l||500,startValue:a,endValue:f,byValue:f,easing:function(p,v,_,C){var S=u.colorEasing?u.colorEasing(p,C):1-Math.cos(p/C*(Math.PI/2));return c(v,_,S)},onComplete:function(p,v,_){if(g)return g(c(f,f,0),v,_)},onChange:function(p,v,_){if(s){if(Array.isArray(p))return s(c(p,p,0),v,_);s(p,v,_)}}}))}e.util.animateColor=i}(),function(){function c(T,D,b,k){return T<Math.abs(D)?(T=D,k=b/4):D===0&&T===0?k=b/(2*Math.PI)*Math.asin(1):k=b/(2*Math.PI)*Math.asin(D/T),{a:T,c:D,p:b,s:k}}function i(T,D,b){return T.a*Math.pow(2,10*(D-=1))*Math.sin((D*b-T.s)*(2*Math.PI)/T.p)}function h(T,D,b,k){return b*((T=T/k-1)*T*T+1)+D}function d(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T+D:b/2*((T-=2)*T*T+2)+D}function l(T,D,b,k){return b*(T/=k)*T*T*T+D}function u(T,D,b,k){return-b*((T=T/k-1)*T*T*T-1)+D}function a(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T*T+D:-b/2*((T-=2)*T*T*T-2)+D}function f(T,D,b,k){return b*(T/=k)*T*T*T*T+D}function g(T,D,b,k){return b*((T=T/k-1)*T*T*T*T+1)+D}function s(T,D,b,k){return T/=k/2,T<1?b/2*T*T*T*T*T+D:b/2*((T-=2)*T*T*T*T+2)+D}function p(T,D,b,k){return-b*Math.cos(T/k*(Math.PI/2))+b+D}function v(T,D,b,k){return b*Math.sin(T/k*(Math.PI/2))+D}function _(T,D,b,k){return-b/2*(Math.cos(Math.PI*T/k)-1)+D}function C(T,D,b,k){return T===0?D:b*Math.pow(2,10*(T/k-1))+D}function S(T,D,b,k){return T===k?D+b:b*(-Math.pow(2,-10*T/k)+1)+D}function w(T,D,b,k){return T===0?D:T===k?D+b:(T/=k/2,T<1?b/2*Math.pow(2,10*(T-1))+D:b/2*(-Math.pow(2,-10*--T)+2)+D)}function E(T,D,b,k){return-b*(Math.sqrt(1-(T/=k)*T)-1)+D}function O(T,D,b,k){return b*Math.sqrt(1-(T=T/k-1)*T)+D}function R(T,D,b,k){return T/=k/2,T<1?-b/2*(Math.sqrt(1-T*T)-1)+D:b/2*(Math.sqrt(1-(T-=2)*T)+1)+D}function F(T,D,b,k){var L=1.70158,P=0,x=b;if(T===0)return D;if(T/=k,T===1)return D+b;P||(P=k*.3);var A=c(x,b,P,L);return-i(A,T,k)+D}function X(T,D,b,k){var L=1.70158,P=0,x=b;if(T===0)return D;if(T/=k,T===1)return D+b;P||(P=k*.3);var A=c(x,b,P,L);return A.a*Math.pow(2,-10*T)*Math.sin((T*k-A.s)*(2*Math.PI)/A.p)+A.c+D}function G(T,D,b,k){var L=1.70158,P=0,x=b;if(T===0)return D;if(T/=k/2,T===2)return D+b;P||(P=k*(.3*1.5));var A=c(x,b,P,L);return T<1?-.5*i(A,T,k)+D:A.a*Math.pow(2,-10*(T-=1))*Math.sin((T*k-A.s)*(2*Math.PI)/A.p)*.5+A.c+D}function $(T,D,b,k,L){return L===void 0&&(L=1.70158),b*(T/=k)*T*((L+1)*T-L)+D}function Q(T,D,b,k,L){return L===void 0&&(L=1.70158),b*((T=T/k-1)*T*((L+1)*T+L)+1)+D}function K(T,D,b,k,L){return L===void 0&&(L=1.70158),T/=k/2,T<1?b/2*(T*T*(((L*=1.525)+1)*T-L))+D:b/2*((T-=2)*T*(((L*=1.525)+1)*T+L)+2)+D}function te(T,D,b,k){return b-re(k-T,0,b,k)+D}function re(T,D,b,k){return(T/=k)<1/2.75?b*(7.5625*T*T)+D:T<2/2.75?b*(7.5625*(T-=1.5/2.75)*T+.75)+D:T<2.5/2.75?b*(7.5625*(T-=2.25/2.75)*T+.9375)+D:b*(7.5625*(T-=2.625/2.75)*T+.984375)+D}function ne(T,D,b,k){return T<k/2?te(T*2,0,b,k)*.5+D:re(T*2-k,0,b,k)*.5+b*.5+D}e.util.ease={easeInQuad:function(T,D,b,k){return b*(T/=k)*T+D},easeOutQuad:function(T,D,b,k){return-b*(T/=k)*(T-2)+D},easeInOutQuad:function(T,D,b,k){return T/=k/2,T<1?b/2*T*T+D:-b/2*(--T*(T-2)-1)+D},easeInCubic:function(T,D,b,k){return b*(T/=k)*T*T+D},easeOutCubic:h,easeInOutCubic:d,easeInQuart:l,easeOutQuart:u,easeInOutQuart:a,easeInQuint:f,easeOutQuint:g,easeInOutQuint:s,easeInSine:p,easeOutSine:v,easeInOutSine:_,easeInExpo:C,easeOutExpo:S,easeInOutExpo:w,easeInCirc:E,easeOutCirc:O,easeInOutCirc:R,easeInElastic:F,easeOutElastic:X,easeInOutElastic:G,easeInBack:$,easeOutBack:Q,easeInOutBack:K,easeInBounce:te,easeOutBounce:re,easeInOutBounce:ne}}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.util.object.clone,l=i.util.toFixed,u=i.util.parseUnit,a=i.util.multiplyTransformMatrices,f=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],s=["pattern","defs","symbol","metadata","clipPath","mask","desc"],p=["symbol","g","a","svg","clipPath","defs"],v={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},C="font-size",S="clip-path";i.svgValidTagNamesRegEx=O(f),i.svgViewBoxElementsRegEx=O(g),i.svgInvalidAncestorsRegEx=O(s),i.svgValidParentsRegEx=O(p),i.cssRules={},i.gradientDefs={},i.clipPaths={};function w(P){return P in v?v[P]:P}function E(P,x,A,M){var U=Array.isArray(x),j;if((P==="fill"||P==="stroke")&&x==="none")x="";else{if(P==="strokeUniform")return x==="non-scaling-stroke";if(P==="strokeDashArray")x==="none"?x=null:x=x.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")A&&A.transformMatrix?x=a(A.transformMatrix,i.parseTransformAttribute(x)):x=i.parseTransformAttribute(x);else if(P==="visible")x=x!=="none"&&x!=="hidden",A&&A.visible===!1&&(x=!1);else if(P==="opacity")x=parseFloat(x),A&&typeof A.opacity!="undefined"&&(x*=A.opacity);else if(P==="textAnchor")x=x==="start"?"left":x==="end"?"right":"center";else if(P==="charSpacing")j=u(x,M)/M*1e3;else if(P==="paintFirst"){var V=x.indexOf("fill"),q=x.indexOf("stroke"),x="fill";(V>-1&&q>-1&&q<V||V===-1&&q>-1)&&(x="stroke")}else{if(P==="href"||P==="xlink:href"||P==="font")return x;if(P==="imageSmoothing")return x==="optimizeQuality";j=U?x.map(u):u(x,M)}}return!U&&isNaN(j)?x:j}function O(P){return new RegExp("^("+P.join("|")+")\\b","i")}function R(P){for(var x in _)if(!(typeof P[_[x]]=="undefined"||P[x]==="")){if(typeof P[x]=="undefined"){if(!i.Object.prototype[x])continue;P[x]=i.Object.prototype[x]}if(P[x].indexOf("url(")!==0){var A=new i.Color(P[x]);P[x]=A.setAlpha(l(A.getAlpha()*P[_[x]],2)).toRgba()}}return P}function F(P,x){var A,M=[],U,j,V;for(j=0,V=x.length;j<V;j++)A=x[j],U=P.getElementsByTagName(A),M=M.concat(Array.prototype.slice.call(U));return M}i.parseTransformAttribute=function(){function P(W,se){var fe=i.util.cos(se[0]),de=i.util.sin(se[0]),_e=0,ge=0;se.length===3&&(_e=se[1],ge=se[2]),W[0]=fe,W[1]=de,W[2]=-de,W[3]=fe,W[4]=_e-(fe*_e-de*ge),W[5]=ge-(de*_e+fe*ge)}function x(W,se){var fe=se[0],de=se.length===2?se[1]:se[0];W[0]=fe,W[3]=de}function A(W,se,fe){W[fe]=Math.tan(i.util.degreesToRadians(se[0]))}function M(W,se){W[4]=se[0],se.length===2&&(W[5]=se[1])}var U=i.iMatrix,j=i.reNum,V=i.commaWsp,q="(?:(skewX)\\s*\\(\\s*("+j+")\\s*\\))",J="(?:(skewY)\\s*\\(\\s*("+j+")\\s*\\))",N="(?:(rotate)\\s*\\(\\s*("+j+")(?:"+V+"("+j+")"+V+"("+j+"))?\\s*\\))",I="(?:(scale)\\s*\\(\\s*("+j+")(?:"+V+"("+j+"))?\\s*\\))",H="(?:(translate)\\s*\\(\\s*("+j+")(?:"+V+"("+j+"))?\\s*\\))",z="(?:(matrix)\\s*\\(\\s*("+j+")"+V+"("+j+")"+V+"("+j+")"+V+"("+j+")"+V+"("+j+")"+V+"("+j+")\\s*\\))",B="(?:"+z+"|"+H+"|"+I+"|"+N+"|"+q+"|"+J+")",Y="(?:"+B+"(?:"+V+"*"+B+")*)",ee="^\\s*(?:"+Y+"?)\\s*$",ce=new RegExp(ee),oe=new RegExp(B,"g");return function(W){var se=U.concat(),fe=[];if(!W||W&&!ce.test(W))return se;W.replace(oe,function(_e){var ge=new RegExp(B).exec(_e).filter(function(Gt){return!!Gt}),We=ge[1],Te=ge.slice(2).map(parseFloat);switch(We){case"translate":M(se,Te);break;case"rotate":Te[0]=i.util.degreesToRadians(Te[0]),P(se,Te);break;case"scale":x(se,Te);break;case"skewX":A(se,Te,2);break;case"skewY":A(se,Te,1);break;case"matrix":se=Te;break}fe.push(se.concat()),se=U.concat()});for(var de=fe[0];fe.length>1;)fe.shift(),de=i.util.multiplyTransformMatrices(de,fe[0]);return de}}();function X(P,x){var A,M;P.replace(/;\s*$/,"").split(";").forEach(function(U){var j=U.split(":");A=j[0].trim().toLowerCase(),M=j[1].trim(),x[A]=M})}function G(P,x){var A,M;for(var U in P)typeof P[U]!="undefined"&&(A=U.toLowerCase(),M=P[U],x[A]=M)}function $(P,x){var A={};for(var M in i.cssRules[x])if(Q(P,M.split(" ")))for(var U in i.cssRules[x][M])A[U]=i.cssRules[x][M][U];return A}function Q(P,x){var A,M=!0;return A=te(P,x.pop()),A&&x.length&&(M=K(P,x)),A&&M&&x.length===0}function K(P,x){for(var A,M=!0;P.parentNode&&P.parentNode.nodeType===1&&x.length;)M&&(A=x.pop()),P=P.parentNode,M=te(P,A);return x.length===0}function te(P,x){var A=P.nodeName,M=P.getAttribute("class"),U=P.getAttribute("id"),j,V;if(j=new RegExp("^"+A,"i"),x=x.replace(j,""),U&&x.length&&(j=new RegExp("#"+U+"(?![a-zA-Z\\-]+)","i"),x=x.replace(j,"")),M&&x.length)for(M=M.split(" "),V=M.length;V--;)j=new RegExp("\\."+M[V]+"(?![a-zA-Z\\-]+)","i"),x=x.replace(j,"");return x.length===0}function re(P,x){var A;if(P.getElementById&&(A=P.getElementById(x)),A)return A;var M,U,j,V=P.getElementsByTagName("*");for(U=0,j=V.length;U<j;U++)if(M=V[U],x===M.getAttribute("id"))return M}function ne(P){for(var x=F(P,["use","svg:use"]),A=0;x.length&&A<x.length;){var M=x[A],U=M.getAttribute("xlink:href")||M.getAttribute("href");if(U===null)return;var j=U.slice(1),V=M.getAttribute("x")||0,q=M.getAttribute("y")||0,J=re(P,j).cloneNode(!0),N=(J.getAttribute("transform")||"")+" translate("+V+", "+q+")",I,H=x.length,z,B,Y,ee,ce=i.svgNS;if(D(J),/^svg$/i.test(J.nodeName)){var oe=J.ownerDocument.createElementNS(ce,"g");for(B=0,Y=J.attributes,ee=Y.length;B<ee;B++)z=Y.item(B),oe.setAttributeNS(ce,z.nodeName,z.nodeValue);for(;J.firstChild;)oe.appendChild(J.firstChild);J=oe}for(B=0,Y=M.attributes,ee=Y.length;B<ee;B++)z=Y.item(B),!(z.nodeName==="x"||z.nodeName==="y"||z.nodeName==="xlink:href"||z.nodeName==="href")&&(z.nodeName==="transform"?N=z.nodeValue+" "+N:J.setAttribute(z.nodeName,z.nodeValue));J.setAttribute("transform",N),J.setAttribute("instantiated_by_use","1"),J.removeAttribute("id"),I=M.parentNode,I.replaceChild(J,M),x.length===H&&A++}}var T=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function D(P){if(!i.svgViewBoxElementsRegEx.test(P.nodeName))return{};var x=P.getAttribute("viewBox"),A=1,M=1,U=0,j=0,V,q,J,N,I=P.getAttribute("width"),H=P.getAttribute("height"),z=P.getAttribute("x")||0,B=P.getAttribute("y")||0,Y=P.getAttribute("preserveAspectRatio")||"",ee=!x||!(x=x.match(T)),ce=!I||!H||I==="100%"||H==="100%",oe=ee&&ce,W={},se="",fe=0,de=0;if(W.width=0,W.height=0,W.toBeParsed=oe,ee&&(z||B)&&P.parentNode&&P.parentNode.nodeName!=="#document"&&(se=" translate("+u(z)+" "+u(B)+") ",J=(P.getAttribute("transform")||"")+se,P.setAttribute("transform",J),P.removeAttribute("x"),P.removeAttribute("y")),oe)return W;if(ee)return W.width=u(I),W.height=u(H),W;if(U=-parseFloat(x[1]),j=-parseFloat(x[2]),V=parseFloat(x[3]),q=parseFloat(x[4]),W.minX=U,W.minY=j,W.viewBoxWidth=V,W.viewBoxHeight=q,ce?(W.width=V,W.height=q):(W.width=u(I),W.height=u(H),A=W.width/V,M=W.height/q),Y=i.util.parsePreserveAspectRatioAttribute(Y),Y.alignX!=="none"&&(Y.meetOrSlice==="meet"&&(M=A=A>M?M:A),Y.meetOrSlice==="slice"&&(M=A=A>M?A:M),fe=W.width-V*A,de=W.height-q*A,Y.alignX==="Mid"&&(fe/=2),Y.alignY==="Mid"&&(de/=2),Y.alignX==="Min"&&(fe=0),Y.alignY==="Min"&&(de=0)),A===1&&M===1&&U===0&&j===0&&z===0&&B===0)return W;if((z||B)&&P.parentNode.nodeName!=="#document"&&(se=" translate("+u(z)+" "+u(B)+") "),J=se+" matrix("+A+" 0 0 "+M+" "+(U*A+fe)+" "+(j*M+de)+") ",P.nodeName==="svg"){for(N=P.ownerDocument.createElementNS(i.svgNS,"g");P.firstChild;)N.appendChild(P.firstChild);P.appendChild(N)}else N=P,N.removeAttribute("x"),N.removeAttribute("y"),J=N.getAttribute("transform")+J;return N.setAttribute("transform",J),W}function b(P,x){for(;P&&(P=P.parentNode);)if(P.nodeName&&x.test(P.nodeName.replace("svg:",""))&&!P.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(P,x,A,M){if(!!P){ne(P);var U=i.Object.__uid++,j,V,q=D(P),J=i.util.toArray(P.getElementsByTagName("*"));if(q.crossOrigin=M&&M.crossOrigin,q.svgUid=U,J.length===0&&i.isLikelyNode){J=P.selectNodes('//*[name(.)!="svg"]');var N=[];for(j=0,V=J.length;j<V;j++)N[j]=J[j];J=N}var I=J.filter(function(z){return D(z),i.svgValidTagNamesRegEx.test(z.nodeName.replace("svg:",""))&&!b(z,i.svgInvalidAncestorsRegEx)});if(!I||I&&!I.length){x&&x([],{});return}var H={};J.filter(function(z){return z.nodeName.replace("svg:","")==="clipPath"}).forEach(function(z){var B=z.getAttribute("id");H[B]=i.util.toArray(z.getElementsByTagName("*")).filter(function(Y){return i.svgValidTagNamesRegEx.test(Y.nodeName.replace("svg:",""))})}),i.gradientDefs[U]=i.getGradientDefs(P),i.cssRules[U]=i.getCSSRules(P),i.clipPaths[U]=H,i.parseElements(I,function(z,B){x&&(x(z,q,B,J),delete i.gradientDefs[U],delete i.cssRules[U],delete i.clipPaths[U])},d(q),A,M)}};function k(P,x){var A=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],M="xlink:href",U=x.getAttribute(M).slice(1),j=re(P,U);if(j&&j.getAttribute(M)&&k(P,j),A.forEach(function(q){j&&!x.hasAttribute(q)&&j.hasAttribute(q)&&x.setAttribute(q,j.getAttribute(q))}),!x.children.length)for(var V=j.cloneNode(!0);V.firstChild;)x.appendChild(V.firstChild);x.removeAttribute(M)}var L=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");h(i,{parseFontDeclaration:function(P,x){var A=P.match(L);if(!!A){var M=A[1],U=A[3],j=A[4],V=A[5],q=A[6];M&&(x.fontStyle=M),U&&(x.fontWeight=isNaN(parseFloat(U))?U:parseFloat(U)),j&&(x.fontSize=u(j)),q&&(x.fontFamily=q),V&&(x.lineHeight=V==="normal"?1:V)}},getGradientDefs:function(P){var x=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],A=F(P,x),M,U=0,j={};for(U=A.length;U--;)M=A[U],M.getAttribute("xlink:href")&&k(P,M),j[M.getAttribute("id")]=M;return j},parseAttributes:function(P,x,A){if(!!P){var M,U={},j,V;typeof A=="undefined"&&(A=P.getAttribute("svgUid")),P.parentNode&&i.svgValidParentsRegEx.test(P.parentNode.nodeName)&&(U=i.parseAttributes(P.parentNode,x,A));var q=x.reduce(function(Y,ee){return M=P.getAttribute(ee),M&&(Y[ee]=M),Y},{}),J=h($(P,A),i.parseStyleAttribute(P));q=h(q,J),J[S]&&P.setAttribute(S,J[S]),j=V=U.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,q[C]&&(q[C]=j=u(q[C],V));var N,I,H={};for(var z in q)N=w(z),I=E(N,q[z],U,j),H[N]=I;H&&H.font&&i.parseFontDeclaration(H.font,H);var B=h(U,H);return i.svgValidParentsRegEx.test(P.nodeName)?B:R(B)}},parseElements:function(P,x,A,M,U){new i.ElementsParser(P,x,A,M,U).parse()},parseStyleAttribute:function(P){var x={},A=P.getAttribute("style");return A&&(typeof A=="string"?X(A,x):G(A,x)),x},parsePointsAttribute:function(P){if(!P)return null;P=P.replace(/,/g," ").trim(),P=P.split(/\s+/);var x=[],A,M;for(A=0,M=P.length;A<M;A+=2)x.push({x:parseFloat(P[A]),y:parseFloat(P[A+1])});return x},getCSSRules:function(P){var x=P.getElementsByTagName("style"),A,M,U={},j;for(A=0,M=x.length;A<M;A++){var V=x[A].textContent;V=V.replace(/\/\*[\s\S]*?\*\//g,""),V.trim()!==""&&(j=V.split("}"),j=j.filter(function(q){return q.trim()}),j.forEach(function(q){var J=q.split("{"),N={},I=J[1].trim(),H=I.split(";").filter(function(ee){return ee.trim()});for(A=0,M=H.length;A<M;A++){var z=H[A].split(":"),B=z[0].trim(),Y=z[1].trim();N[B]=Y}q=J[0].trim(),q.split(",").forEach(function(ee){ee=ee.replace(/^svg/i,"").trim(),ee!==""&&(U[ee]?i.util.object.extend(U[ee],N):U[ee]=i.util.object.clone(N))})}))}return U},loadSVGFromURL:function(P,x,A,M){P=P.replace(/^\n\s*/,"").trim(),new i.util.request(P,{method:"get",onComplete:U});function U(j){var V=j.responseXML;if(!V||!V.documentElement)return x&&x(null),!1;i.parseSVGDocument(V.documentElement,function(q,J,N,I){x&&x(q,J,N,I)},A,M)}},loadSVGFromString:function(P,x,A,M){var U=new i.window.DOMParser,j=U.parseFromString(P.trim(),"text/xml");i.parseSVGDocument(j.documentElement,function(V,q,J,N){x(V,q,J,N)},A,M)}})}(t),e.ElementsParser=function(c,i,h,d,l,u){this.elements=c,this.callback=i,this.options=h,this.reviver=d,this.svgUid=h&&h.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(c){c.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},c.createObjects=function(){var i=this;this.elements.forEach(function(h,d){h.setAttribute("svgUid",i.svgUid),i.createObject(h,d)})},c.findTag=function(i){return e[e.util.string.capitalize(i.tagName.replace("svg:",""))]},c.createObject=function(i,h){var d=this.findTag(i);if(d&&d.fromElement)try{d.fromElement(i,this.createCallback(h,i),this.options)}catch(l){e.log(l)}else this.checkIfDone()},c.createCallback=function(i,h){var d=this;return function(l){var u;d.resolveGradient(l,h,"fill"),d.resolveGradient(l,h,"stroke"),l instanceof e.Image&&l._originalElement&&(u=l.parsePreserveAspectRatioAttribute(h)),l._removeTransformMatrix(u),d.resolveClipPath(l,h),d.reviver&&d.reviver(h,l),d.instances[i]=l,d.checkIfDone()}},c.extractPropertyDefinition=function(i,h,d){var l=i[h],u=this.regexUrl;if(!!u.test(l)){u.lastIndex=0;var a=u.exec(l)[1];return u.lastIndex=0,e[d][this.svgUid][a]}},c.resolveGradient=function(i,h,d){var l=this.extractPropertyDefinition(i,d,"gradientDefs");if(l){var u=h.getAttribute(d+"-opacity"),a=e.Gradient.fromElement(l,i,u,this.options);i.set(d,a)}},c.createClipPathCallback=function(i,h){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,h.push(d)}},c.resolveClipPath=function(i,h){var d=this.extractPropertyDefinition(i,"clipPath","clipPaths"),l,u,a,f,g,s;if(d){f=[],a=e.util.invertTransform(i.calcTransformMatrix());for(var p=d[0].parentNode,v=h;v.parentNode&&v.getAttribute("clip-path")!==i.clipPath;)v=v.parentNode;v.parentNode.appendChild(p);for(var _=0;_<d.length;_++)l=d[_],u=this.findTag(l),u.fromElement(l,this.createClipPathCallback(i,f),this.options);f.length===1?d=f[0]:d=new e.Group(f),g=e.util.multiplyTransformMatrices(a,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,v);var s=e.util.qrDecompose(g);d.flipX=!1,d.flipY=!1,d.set("scaleX",s.scaleX),d.set("scaleY",s.scaleY),d.angle=s.angle,d.skewX=s.skewX,d.skewY=0,d.setPositionByOrigin({x:s.translateX,y:s.translateY},"center","center"),i.clipPath=d}else delete i.clipPath},c.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(c){var i=c.fabric||(c.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=h;function h(d,l){this.x=d,this.y=l}h.prototype={type:"point",constructor:h,add:function(d){return new h(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new h(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new h(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new h(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new h(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new h(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,l){return typeof l=="undefined"&&(l=.5),l=Math.max(Math.min(1,l),0),new h(this.x+(d.x-this.x)*l,this.y+(d.y-this.y)*l)},distanceFrom:function(d){var l=this.x-d.x,u=this.y-d.y;return Math.sqrt(l*l+u*u)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new h(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new h(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,l){return this.x=d,this.y=l,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var l=this.x,u=this.y;this.x=d.x,this.y=d.y,d.x=l,d.y=u},clone:function(){return new h(this.x,this.y)}}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function h(d){this.status=d,this.points=[]}i.Intersection=h,i.Intersection.prototype={constructor:h,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},i.Intersection.intersectLineLine=function(d,l,u,a){var f,g=(a.x-u.x)*(d.y-u.y)-(a.y-u.y)*(d.x-u.x),s=(l.x-d.x)*(d.y-u.y)-(l.y-d.y)*(d.x-u.x),p=(a.y-u.y)*(l.x-d.x)-(a.x-u.x)*(l.y-d.y);if(p!==0){var v=g/p,_=s/p;0<=v&&v<=1&&0<=_&&_<=1?(f=new h("Intersection"),f.appendPoint(new i.Point(d.x+v*(l.x-d.x),d.y+v*(l.y-d.y)))):f=new h}else g===0||s===0?f=new h("Coincident"):f=new h("Parallel");return f},i.Intersection.intersectLinePolygon=function(d,l,u){var a=new h,f=u.length,g,s,p,v;for(v=0;v<f;v++)g=u[v],s=u[(v+1)%f],p=h.intersectLineLine(d,l,g,s),a.appendPoints(p.points);return a.points.length>0&&(a.status="Intersection"),a},i.Intersection.intersectPolygonPolygon=function(d,l){var u=new h,a=d.length,f;for(f=0;f<a;f++){var g=d[f],s=d[(f+1)%a],p=h.intersectLinePolygon(g,s,l);u.appendPoints(p.points)}return u.points.length>0&&(u.status="Intersection"),u},i.Intersection.intersectPolygonRectangle=function(d,l,u){var a=l.min(u),f=l.max(u),g=new i.Point(f.x,a.y),s=new i.Point(a.x,f.y),p=h.intersectLinePolygon(a,g,d),v=h.intersectLinePolygon(g,f,d),_=h.intersectLinePolygon(f,s,d),C=h.intersectLinePolygon(s,a,d),S=new h;return S.appendPoints(p.points),S.appendPoints(v.points),S.appendPoints(_.points),S.appendPoints(C.points),S.points.length>0&&(S.status="Intersection"),S}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function h(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}i.Color=h,i.Color.prototype={_tryParsingColor:function(l){var u;l in h.colorNameMap&&(l=h.colorNameMap[l]),l==="transparent"&&(u=[255,255,255,0]),u||(u=h.sourceFromHex(l)),u||(u=h.sourceFromRgb(l)),u||(u=h.sourceFromHsl(l)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(l,u,a){l/=255,u/=255,a/=255;var f,g,s,p=i.util.array.max([l,u,a]),v=i.util.array.min([l,u,a]);if(s=(p+v)/2,p===v)f=g=0;else{var _=p-v;switch(g=s>.5?_/(2-p-v):_/(p+v),p){case l:f=(u-a)/_+(u<a?6:0);break;case u:f=(a-l)/_+2;break;case a:f=(l-u)/_+4;break}f/=6}return[Math.round(f*360),Math.round(g*100),Math.round(s*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),u,a,f;return u=l[0].toString(16),u=u.length===1?"0"+u:u,a=l[1].toString(16),a=a.length===1?"0"+a:a,f=l[2].toString(16),f=f.length===1?"0"+f:f,u.toUpperCase()+a.toUpperCase()+f.toUpperCase()},toHexa:function(){var l=this.getSource(),u;return u=Math.round(l[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var u=this.getSource();return u[3]=l,this.setSource(u),this},toGrayscale:function(){var l=this.getSource(),u=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),a=l[3];return this.setSource([u,u,u,a]),this},toBlackWhite:function(l){var u=this.getSource(),a=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),f=u[3];return l=l||127,a=Number(a)<Number(l)?0:255,this.setSource([a,a,a,f]),this},overlayWith:function(l){l instanceof h||(l=new h(l));var u=[],a=this.getAlpha(),f=.5,g=this.getSource(),s=l.getSource(),p;for(p=0;p<3;p++)u.push(Math.round(g[p]*(1-f)+s[p]*f));return u[3]=a,this.setSource(u),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(l,u,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?l+(u-l)*6*a:a<1/2?u:a<2/3?l+(u-l)*(2/3-a)*6:l}i.Color.fromRgb=function(l){return h.fromSource(h.sourceFromRgb(l))},i.Color.sourceFromRgb=function(l){var u=l.match(h.reRGBa);if(u){var a=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),f=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(a,10),parseInt(f,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},i.Color.fromRgba=h.fromRgb,i.Color.fromHsl=function(l){return h.fromSource(h.sourceFromHsl(l))},i.Color.sourceFromHsl=function(l){var u=l.match(h.reHSLa);if(!!u){var a=(parseFloat(u[1])%360+360)%360/360,f=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1),s,p,v;if(f===0)s=p=v=g;else{var _=g<=.5?g*(f+1):g+f-g*f,C=g*2-_;s=d(C,_,a+1/3),p=d(C,_,a),v=d(C,_,a-1/3)}return[Math.round(s*255),Math.round(p*255),Math.round(v*255),u[4]?parseFloat(u[4]):1]}},i.Color.fromHsla=h.fromHsl,i.Color.fromHex=function(l){return h.fromSource(h.sourceFromHex(l))},i.Color.sourceFromHex=function(l){if(l.match(h.reHex)){var u=l.slice(l.indexOf("#")+1),a=u.length===3||u.length===4,f=u.length===8||u.length===4,g=a?u.charAt(0)+u.charAt(0):u.substring(0,2),s=a?u.charAt(1)+u.charAt(1):u.substring(2,4),p=a?u.charAt(2)+u.charAt(2):u.substring(4,6),v=f?a?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(s,16),parseInt(p,16),parseFloat((parseInt(v,16)/255).toFixed(2))]}},i.Color.fromSource=function(l){var u=new h;return u.setSource(l),u}}(t),function(c){var i=c.fabric||(c.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],l={},u="left",a="top",f="right",g="bottom",s="center",p={top:g,bottom:a,left:f,right:u,center:s},v=i.util.radiansToDegrees,_=Math.sign||function(N){return(N>0)-(N<0)||+N};function C(N,I){var H=N.angle+v(Math.atan2(I.y,I.x))+360;return Math.round(H%360/45)}function S(N,I){var H=I.transform.target,z=H.canvas,B=i.util.object.clone(I);B.target=H,z&&z.fire("object:"+N,B),H.fire(N,I)}function w(N,I){var H=I.canvas,z=H.uniScaleKey,B=N[z];return H.uniformScaling&&!B||!H.uniformScaling&&B}function E(N){return N.originX===s&&N.originY===s}function O(N,I,H){var z=N.lockScalingX,B=N.lockScalingY;return!!(z&&B||!I&&(z||B)&&H||z&&I==="x"||B&&I==="y")}function R(N,I,H){var z="not-allowed",B=w(N,H),Y="";if(I.x!==0&&I.y===0?Y="x":I.x===0&&I.y!==0&&(Y="y"),O(H,Y,B))return z;var ee=C(H,I);return h[ee]+"-resize"}function F(N,I,H){var z="not-allowed";if(I.x!==0&&H.lockSkewingY||I.y!==0&&H.lockSkewingX)return z;var B=C(H,I)%4;return d[B]+"-resize"}function X(N,I,H){return N[H.canvas.altActionKey]?l.skewCursorStyleHandler(N,I,H):l.scaleCursorStyleHandler(N,I,H)}function G(N,I,H){var z=N[H.canvas.altActionKey];if(I.x===0)return z?"skewX":"scaleY";if(I.y===0)return z?"skewY":"scaleX"}function $(N,I,H){return H.lockRotation?"not-allowed":I.cursorStyle}function Q(N,I,H,z){return{e:N,transform:I,pointer:{x:H,y:z}}}function K(N){return function(I,H,z,B){var Y=H.target,ee=Y.getCenterPoint(),ce=Y.translateToOriginPoint(ee,H.originX,H.originY),oe=N(I,H,z,B);return Y.setPositionByOrigin(ce,H.originX,H.originY),oe}}function te(N,I){return function(H,z,B,Y){var ee=I(H,z,B,Y);return ee&&S(N,Q(H,z,B,Y)),ee}}function re(N,I,H,z,B){var Y=N.target,ee=Y.controls[N.corner],ce=Y.canvas.getZoom(),oe=Y.padding/ce,W=Y.toLocalPoint(new i.Point(z,B),I,H);return W.x>=oe&&(W.x-=oe),W.x<=-oe&&(W.x+=oe),W.y>=oe&&(W.y-=oe),W.y<=oe&&(W.y+=oe),W.x-=ee.offsetX,W.y-=ee.offsetY,W}function ne(N){return N.flipX!==N.flipY}function T(N,I,H,z,B){if(N[I]!==0){var Y=N._getTransformedDimensions()[z],ee=B/Y*N[H];N.set(H,ee)}}function D(N,I,H,z){var B=I.target,Y=B._getTransformedDimensions(0,B.skewY),ee=re(I,I.originX,I.originY,H,z),ce=Math.abs(ee.x*2)-Y.x,oe=B.skewX,W;ce<2?W=0:(W=v(Math.atan2(ce/B.scaleX,Y.y/B.scaleY)),I.originX===u&&I.originY===g&&(W=-W),I.originX===f&&I.originY===a&&(W=-W),ne(B)&&(W=-W));var se=oe!==W;if(se){var fe=B._getTransformedDimensions().y;B.set("skewX",W),T(B,"skewY","scaleY","y",fe)}return se}function b(N,I,H,z){var B=I.target,Y=B._getTransformedDimensions(B.skewX,0),ee=re(I,I.originX,I.originY,H,z),ce=Math.abs(ee.y*2)-Y.y,oe=B.skewY,W;ce<2?W=0:(W=v(Math.atan2(ce/B.scaleY,Y.x/B.scaleX)),I.originX===u&&I.originY===g&&(W=-W),I.originX===f&&I.originY===a&&(W=-W),ne(B)&&(W=-W));var se=oe!==W;if(se){var fe=B._getTransformedDimensions().x;B.set("skewY",W),T(B,"skewX","scaleX","x",fe)}return se}function k(N,I,H,z){var B=I.target,Y=B.skewX,ee,ce=I.originY;if(B.lockSkewingX)return!1;if(Y===0){var oe=re(I,s,s,H,z);oe.x>0?ee=u:ee=f}else Y>0&&(ee=ce===a?u:f),Y<0&&(ee=ce===a?f:u),ne(B)&&(ee=ee===u?f:u);I.originX=ee;var W=te("skewing",K(D));return W(N,I,H,z)}function L(N,I,H,z){var B=I.target,Y=B.skewY,ee,ce=I.originX;if(B.lockSkewingY)return!1;if(Y===0){var oe=re(I,s,s,H,z);oe.y>0?ee=a:ee=g}else Y>0&&(ee=ce===u?a:g),Y<0&&(ee=ce===u?g:a),ne(B)&&(ee=ee===a?g:a);I.originY=ee;var W=te("skewing",K(b));return W(N,I,H,z)}function P(N,I,H,z){var B=I,Y=B.target,ee=Y.translateToOriginPoint(Y.getCenterPoint(),B.originX,B.originY);if(Y.lockRotation)return!1;var ce=Math.atan2(B.ey-ee.y,B.ex-ee.x),oe=Math.atan2(z-ee.y,H-ee.x),W=v(oe-ce+B.theta),se=!0;if(Y.snapAngle>0){var fe=Y.snapAngle,de=Y.snapThreshold||fe,_e=Math.ceil(W/fe)*fe,ge=Math.floor(W/fe)*fe;Math.abs(W-ge)<de?W=ge:Math.abs(W-_e)<de&&(W=_e)}return W<0&&(W=360+W),W%=360,se=Y.angle!==W,Y.angle=W,se}function x(N,I,H,z,B){B=B||{};var Y=I.target,ee=Y.lockScalingX,ce=Y.lockScalingY,oe=B.by,W,se,fe,de,_e=w(N,Y),ge=O(Y,oe,_e),We,Te,Gt=I.gestureScale;if(ge)return!1;if(Gt)se=I.scaleX*Gt,fe=I.scaleY*Gt;else{if(W=re(I,I.originX,I.originY,H,z),We=oe!=="y"?_(W.x):1,Te=oe!=="x"?_(W.y):1,I.signX||(I.signX=We),I.signY||(I.signY=Te),Y.lockScalingFlip&&(I.signX!==We||I.signY!==Te))return!1;if(de=Y._getTransformedDimensions(),_e&&!oe){var Zn=Math.abs(W.x)+Math.abs(W.y),lt=I.original,Rh=Math.abs(de.x*lt.scaleX/Y.scaleX)+Math.abs(de.y*lt.scaleY/Y.scaleY),yl=Zn/Rh;se=lt.scaleX*yl,fe=lt.scaleY*yl}else se=Math.abs(W.x*Y.scaleX/de.x),fe=Math.abs(W.y*Y.scaleY/de.y);E(I)&&(se*=2,fe*=2),I.signX!==We&&oe!=="y"&&(I.originX=p[I.originX],se*=-1,I.signX=We),I.signY!==Te&&oe!=="x"&&(I.originY=p[I.originY],fe*=-1,I.signY=Te)}var Ah=Y.scaleX,Lh=Y.scaleY;return oe?(oe==="x"&&Y.set("scaleX",se),oe==="y"&&Y.set("scaleY",fe)):(!ee&&Y.set("scaleX",se),!ce&&Y.set("scaleY",fe)),Ah!==Y.scaleX||Lh!==Y.scaleY}function A(N,I,H,z){return x(N,I,H,z)}function M(N,I,H,z){return x(N,I,H,z,{by:"x"})}function U(N,I,H,z){return x(N,I,H,z,{by:"y"})}function j(N,I,H,z){return N[I.target.canvas.altActionKey]?l.skewHandlerX(N,I,H,z):l.scalingY(N,I,H,z)}function V(N,I,H,z){return N[I.target.canvas.altActionKey]?l.skewHandlerY(N,I,H,z):l.scalingX(N,I,H,z)}function q(N,I,H,z){var B=I.target,Y=re(I,I.originX,I.originY,H,z),ee=B.strokeWidth/(B.strokeUniform?B.scaleX:1),ce=E(I)?2:1,oe=B.width,W=Math.abs(Y.x*ce/B.scaleX)-ee;return B.set("width",Math.max(W,0)),oe!==W}function J(N,I,H,z){var B=I.target,Y=H-I.offsetX,ee=z-I.offsetY,ce=!B.get("lockMovementX")&&B.left!==Y,oe=!B.get("lockMovementY")&&B.top!==ee;return ce&&B.set("left",Y),oe&&B.set("top",ee),(ce||oe)&&S("moving",Q(N,I,H,z)),ce||oe}l.scaleCursorStyleHandler=R,l.skewCursorStyleHandler=F,l.scaleSkewCursorStyleHandler=X,l.rotationWithSnapping=te("rotating",K(P)),l.scalingEqually=te("scaling",K(A)),l.scalingX=te("scaling",K(M)),l.scalingY=te("scaling",K(U)),l.scalingYOrSkewingX=j,l.scalingXOrSkewingY=V,l.changeWidth=te("resizing",K(q)),l.skewHandlerX=k,l.skewHandlerY=L,l.dragHandler=J,l.scaleOrSkewActionName=G,l.rotationStyleHandler=$,l.fireEvent=S,l.wrapWithFixedAnchor=K,l.wrapWithFireEvent=te,l.getLocalPoint=re,i.controlsUtils=l}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians,d=i.controlsUtils;function l(a,f,g,s,p){s=s||{};var v=this.sizeX||s.cornerSize||p.cornerSize,_=this.sizeY||s.cornerSize||p.cornerSize,C=typeof s.transparentCorners!="undefined"?s.transparentCorners:p.transparentCorners,S=C?"stroke":"fill",w=!C&&(s.cornerStrokeColor||p.cornerStrokeColor),E=f,O=g,R;a.save(),a.fillStyle=s.cornerColor||p.cornerColor,a.strokeStyle=s.cornerStrokeColor||p.cornerStrokeColor,v>_?(R=v,a.scale(1,_/v),O=g*v/_):_>v?(R=_,a.scale(v/_,1),E=f*_/v):R=v,a.lineWidth=1,a.beginPath(),a.arc(E,O,R/2,0,2*Math.PI,!1),a[S](),w&&a.stroke(),a.restore()}function u(a,f,g,s,p){s=s||{};var v=this.sizeX||s.cornerSize||p.cornerSize,_=this.sizeY||s.cornerSize||p.cornerSize,C=typeof s.transparentCorners!="undefined"?s.transparentCorners:p.transparentCorners,S=C?"stroke":"fill",w=!C&&(s.cornerStrokeColor||p.cornerStrokeColor),E=v/2,O=_/2;a.save(),a.fillStyle=s.cornerColor||p.cornerColor,a.strokeStyle=s.cornerStrokeColor||p.cornerStrokeColor,a.lineWidth=1,a.translate(f,g),a.rotate(h(p.angle)),a[S+"Rect"](-E,-O,v,_),w&&a.strokeRect(-E,-O,v,_),a.restore()}d.renderCircleControl=l,d.renderSquareControl=u}(t),function(c){var i=c.fabric||(c.fabric={});function h(d){for(var l in d)this[l]=d[l]}i.Control=h,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,l){return l.cursorStyle},getActionName:function(d,l){return l.actionName},getVisibility:function(d,l){var u=d._controlsVisibility;return u&&typeof u[l]!="undefined"?u[l]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,l){var u=i.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},l);return u},calcCornerCoords:function(d,l,u,a,f){var g,s,p,v,_=f?this.touchSizeX:this.sizeX,C=f?this.touchSizeY:this.sizeY;if(_&&C&&_!==C){var S=Math.atan2(C,_),w=Math.sqrt(_*_+C*C)/2,E=S-i.util.degreesToRadians(d),O=Math.PI/2-S-i.util.degreesToRadians(d);g=w*i.util.cos(E),s=w*i.util.sin(E),p=w*i.util.cos(O),v=w*i.util.sin(O)}else{var R=_&&C?_:l;w=R*.7071067812;var E=i.util.degreesToRadians(45-d);g=p=w*i.util.cos(E),s=v=w*i.util.sin(E)}return{tl:{x:u-v,y:a-p},tr:{x:u+g,y:a-s},bl:{x:u-g,y:a+s},br:{x:u+v,y:a+p}}},render:function(d,l,u,a,f){switch(a=a||{},a.cornerStyle||f.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,d,l,u,a,f);break;default:i.controlsUtils.renderSquareControl.call(this,d,l,u,a,f)}}}}(t),function(){function c(u,a){var f=u.getAttribute("style"),g=u.getAttribute("offset")||0,s,p,v,_;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,f){var C=f.split(/\s*;\s*/);for(C[C.length-1]===""&&C.pop(),_=C.length;_--;){var S=C[_].split(/\s*:\s*/),w=S[0].trim(),E=S[1].trim();w==="stop-color"?s=E:w==="stop-opacity"&&(v=E)}}return s||(s=u.getAttribute("stop-color")||"rgb(0,0,0)"),v||(v=u.getAttribute("stop-opacity")),s=new e.Color(s),p=s.getAlpha(),v=isNaN(parseFloat(v))?1:parseFloat(v),v*=p*a,{offset:g,color:s.toRgb(),opacity:v}}function i(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function h(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var d=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var a,f=this;Object.keys(u).forEach(function(g){f[g]=u[g]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,a={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(a.r1=u.coords.r1||0,a.r2=u.coords.r2||0),this.coords=a,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var a in u){var f=new e.Color(u[a]);this.colorStops.push({offset:parseFloat(a),color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(u){var a={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,a,u),a},toSVG:function(u,p){var f=d(this.coords,!0),g,s,p=p||{},v,_,C=d(this.colorStops,!0),S=f.r1>f.r2,w=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),E=-this.offsetX,O=-this.offsetY,R=!!p.additionalTransform,F=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(C.sort(function(K,te){return K.offset-te.offset}),F==="objectBoundingBox"?(E/=u.width,O/=u.height):(E+=u.width/2,O+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(E-=u.pathOffset.x,O-=u.pathOffset.y),w[4]-=E,w[5]-=O,_='id="SVGID_'+this.id+'" gradientUnits="'+F+'"',_+=' gradientTransform="'+(R?p.additionalTransform+" ":"")+e.util.matrixToSVG(w)+'" ',this.type==="linear"?v=["<linearGradient ",_,' x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`">
`]:this.type==="radial"&&(v=["<radialGradient ",_,' cx="',S?f.x1:f.x2,'" cy="',S?f.y1:f.y2,'" r="',S?f.r1:f.r2,'" fx="',S?f.x2:f.x1,'" fy="',S?f.y2:f.y1,`">
`]),this.type==="radial"){if(S)for(C=C.concat(),C.reverse(),g=0,s=C.length;g<s;g++)C[g].offset=1-C[g].offset;var X=Math.min(f.r1,f.r2);if(X>0){var G=Math.max(f.r1,f.r2),$=X/G;for(g=0,s=C.length;g<s;g++)C[g].offset+=$*(1-C[g].offset)}}for(g=0,s=C.length;g<s;g++){var Q=C[g];v.push("<stop ",'offset="',Q.offset*100+"%",'" style="stop-color:',Q.color,typeof Q.opacity!="undefined"?";stop-opacity: "+Q.opacity:";",`"/>
`)}return v.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),v.join("")},toLive:function(u){var a,f=e.util.object.clone(this.coords),g,s;if(!!this.type){for(this.type==="linear"?a=u.createLinearGradient(f.x1,f.y1,f.x2,f.y2):this.type==="radial"&&(a=u.createRadialGradient(f.x1,f.y1,f.r1,f.x2,f.y2,f.r2)),g=0,s=this.colorStops.length;g<s;g++){var p=this.colorStops[g].color,v=this.colorStops[g].opacity,_=this.colorStops[g].offset;typeof v!="undefined"&&(p=new e.Color(p).setAlpha(v).toRgba()),a.addColorStop(_,p)}return a}}}),e.util.object.extend(e.Gradient,{fromElement:function(u,a,f,g){var s=parseFloat(f)/(/%$/.test(f)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var p=u.getElementsByTagName("stop"),v,_=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",C=u.getAttribute("gradientTransform")||"",S=[],w,E,O=0,R=0,F;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(v="linear",w=i(u)):(v="radial",w=h(u)),E=p.length;E--;)S.push(c(p[E],s));F=e.parseTransformAttribute(C),l(a,w,g,_),_==="pixels"&&(O=-a.left,R=-a.top);var X=new e.Gradient({id:u.getAttribute("id"),type:v,coords:w,colorStops:S,gradientUnits:_,gradientTransform:F,offsetX:O,offsetY:R});return X}});function l(u,a,f,g){var s,p;Object.keys(a).forEach(function(v){s=a[v],s==="Infinity"?p=1:s==="-Infinity"?p=0:(p=parseFloat(a[v],10),typeof s=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(s)&&(p*=.01,g==="pixels"&&((v==="x1"||v==="x2"||v==="r2")&&(p*=f.viewBoxWidth||f.width),(v==="y1"||v==="y2")&&(p*=f.viewBoxHeight||f.height)))),a[v]=p})}}(),function(){var c=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,h){if(i||(i={}),this.id=e.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){h&&h(this);return}else{var d=this;this.source=e.util.createImage(),e.util.loadImage(i.source,function(l,u){d.source=l,h&&h(d,u)},null,this.crossOrigin)}},toObject:function(i){var h=e.Object.NUM_FRACTION_DIGITS,d,l;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),l={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:c(this.offsetX,h),offsetY:c(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,l,i),l},toSVG:function(i){var h=typeof this.source=="function"?this.source():this.source,d=h.width/i.width,l=h.height/i.height,u=this.offsetX/i.width,a=this.offsetY/i.height,f="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,a&&(l+=Math.abs(a))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,u&&(d+=Math.abs(u))),h.src?f=h.src:h.toDataURL&&(f=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+a+'" width="'+d+'" height="'+l+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+f+`"></image>
</pattern>
`},setOptions:function(i){for(var h in i)this[h]=i[h]},toLive:function(i){var h=this.source;return!h||typeof h.src!="undefined"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":i.createPattern(h,this.repeat)}})}(),function(c){var i=c.fabric||(c.fabric={}),h=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var l in d)this[l]=d[l];this.id=i.Object.__uid++},_parseShadow:function(d){var l=d.trim(),u=i.Shadow.reOffsetsAndBlur.exec(l)||[],a=l.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:a.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var l=40,u=40,a=i.Object.NUM_FRACTION_DIGITS,f=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-d.angle)),g=20,s=new i.Color(this.color);return d.width&&d.height&&(l=h((Math.abs(f.x)+this.blur)/d.width,a)*100+g,u=h((Math.abs(f.y)+this.blur)/d.height,a)*100+g),d.flipX&&(f.x*=-1),d.flipY&&(f.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,a)+`"></feGaussianBlur>
	<feOffset dx="`+h(f.x,a)+'" dy="'+h(f.y,a)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+s.toRgb()+'" flood-opacity="'+s.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},l=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==l[u]&&(d[u]=this[u])},this),d}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var c=e.util.object.extend,i=e.util.getElementOffset,h=e.util.removeFromArray,d=e.util.toFixed,l=e.util.transformPoint,u=e.util.invertTransform,a=e.util.getNodeCanvas,f=e.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(s,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(s,p){var v=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(s),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,v),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,v),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,v),p.overlayColor&&this.setOverlayColor(p.overlayColor,v),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var s=e.devicePixelRatio;this.__initRetinaScaling(s,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(s,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(s,p,v){p.setAttribute("width",this.width*s),p.setAttribute("height",this.height*s),v.scale(s,s)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(s,p,v){return this.__setBgOverlayImage("overlayImage",s,p,v)},setBackgroundImage:function(s,p,v){return this.__setBgOverlayImage("backgroundImage",s,p,v)},setOverlayColor:function(s,p){return this.__setBgOverlayColor("overlayColor",s,p)},setBackgroundColor:function(s,p){return this.__setBgOverlayColor("backgroundColor",s,p)},__setBgOverlayImage:function(s,p,v,_){return typeof p=="string"?e.util.loadImage(p,function(C,S){if(C){var w=new e.Image(C,_);this[s]=w,w.canvas=this}v&&v(C,S)},this,_&&_.crossOrigin):(_&&p.setOptions(_),this[s]=p,p&&(p.canvas=this),v&&v(p,!1)),this},__setBgOverlayColor:function(s,p,v){return this[s]=p,this._initGradient(p,s),this._initPattern(p,s,v),this},_createCanvasElement:function(){var s=f();if(!s||(s.style||(s.style={}),typeof s.getContext=="undefined"))throw g;return s},_initOptions:function(s){var p=this.lowerCanvasEl;this._setOptions(s),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(s){s&&s.getContext?this.lowerCanvasEl=s:this.lowerCanvasEl=e.util.getById(s)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(s,p){return this.setDimensions({width:s},p)},setHeight:function(s,p){return this.setDimensions({height:s},p)},setDimensions:function(s,p){var v;p=p||{};for(var _ in s)v=s[_],p.cssOnly||(this._setBackstoreDimension(_,s[_]),v+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(_,v);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(s,p){return this.lowerCanvasEl[s]=p,this.upperCanvasEl&&(this.upperCanvasEl[s]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[s]=p),this[s]=p,this},_setCssDimension:function(s,p){return this.lowerCanvasEl.style[s]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[s]=p),this.wrapperEl&&(this.wrapperEl.style[s]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(s){var p=this._activeObject,v=this.backgroundImage,_=this.overlayImage,C,S,w;for(this.viewportTransform=s,S=0,w=this._objects.length;S<w;S++)C=this._objects[S],C.group||C.setCoords(!0);return p&&p.setCoords(),v&&v.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(s,p){var v=s,_=this.viewportTransform.slice(0);s=l(s,u(this.viewportTransform)),_[0]=p,_[3]=p;var C=l(s,_);return _[4]+=v.x-C.x,_[5]+=v.y-C.y,this.setViewportTransform(_)},setZoom:function(s){return this.zoomToPoint(new e.Point(0,0),s),this},absolutePan:function(s){var p=this.viewportTransform.slice(0);return p[4]=-s.x,p[5]=-s.y,this.setViewportTransform(p)},relativePan:function(s){return this.absolutePan(new e.Point(-s.x-this.viewportTransform[4],-s.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(s){this.stateful&&s.setupState(),s._set("canvas",this),s.setCoords(),this.fire("object:added",{target:s}),s.fire("added")},_onObjectRemoved:function(s){this.fire("object:removed",{target:s}),s.fire("removed"),delete s.canvas},clearContext:function(s){return s.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var s=this.contextContainer;return this.renderCanvas(s,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var s={},p=this.width,v=this.height,_=u(this.viewportTransform);return s.tl=l({x:0,y:0},_),s.br=l({x:p,y:v},_),s.tr=new e.Point(s.br.x,s.tl.y),s.bl=new e.Point(s.tl.x,s.br.y),this.vptCoords=s,s},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(s,p){var v=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(s),e.util.setImageSmoothing(s,this.imageSmoothingEnabled),this.fire("before:render",{ctx:s}),this._renderBackground(s),s.save(),s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this._renderObjects(s,p),s.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(s)),this._renderOverlay(s),this.controlsAboveOverlay&&this.interactive&&this.drawControls(s),this.fire("after:render",{ctx:s})},drawClipPathOnCanvas:function(s){var p=this.viewportTransform,v=this.clipPath;s.save(),s.transform(p[0],p[1],p[2],p[3],p[4],p[5]),s.globalCompositeOperation="destination-in",v.transform(s),s.scale(1/v.zoomX,1/v.zoomY),s.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),s.restore()},_renderObjects:function(s,p){var v,_;for(v=0,_=p.length;v<_;++v)p[v]&&p[v].render(s)},_renderBackgroundOrOverlay:function(s,p){var v=this[p+"Color"],_=this[p+"Image"],C=this.viewportTransform,S=this[p+"Vpt"];if(!(!v&&!_)){if(v){s.save(),s.beginPath(),s.moveTo(0,0),s.lineTo(this.width,0),s.lineTo(this.width,this.height),s.lineTo(0,this.height),s.closePath(),s.fillStyle=v.toLive?v.toLive(s,this):v,S&&s.transform(C[0],C[1],C[2],C[3],C[4],C[5]),s.transform(1,0,0,1,v.offsetX||0,v.offsetY||0);var w=v.gradientTransform||v.patternTransform;w&&s.transform(w[0],w[1],w[2],w[3],w[4],w[5]),s.fill(),s.restore()}_&&(s.save(),S&&s.transform(C[0],C[1],C[2],C[3],C[4],C[5]),_.render(s),s.restore())}},_renderBackground:function(s){this._renderBackgroundOrOverlay(s,"background")},_renderOverlay:function(s){this._renderBackgroundOrOverlay(s,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(s){return this._centerObject(s,new e.Point(this.getCenterPoint().x,s.getCenterPoint().y))},centerObjectV:function(s){return this._centerObject(s,new e.Point(s.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(s){var p=this.getCenterPoint();return this._centerObject(s,p)},viewportCenterObject:function(s){var p=this.getVpCenter();return this._centerObject(s,p)},viewportCenterObjectH:function(s){var p=this.getVpCenter();return this._centerObject(s,new e.Point(p.x,s.getCenterPoint().y)),this},viewportCenterObjectV:function(s){var p=this.getVpCenter();return this._centerObject(s,new e.Point(s.getCenterPoint().x,p.y))},getVpCenter:function(){var s=this.getCenterPoint(),p=u(this.viewportTransform);return l(s,p)},_centerObject:function(s,p){return s.setPositionByOrigin(p,"center","center"),s.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(s){return this.toDatalessObject(s)},toObject:function(s){return this._toObjectMethod("toObject",s)},toDatalessObject:function(s){return this._toObjectMethod("toDatalessObject",s)},_toObjectMethod:function(s,p){var v=this.clipPath,_={version:e.version,objects:this._toObjects(s,p)};return v&&!v.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,s,p)),c(_,this.__serializeBgOverlay(s,p)),e.util.populateWithProperties(this,_,p),_},_toObjects:function(s,p){return this._objects.filter(function(v){return!v.excludeFromExport}).map(function(v){return this._toObject(v,s,p)},this)},_toObject:function(s,p,v){var _;this.includeDefaultValues||(_=s.includeDefaultValues,s.includeDefaultValues=!1);var C=s[p](v);return this.includeDefaultValues||(s.includeDefaultValues=_),C},__serializeBgOverlay:function(s,p){var v={},_=this.backgroundImage,C=this.overlayImage,S=this.backgroundColor,w=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(v.background=S.toObject(p)):S&&(v.background=S),w&&w.toObject?w.excludeFromExport||(v.overlay=w.toObject(p)):w&&(v.overlay=w),_&&!_.excludeFromExport&&(v.backgroundImage=this._toObject(_,s,p)),C&&!C.excludeFromExport&&(v.overlayImage=this._toObject(C,s,p)),v},svgViewportTransformation:!0,toSVG:function(s,p){s||(s={}),s.reviver=p;var v=[];return this._setSVGPreamble(v,s),this._setSVGHeader(v,s),this.clipPath&&v.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(v,"background"),this._setSVGBgOverlayImage(v,"backgroundImage",p),this._setSVGObjects(v,p),this.clipPath&&v.push(`</g>
`),this._setSVGBgOverlayColor(v,"overlay"),this._setSVGBgOverlayImage(v,"overlayImage",p),v.push("</svg>"),v.join("")},_setSVGPreamble:function(s,p){p.suppressPreamble||s.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(s,p){var v=p.width||this.width,_=p.height||this.height,C,S='viewBox="0 0 '+this.width+" "+this.height+'" ',w=e.Object.NUM_FRACTION_DIGITS;p.viewBox?S='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(C=this.viewportTransform,S='viewBox="'+d(-C[4]/C[0],w)+" "+d(-C[5]/C[3],w)+" "+d(this.width/C[0],w)+" "+d(this.height/C[3],w)+'" '),s.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',v,'" ','height="',_,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)},createSVGClipPathMarkup:function(s){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+p.clipPathId+`" >
`+this.clipPath.toClipPathSVG(s.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var s=this,p=["background","overlay"].map(function(v){var _=s[v+"Color"];if(_&&_.toLive){var C=s[v+"Vpt"],S=s.viewportTransform,w={width:s.width/(C?S[0]:1),height:s.height/(C?S[3]:1)};return _.toSVG(w,{additionalTransform:C?e.util.matrixToSVG(S):""})}});return p.join("")},createSVGFontFacesMarkup:function(){var s="",p={},v,_,C,S,w,E,O,R,F,X=e.fontPaths,G=[];for(this._objects.forEach(function Q(K){G.push(K),K._objects&&K._objects.forEach(Q)}),R=0,F=G.length;R<F;R++)if(v=G[R],_=v.fontFamily,!(v.type.indexOf("text")===-1||p[_]||!X[_])&&(p[_]=!0,!!v.styles)){C=v.styles;for(w in C){S=C[w];for(O in S)E=S[O],_=E.fontFamily,!p[_]&&X[_]&&(p[_]=!0)}}for(var $ in p)s+=[`		@font-face {
`,"			font-family: '",$,`';
`,"			src: url('",X[$],`');
`,`		}
`].join("");return s&&(s=['	<style type="text/css">',`<![CDATA[
`,s,"]]>",`</style>
`].join("")),s},_setSVGObjects:function(s,p){var v,_,C,S=this._objects;for(_=0,C=S.length;_<C;_++)v=S[_],!v.excludeFromExport&&this._setSVGObject(s,v,p)},_setSVGObject:function(s,p,v){s.push(p.toSVG(v))},_setSVGBgOverlayImage:function(s,p,v){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&s.push(this[p].toSVG(v))},_setSVGBgOverlayColor:function(s,p){var v=this[p+"Color"],_=this.viewportTransform,C=this.width,S=this.height;if(!!v)if(v.toLive){var w=v.repeat,E=e.util.invertTransform(_),O=this[p+"Vpt"],R=O?e.util.matrixToSVG(E):"";s.push('<rect transform="'+R+" translate(",C/2,",",S/2,')"',' x="',v.offsetX-C/2,'" y="',v.offsetY-S/2,'" ','width="',w==="repeat-y"||w==="no-repeat"?v.source.width:C,'" height="',w==="repeat-x"||w==="no-repeat"?v.source.height:S,'" fill="url(#SVGID_'+v.id+')"',`></rect>
`)}else s.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',v,'"',`></rect>
`)},sendToBack:function(s){if(!s)return this;var p=this._activeObject,v,_,C;if(s===p&&s.type==="activeSelection")for(C=p._objects,v=C.length;v--;)_=C[v],h(this._objects,_),this._objects.unshift(_);else h(this._objects,s),this._objects.unshift(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(s){if(!s)return this;var p=this._activeObject,v,_,C;if(s===p&&s.type==="activeSelection")for(C=p._objects,v=0;v<C.length;v++)_=C[v],h(this._objects,_),this._objects.push(_);else h(this._objects,s),this._objects.push(s);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(s,p){if(!s)return this;var v=this._activeObject,_,C,S,w,E,O=0;if(s===v&&s.type==="activeSelection")for(E=v._objects,_=0;_<E.length;_++)C=E[_],S=this._objects.indexOf(C),S>0+O&&(w=S-1,h(this._objects,C),this._objects.splice(w,0,C)),O++;else S=this._objects.indexOf(s),S!==0&&(w=this._findNewLowerIndex(s,S,p),h(this._objects,s),this._objects.splice(w,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(s,p,v){var _,C;if(v)for(_=p,C=p-1;C>=0;--C){var S=s.intersectsWithObject(this._objects[C])||s.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(s);if(S){_=C;break}}else _=p-1;return _},bringForward:function(s,p){if(!s)return this;var v=this._activeObject,_,C,S,w,E,O=0;if(s===v&&s.type==="activeSelection")for(E=v._objects,_=E.length;_--;)C=E[_],S=this._objects.indexOf(C),S<this._objects.length-1-O&&(w=S+1,h(this._objects,C),this._objects.splice(w,0,C)),O++;else S=this._objects.indexOf(s),S!==this._objects.length-1&&(w=this._findNewUpperIndex(s,S,p),h(this._objects,s),this._objects.splice(w,0,s));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(s,p,v){var _,C,S;if(v)for(_=p,C=p+1,S=this._objects.length;C<S;++C){var w=s.intersectsWithObject(this._objects[C])||s.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(s);if(w){_=C;break}}else _=p+1;return _},moveTo:function(s,p){return h(this._objects,s),this._objects.splice(p,0,s),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),c(e.StaticCanvas.prototype,e.Observable),c(e.StaticCanvas.prototype,e.Collection),c(e.StaticCanvas.prototype,e.DataURLExporter),c(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(s){var p=f();if(!p||!p.getContext)return null;var v=p.getContext("2d");if(!v)return null;switch(s){case"setLineDash":return typeof v.setLineDash!="undefined";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var s=a(this.lowerCanvasEl);return s&&s.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(s){var p=a(this.lowerCanvasEl);return p&&p.createJPEGStream(s)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(c){c.strokeStyle=this.color,c.lineWidth=this.width,c.lineCap=this.strokeLineCap,c.miterLimit=this.strokeMiterLimit,c.lineJoin=this.strokeLineJoin,c.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(c){var i=this.canvas.viewportTransform;c.save(),c.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(!!this.shadow){var c=this.canvas,i=this.shadow,h=c.contextTop,d=c.getZoom();c&&c._isRetinaScaling()&&(d*=e.devicePixelRatio),h.shadowColor=i.color,h.shadowBlur=i.blur*d,h.shadowOffsetX=i.offsetX*d,h.shadowOffsetY=i.offsetY*d}},needsFullRender:function(){var c=new e.Color(this.color);return c.getAlpha()<1||!!this.shadow},_resetShadow:function(){var c=this.canvas.contextTop;c.shadowColor="",c.shadowBlur=c.shadowOffsetX=c.shadowOffsetY=0},_isOutSideCanvas:function(c){return c.x<0||c.x>this.canvas.getWidth()||c.y<0||c.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(c){this.canvas=c,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(c,i,h){var d=i.midPointFrom(h);return c.quadraticCurveTo(i.x,i.y,d.x,d.y),d},onMouseDown:function(c,i){!this.canvas._isMainEvent(i.e)||(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(c),this._captureDrawingPath(c),this._render())},onMouseMove:function(c,i){if(!!this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c))&&this._captureDrawingPath(c)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,d=h.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,h[d-2],h[d-1],!0),l.stroke(),l.restore()}},onMouseUp:function(c){return this.canvas._isMainEvent(c.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(c){var i=new e.Point(c.x,c.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(c){return this._points.length>1&&c.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(c),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(c){var i=new e.Point(c.x,c.y);return this._addPoint(i)},_render:function(c){var i,h,d=this._points[0],l=this._points[1];if(c=c||this.canvas.contextTop,this._saveAndTransform(c),c.beginPath(),this._points.length===2&&d.x===l.x&&d.y===l.y){var u=this.width/1e3;d=new e.Point(d.x,d.y),l=new e.Point(l.x,l.y),d.x-=u,l.x+=u}for(c.moveTo(d.x,d.y),i=1,h=this._points.length;i<h;i++)this._drawSegment(c,d,l),d=this._points[i],l=this._points[i+1];c.lineTo(d.x,d.y),c.stroke(),c.restore()},convertPointsToSVGPath:function(c){var i=this.width/1e3;return e.util.getSmoothPathFromPoints(c,i)},_isEmptySVGPath:function(c){var i=e.util.joinPath(c);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(c){var i=new e.Path(c,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new e.Shadow(this.shadow)),i},decimatePoints:function(c,i){if(c.length<=2)return c;var h=this.canvas.getZoom(),d=Math.pow(i/h,2),l,u=c.length-1,a=c[0],f=[a],g;for(l=1;l<u-1;l++)g=Math.pow(a.x-c[l].x,2)+Math.pow(a.y-c[l].y,2),g>=d&&(a=c[l],f.push(a));return f.push(c[u]),f},_finalizeAndAddPath:function(){var c=this.canvas.contextTop;c.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var h=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(c){this.canvas=c,this.points=[]},drawDot:function(c){var i=this.addPoint(c),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,i),h.restore()},dot:function(c,i){c.fillStyle=i.fill,c.beginPath(),c.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),c.closePath(),c.fill()},onMouseDown:function(c){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(c)},_render:function(){var c=this.canvas.contextTop,i,h,d=this.points;for(this._saveAndTransform(c),i=0,h=d.length;i<h;i++)this.dot(c,d[i]);c.restore()},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(c),this._render()):this.drawDot(c))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove,i,h;this.canvas.renderOnAddRemove=!1;var d=[];for(i=0,h=this.points.length;i<h;i++){var l=this.points[i],u=new e.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(u.shadow=new e.Shadow(this.shadow)),d.push(u)}var a=new e.Group(d);a.canvas=this.canvas,this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},addPoint:function(c){var i=new e.Point(c.x,c.y),h=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return i.radius=h,i.fill=d,this.points.push(i),i}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(c){this.canvas=c,this.sprayChunks=[]},onMouseDown:function(c){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(c),this.render(this.sprayChunkPoints)},onMouseMove:function(c){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(c)||(this.addSprayChunk(c),this.render(this.sprayChunkPoints))},onMouseUp:function(){var c=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],h=0,d=this.sprayChunks.length;h<d;h++)for(var l=this.sprayChunks[h],u=0,a=l.length;u<a;u++){var f=new e.Rect({width:l[u].width,height:l[u].width,left:l[u].x+1,top:l[u].y+1,originX:"center",originY:"center",fill:this.color});i.push(f)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new e.Group(i);this.shadow&&g.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=c,this.canvas.requestRenderAll()},_getOptimizedRects:function(c){var i={},h,d,l;for(d=0,l=c.length;d<l;d++)h=c[d].left+""+c[d].top,i[h]||(i[h]=c[d]);var u=[];for(h in i)u.push(i[h]);return u},render:function(c){var i=this.canvas.contextTop,h,d;for(i.fillStyle=this.color,this._saveAndTransform(i),h=0,d=c.length;h<d;h++){var l=c[h];typeof l.opacity!="undefined"&&(i.globalAlpha=l.opacity),i.fillRect(l.x,l.y,l.width,l.width)}i.restore()},_render:function(){var c=this.canvas.contextTop,i,h;for(c.fillStyle=this.color,this._saveAndTransform(c),i=0,h=this.sprayChunks.length;i<h;i++)this.render(this.sprayChunks[i]);c.restore()},addSprayChunk:function(c){this.sprayChunkPoints=[];var i,h,d,l=this.width/2,u;for(u=0;u<this.density;u++){i=e.util.getRandomInt(c.x-l,c.x+l),h=e.util.getRandomInt(c.y-l,c.y+l),this.dotWidthVariance?d=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var a=new e.Point(i,h);a.width=d,this.randomOpacity&&(a.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(a)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var c=20,i=5,h=e.util.createCanvasElement(),d=h.getContext("2d");return h.width=h.height=c+i,d.fillStyle=this.color,d.beginPath(),d.arc(c/2,c/2,c/2,0,Math.PI*2,!1),d.closePath(),d.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(c){return c.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(c){this.callSuper("_setBrushStyles",c),c.strokeStyle=this.getPattern(c)},createPath:function(c){var i=this.callSuper("createPath",c),h=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),i}}),function(){var c=e.util.getPointer,i=e.util.degreesToRadians,h=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(l,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),u,a,f;if(l.length>0&&!this.preserveObjectStacking){a=[],f=[];for(var g=0,s=this._objects.length;g<s;g++)u=this._objects[g],l.indexOf(u)===-1?a.push(u):f.push(u);l.length>1&&(this._activeObject._objects=f),a.push.apply(a,f)}else a=this._objects;return a},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,u){var a=l.calcTransformMatrix(),f=e.util.invertTransform(a),g=this.restorePointerVpt(u);return e.util.transformPoint(g,f)},isTargetTransparent:function(l,u,a){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var f=this._normalizePointer(l,{x:u,y:a}),g=Math.max(l.cacheTranslationX+f.x*l.zoomX,0),s=Math.max(l.cacheTranslationY+f.y*l.zoomY,0),C=e.util.isTransparent(l._cacheContext,Math.round(g),Math.round(s),this.targetFindTolerance);return C}var p=this.contextCache,v=l.selectionBackgroundColor,_=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.render(p),p.restore(),l.selectionBackgroundColor=v;var C=e.util.isTransparent(p,u,a,this.targetFindTolerance);return C},_isSelectionKeyPressed:function(l){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(a){return l[a]===!0}):u=l[this.selectionKey],u},_shouldClearSelection:function(l,u){var a=this.getActiveObjects(),f=this._activeObject;return!u||u&&f&&a.length>1&&a.indexOf(u)===-1&&f!==u&&!this._isSelectionKeyPressed(l)||u&&!u.evented||u&&!u.selectable&&f&&f!==u},_shouldCenterTransform:function(l,u,a){if(!!l){var f;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?f=this.centeredScaling||l.centeredScaling:u==="rotate"&&(f=this.centeredRotation||l.centeredRotation),f?!a:a}},_getOriginFromCorner:function(l,u){var a={x:l.originX,y:l.originY};return u==="ml"||u==="tl"||u==="bl"?a.x="right":(u==="mr"||u==="tr"||u==="br")&&(a.x="left"),u==="tl"||u==="mt"||u==="tr"?a.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(a.y="top"),a},_getActionFromCorner:function(l,u,a,f){if(!u||!l)return"drag";var g=f.controls[u];return g.getActionName(a,g,f)},_setupCurrentTransform:function(l,u,a){if(!!u){var f=this.getPointer(l),g=u.__corner,s=u.controls[g],p=a&&g?s.getActionHandler(l,u,s):e.controlsUtils.dragHandler,v=this._getActionFromCorner(a,g,l,u),_=this._getOriginFromCorner(u,g),C=l[this.centeredKey],S={target:u,action:v,actionHandler:p,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:f.x-u.left,offsetY:f.y-u.top,originX:_.x,originY:_.y,ex:f.x,ey:f.y,lastX:f.x,lastY:f.y,theta:i(u.angle),width:u.width*u.scaleX,shiftKey:l.shiftKey,altKey:C,original:e.util.saveObjectTransform(u)};this._shouldCenterTransform(u,v,C)&&(S.originX="center",S.originY="center"),S.original.originX=_.x,S.original.originY=_.y,this._currentTransform=S,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var u=this._groupSelector,a=new e.Point(u.ex,u.ey),f=e.util.transformPoint(a,this.viewportTransform),g=new e.Point(u.ex+u.left,u.ey+u.top),s=e.util.transformPoint(g,this.viewportTransform),p=Math.min(f.x,s.x),v=Math.min(f.y,s.y),_=Math.max(f.x,s.x),C=Math.max(f.y,s.y),S=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(p,v,_-p,C-v)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,p+=S,v+=S,_-=S,C-=S,e.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(p,v,_-p,C-v))},findTarget:function(l,u){if(!this.skipTargetFind){var a=!0,f=this.getPointer(l,a),g=this._activeObject,s=this.getActiveObjects(),p,v,_=h(l),C=s.length>1&&!u||s.length===1;if(this.targets=[],C&&g._findTargetCorner(f,_)||s.length>1&&!u&&g===this._searchPossibleTargets([g],f))return g;if(s.length===1&&g===this._searchPossibleTargets([g],f))if(this.preserveObjectStacking)p=g,v=this.targets,this.targets=[];else return g;var S=this._searchPossibleTargets(this._objects,f);return l[this.altSelectionKey]&&S&&p&&S!==p&&(S=p,this.targets=v),S}},_checkTarget:function(l,u,a){if(u&&u.visible&&u.evented&&u.containsPoint(l))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var f=this.isTargetTransparent(u,a.x,a.y);if(!f)return!0}else return!0},_searchPossibleTargets:function(l,u){for(var a,f=l.length,g;f--;){var s=l[f],p=s.group?this._normalizePointer(s.group,u):u;if(this._checkTarget(p,s,u)){a=l[f],a.subTargetCheck&&a instanceof e.Group&&(g=this._searchPossibleTargets(a._objects,u),g&&this.targets.push(g));break}}return a},restorePointerVpt:function(l){return e.util.transformPoint(l,e.util.invertTransform(this.viewportTransform))},getPointer:function(l,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var a=c(l),f=this.upperCanvasEl,g=f.getBoundingClientRect(),s=g.width||0,p=g.height||0,v;(!s||!p)&&("top"in g&&"bottom"in g&&(p=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(s=Math.abs(g.right-g.left))),this.calcOffset(),a.x=a.x-this._offset.left,a.y=a.y-this._offset.top,u||(a=this.restorePointerVpt(a));var _=this.getRetinaScaling();return _!==1&&(a.x/=_,a.y/=_),s===0||p===0?v={width:1,height:1}:v={width:f.width/s,height:f.height/p},{x:a.x*v.width,y:a.y*v.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,a=this.upperCanvasEl;a?a.className="":(a=this._createCanvasElement(),this.upperCanvasEl=a),e.util.addClass(a,"upper-canvas "+l),this.wrapperEl.appendChild(a),this._copyCanvasStyle(u,a),this._applyCanvasStyle(a),this.contextTop=a.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var u=this.width||l.width,a=this.height||l.height;e.util.setStyle(l,{position:"absolute",width:u+"px",height:a+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=u,l.height=a,e.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,u){u.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,u){var a=!1,f=this.getActiveObjects(),g=[],s=[];l.forEach(function(p){f.indexOf(p)===-1&&(a=!0,p.fire("deselected",{e:u,target:p}),s.push(p))}),f.forEach(function(p){l.indexOf(p)===-1&&(a=!0,p.fire("selected",{e:u,target:p}),g.push(p))}),l.length>0&&f.length>0?a&&this.fire("selection:updated",{e:u,selected:g,deselected:s}):f.length>0?this.fire("selection:created",{e:u,selected:g}):l.length>0&&this.fire("selection:cleared",{e:u,deselected:s})},setActiveObject:function(l,u){var a=this.getActiveObjects();return this._setActiveObject(l,u),this._fireSelectionEvents(a,u),this},_setActiveObject:function(l,u){return this._activeObject===l||!this._discardActiveObject(u,l)||l.onSelect({e:u})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,u){var a=this._activeObject;if(a){if(a.onDeselect({e:l,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var u=this.getActiveObjects(),a=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:a,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(u,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(u){e.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var u=this._activeObject;u&&u._renderControls(l)},_toObject:function(l,u,a){var f=this._realizeGroupTransformOnObject(l),g=this.callSuper("_toObject",l,u,a);return this._unwindGroupTransformOnObject(l,f),g},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],a={};return u.forEach(function(f){a[f]=l[f]}),e.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),a}else return null},_unwindGroupTransformOnObject:function(l,u){u&&l.set(u)},_setSVGObject:function(l,u,a){var f=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",l,u,a),this._unwindGroupTransformOnObject(u,f)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var d in e.StaticCanvas)d!=="prototype"&&(e.Canvas[d]=e.StaticCanvas[d])}(),function(){var c=e.util.addListener,i=e.util.removeListener,h=3,d=2,l=1,u={passive:!1};function a(f,g){return f.button&&f.button===g-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(c,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(f,g){var s=this.upperCanvasEl,p=this._getEventPrefix();f(e.window,"resize",this._onResize),f(s,p+"down",this._onMouseDown),f(s,p+"move",this._onMouseMove,u),f(s,p+"out",this._onMouseOut),f(s,p+"enter",this._onMouseEnter),f(s,"wheel",this._onMouseWheel),f(s,"contextmenu",this._onContextMenu),f(s,"dblclick",this._onDoubleClick),f(s,"dragover",this._onDragOver),f(s,"dragenter",this._onDragEnter),f(s,"dragleave",this._onDragLeave),f(s,"drop",this._onDrop),this.enablePointerEvents||f(s,"touchstart",this._onTouchStart,u),typeof eventjs!="undefined"&&g in eventjs&&(eventjs[g](s,"gesture",this._onGesture),eventjs[g](s,"drag",this._onDrag),eventjs[g](s,"orientation",this._onOrientationChange),eventjs[g](s,"shake",this._onShake),eventjs[g](s,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var f=this._getEventPrefix();i(e.document,f+"up",this._onMouseUp),i(e.document,"touchend",this._onTouchEnd,u),i(e.document,f+"move",this._onMouseMove,u),i(e.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(f,g){this.__onTransformGesture&&this.__onTransformGesture(f,g)},_onDrag:function(f,g){this.__onDrag&&this.__onDrag(f,g)},_onMouseWheel:function(f){this.__onMouseWheel(f)},_onMouseOut:function(f){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:f}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:f});var s=this;this._hoveredTargets.forEach(function(p){s.fire("mouse:out",{target:g,e:f}),p&&g.fire("mouseout",{e:f})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(p){p.isEditing&&p.hiddenTextarea.focus()})},_onMouseEnter:function(f){!this._currentTransform&&!this.findTarget(f)&&(this.fire("mouse:over",{target:null,e:f}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(f,g){this.__onOrientationChange&&this.__onOrientationChange(f,g)},_onShake:function(f,g){this.__onShake&&this.__onShake(f,g)},_onLongPress:function(f,g){this.__onLongPress&&this.__onLongPress(f,g)},_onDragOver:function(f){f.preventDefault();var g=this._simpleEventHandler("dragover",f);this._fireEnterLeaveEvents(g,f)},_onDrop:function(f){return this._simpleEventHandler("drop:before",f),this._simpleEventHandler("drop",f)},_onContextMenu:function(f){return this.stopContextMenu&&(f.stopPropagation(),f.preventDefault()),!1},_onDoubleClick:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"dblclick"),this._resetTransformEventData(f)},getPointerId:function(f){var g=f.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?f.pointerId:-1},_isMainEvent:function(f){return f.isPrimary===!0?!0:f.isPrimary===!1?!1:f.type==="touchend"&&f.touches.length===0?!0:f.changedTouches?f.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(f){f.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(f)),this.__onMouseDown(f),this._resetTransformEventData();var g=this.upperCanvasEl,s=this._getEventPrefix();c(e.document,"touchend",this._onTouchEnd,u),c(e.document,"touchmove",this._onMouseMove,u),i(g,s+"down",this._onMouseDown)},_onMouseDown:function(f){this.__onMouseDown(f),this._resetTransformEventData();var g=this.upperCanvasEl,s=this._getEventPrefix();i(g,s+"move",this._onMouseMove,u),c(e.document,s+"up",this._onMouseUp),c(e.document,s+"move",this._onMouseMove,u)},_onTouchEnd:function(f){if(!(f.touches.length>0)){this.__onMouseUp(f),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(e.document,"touchend",this._onTouchEnd,u),i(e.document,"touchmove",this._onMouseMove,u);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){c(s.upperCanvasEl,g+"down",s._onMouseDown),s._willAddMouseDown=0},400)}},_onMouseUp:function(f){this.__onMouseUp(f),this._resetTransformEventData();var g=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(f)&&(i(e.document,s+"up",this._onMouseUp),i(e.document,s+"move",this._onMouseMove,u),c(g,s+"move",this._onMouseMove,u))},_onMouseMove:function(f){!this.allowTouchScrolling&&f.preventDefault&&f.preventDefault(),this.__onMouseMove(f)},_onResize:function(){this.calcOffset()},_shouldRender:function(f){var g=this._activeObject;return!!g!=!!f||g&&f&&g!==f?!0:(g&&g.isEditing,!1)},__onMouseUp:function(f){var g,s=this._currentTransform,p=this._groupSelector,v=!1,_=!p||p.left===0&&p.top===0;if(this._cacheTransformEventData(f),g=this._target,this._handleEvent(f,"up:before"),a(f,h)){this.fireRightClick&&this._handleEvent(f,"up",h,_);return}if(a(f,d)){this.fireMiddleClick&&this._handleEvent(f,"up",d,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(f);return}if(!!this._isMainEvent(f)){if(s&&(this._finalizeCurrentTransform(f),v=s.actionPerformed),!_){var C=g===this._activeObject;this._maybeGroupObjects(f),v||(v=this._shouldRender(g)||!C&&g===this._activeObject)}var S,w;if(g){if(S=g._findTargetCorner(this.getPointer(f,!0),e.util.isTouchEvent(f)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,f),v=!0;else{var E=g.controls[S],O=E&&E.getMouseUpHandler(f,g,E);O&&(w=this.getPointer(f),O(f,s,w.x,w.y))}g.isMoving=!1}if(s&&(s.target!==g||s.corner!==S)){var R=s.target&&s.target.controls[s.corner],F=R&&R.getMouseUpHandler(f,g,E);w=w||this.getPointer(f),F&&F(f,s,w.x,w.y)}this._setCursorFromEvent(f,g),this._handleEvent(f,"up",l,_),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),v?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(f,g){var s=this.findTarget(g),p=this.targets,v={e:g,target:s,subTargets:p};if(this.fire(f,v),s&&s.fire(f,v),!p)return s;for(var _=0;_<p.length;_++)p[_].fire(f,v);return s},_handleEvent:function(f,g,s,p){var v=this._target,_=this.targets||[],C={e:f,target:v,subTargets:_,button:s||l,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(C.currentTarget=this.findTarget(f),C.currentSubTargets=this.targets),this.fire("mouse:"+g,C),v&&v.fire("mouse"+g,C);for(var S=0;S<_.length;S++)_[S].fire("mouse"+g,C)},_finalizeCurrentTransform:function(f){var g=this._currentTransform,s=g.target,p={e:f,target:s,transform:g,action:g.action};s._scaling&&(s._scaling=!1),s.setCoords(),(g.actionPerformed||this.stateful&&s.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(f){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(f).requestRenderAll();var g=this.getPointer(f);this.freeDrawingBrush.onMouseDown(g,{e:f,pointer:g}),this._handleEvent(f,"down")},_onMouseMoveInDrawingMode:function(f){if(this._isCurrentlyDrawing){var g=this.getPointer(f);this.freeDrawingBrush.onMouseMove(g,{e:f,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(f,"move")},_onMouseUpInDrawingMode:function(f){var g=this.getPointer(f);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:f,pointer:g}),this._handleEvent(f,"up")},__onMouseDown:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"down:before");var g=this._target;if(a(f,h)){this.fireRightClick&&this._handleEvent(f,"down",h);return}if(a(f,d)){this.fireMiddleClick&&this._handleEvent(f,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(f);return}if(!!this._isMainEvent(f)&&!this._currentTransform){var s=this._pointer;this._previousPointer=s;var p=this._shouldRender(g),v=this._shouldGroup(f,g);if(this._shouldClearSelection(f,g)?this.discardActiveObject(f):v&&(this._handleGrouping(f,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var _=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,f);var C=g._findTargetCorner(this.getPointer(f,!0),e.util.isTouchEvent(f));if(g.__corner=C,g===this._activeObject&&(C||!v)){this._setupCurrentTransform(f,g,_);var S=g.controls[C],s=this.getPointer(f),w=S&&S.getMouseDownHandler(f,g,S);w&&w(f,this._currentTransform,s.x,s.y)}}this._handleEvent(f,"down"),(p||v)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(f){this._resetTransformEventData(),this._pointer=this.getPointer(f,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(f)||null},_beforeTransform:function(f){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:f,transform:g})},__onMouseMove:function(f){this._handleEvent(f,"move:before"),this._cacheTransformEventData(f);var g,s;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(f);return}if(!!this._isMainEvent(f)){var p=this._groupSelector;p?(s=this._absolutePointer,p.left=s.x-p.ex,p.top=s.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(f):(g=this.findTarget(f)||null,this._setCursorFromEvent(f,g),this._fireOverOutEvents(g,f)),this._handleEvent(f,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(f,g){var s=this._hoveredTarget,p=this._hoveredTargets,v=this.targets,_=Math.max(p.length,v.length);this.fireSyntheticInOutEvents(f,g,{oldTarget:s,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var C=0;C<_;C++)this.fireSyntheticInOutEvents(v[C],g,{oldTarget:p[C],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=f,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(f,g){var s=this._draggedoverTarget,p=this._hoveredTargets,v=this.targets,_=Math.max(p.length,v.length);this.fireSyntheticInOutEvents(f,g,{oldTarget:s,evtOut:"dragleave",evtIn:"dragenter"});for(var C=0;C<_;C++)this.fireSyntheticInOutEvents(v[C],g,{oldTarget:p[C],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=f},fireSyntheticInOutEvents:function(f,g,s){var p,v,_=s.oldTarget,C,S,w=_!==f,E=s.canvasEvtIn,O=s.canvasEvtOut;w&&(p={e:g,target:f,previousTarget:_},v={e:g,target:_,nextTarget:f}),S=f&&w,C=_&&w,C&&(O&&this.fire(O,v),_.fire(s.evtOut,v)),S&&(E&&this.fire(E,p),f.fire(s.evtIn,p))},__onMouseWheel:function(f){this._cacheTransformEventData(f),this._handleEvent(f,"wheel"),this._resetTransformEventData()},_transformObject:function(f){var g=this.getPointer(f),s=this._currentTransform;s.reset=!1,s.shiftKey=f.shiftKey,s.altKey=f[this.centeredKey],this._performTransformAction(f,s,g),s.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(f,g,s){var p=s.x,v=s.y,_=g.action,C=!1,S=g.actionHandler;S&&(C=S(f,g,p,v)),_==="drag"&&C&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||C},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(f,g){if(!g)return this.setCursor(this.defaultCursor),!1;var s=g.hoverCursor||this.hoverCursor,p=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,v=(!p||!p.contains(g))&&g._findTargetCorner(this.getPointer(f,!0));v?this.setCursor(this.getCornerCursor(v,g,f)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(_){s=_.hoverCursor||s}),this.setCursor(s))},getCornerCursor:function(f,g,s){var p=g.controls[f];return p.cursorStyleHandler(s,p,g)}})}(),function(){var c=Math.min,i=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(h,d){var l=this._activeObject;return l&&this._isSelectionKeyPressed(h)&&d&&d.selectable&&this.selection&&(l!==d||l.type==="activeSelection")&&!d.onSelect({e:h})},_handleGrouping:function(h,d){var l=this._activeObject;l.__corner||d===l&&(d=this.findTarget(h,!0),!d||!d.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(d,h):this._createActiveSelection(d,h))},_updateActiveSelection:function(h,d){var l=this._activeObject,u=l._objects.slice(0);l.contains(h)?(l.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),d)):(l.addWithUpdate(h),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,d)},_createActiveSelection:function(h,d){var l=this.getActiveObjects(),u=this._createGroup(h);this._hoveredTarget=u,this._setActiveObject(u,d),this._fireSelectionEvents(l,d)},_createGroup:function(h){var d=this._objects,l=d.indexOf(this._activeObject)<d.indexOf(h),u=l?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(h){var d=this._collectObjects(h),l;d.length===1?this.setActiveObject(d[0],h):d.length>1&&(l=new e.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(l,h))},_collectObjects:function(h){for(var d=[],l,u=this._groupSelector.ex,a=this._groupSelector.ey,f=u+this._groupSelector.left,g=a+this._groupSelector.top,s=new e.Point(c(u,f),c(a,g)),p=new e.Point(i(u,f),i(a,g)),v=!this.selectionFullyContained,_=u===f&&a===g,C=this._objects.length;C--&&(l=this._objects[C],!(!(!l||!l.selectable||!l.visible)&&(v&&l.intersectsWithRect(s,p,!0)||l.isContainedWithinRect(s,p,!0)||v&&l.containsPoint(s,null,!0)||v&&l.containsPoint(p,null,!0))&&(d.push(l),_))););return d.length>1&&(d=d.filter(function(S){return!S.onSelect({e:h})})),d},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(c){c||(c={});var i=c.format||"png",h=c.quality||1,d=(c.multiplier||1)*(c.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(d,c);return e.util.toDataURL(l,i,h)},toCanvasElement:function(c,i){c=c||1,i=i||{};var h=(i.width||this.width)*c,d=(i.height||this.height)*c,l=this.getZoom(),u=this.width,a=this.height,f=l*c,g=this.viewportTransform,s=(g[4]-(i.left||0))*c,p=(g[5]-(i.top||0))*c,v=this.interactive,_=[f,0,0,f,s,p],C=this.enableRetinaScaling,S=e.util.createCanvasElement(),w=this.contextTop;return S.width=h,S.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=h,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=a,this.calcViewportBoundaries(),this.interactive=v,this.enableRetinaScaling=C,this.contextTop=w,S}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(c,i,h){if(!!c){var d=typeof c=="string"?JSON.parse(c):e.util.object.clone(c),l=this,u=d.clipPath,a=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(f){l.clear(),l._setBgOverlay(d,function(){u?l._enlivenObjects([u],function(g){l.clipPath=g[0],l.__setupCanvas.call(l,d,f,a,i)}):l.__setupCanvas.call(l,d,f,a,i)})},h),this}},__setupCanvas:function(c,i,h,d){var l=this;i.forEach(function(u,a){l.insertAt(u,a)}),this.renderOnAddRemove=h,delete c.objects,delete c.backgroundImage,delete c.overlayImage,delete c.background,delete c.overlay,this._setOptions(c),this.renderAll(),d&&d()},_setBgOverlay:function(c,i){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!c.backgroundImage&&!c.overlayImage&&!c.background&&!c.overlay){i&&i();return}var d=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",c.backgroundImage,h,d),this.__setBgOverlay("overlayImage",c.overlayImage,h,d),this.__setBgOverlay("backgroundColor",c.background,h,d),this.__setBgOverlay("overlayColor",c.overlay,h,d)},__setBgOverlay:function(c,i,h,d){var l=this;if(!i){h[c]=!0,d&&d();return}c==="backgroundImage"||c==="overlayImage"?e.util.enlivenObjects([i],function(u){l[c]=u[0],h[c]=!0,d&&d()}):this["set"+e.util.string.capitalize(c,!0)](i,function(){h[c]=!0,d&&d()})},_enlivenObjects:function(c,i,h){if(!c||c.length===0){i&&i([]);return}e.util.enlivenObjects(c,function(d){i&&i(d)},null,h)},_toDataURL:function(c,i){this.clone(function(h){i(h.toDataURL(c))})},_toDataURLWithMultiplier:function(c,i,h){this.clone(function(d){h(d.toDataURLWithMultiplier(c,i))})},clone:function(c,i){var h=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(d){d.loadFromJSON(h,function(){c&&c(d)})})},cloneWithoutData:function(c){var i=e.util.createCanvasElement();i.width=this.width,i.height=this.height;var h=new e.Canvas(i);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),c&&c(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):c&&c(h)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.util.object.clone,l=i.util.toFixed,u=i.util.string.capitalize,a=i.util.degreesToRadians,f=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:f,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(s){s&&this.setOptions(s)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(s){var p=i.perfLimitSizeTotal,v=s.width,_=s.height,C=i.maxCacheSideLimit,S=i.minCacheSideLimit;if(v<=C&&_<=C&&v*_<=p)return v<S&&(s.width=S),_<S&&(s.height=S),s;var w=v/_,E=i.util.limitDimsByArea(w,p),O=i.util.capValue,R=O(S,E.x,C),F=O(S,E.y,C);return v>R&&(s.zoomX/=v/R,s.width=R,s.capped=!0),_>F&&(s.zoomY/=_/F,s.height=F,s.capped=!0),s},_getCacheCanvasDimensions:function(){var s=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),v=p.x*s.scaleX/this.scaleX,_=p.y*s.scaleY/this.scaleY;return{width:v+g,height:_+g,zoomX:s.scaleX,zoomY:s.scaleY,x:v,y:_}},_updateCacheCanvas:function(){var s=this.canvas;if(this.noScaleCache&&s&&s._currentTransform){var p=s._currentTransform.target,v=s._currentTransform.action;if(this===p&&v.slice&&v.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,C=this._limitCacheSize(this._getCacheCanvasDimensions()),S=i.minCacheSideLimit,w=C.width,E=C.height,O,R,F=C.zoomX,X=C.zoomY,G=w!==this.cacheWidth||E!==this.cacheHeight,$=this.zoomX!==F||this.zoomY!==X,Q=G||$,K=0,te=0,re=!1;if(G){var ne=this._cacheCanvas.width,T=this._cacheCanvas.height,D=w>ne||E>T,b=(w<ne*.9||E<T*.9)&&ne>S&&T>S;re=D||b,D&&!C.capped&&(w>S||E>S)&&(K=w*.1,te=E*.1)}return this instanceof i.Text&&this.path&&(Q=!0,re=!0,K+=this.getHeightOfLine(0)*this.zoomX,te+=this.getHeightOfLine(0)*this.zoomY),Q?(re?(_.width=Math.ceil(w+K),_.height=Math.ceil(E+te)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),O=C.x/2,R=C.y/2,this.cacheTranslationX=Math.round(_.width/2-O)+O,this.cacheTranslationY=Math.round(_.height/2-R)+R,this.cacheWidth=w,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(F,X),this.zoomX=F,this.zoomY=X,!0):!1},setOptions:function(s){this._setOptions(s),this._initGradient(s.fill,"fill"),this._initGradient(s.stroke,"stroke"),this._initPattern(s.fill,"fill"),this._initPattern(s.stroke,"stroke")},transform:function(s){var p=this.group&&!this.group._transformDone||this.group&&this.canvas&&s===this.canvas.contextTop,v=this.calcTransformMatrix(!p);s.transform(v[0],v[1],v[2],v[3],v[4],v[5])},toObject:function(s){var p=i.Object.NUM_FRACTION_DIGITS,v={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:l(this.left,p),top:l(this.top,p),width:l(this.width,p),height:l(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,p),scaleX:l(this.scaleX,p),scaleY:l(this.scaleY,p),angle:l(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,p),skewY:l(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(v.clipPath=this.clipPath.toObject(s),v.clipPath.inverted=this.clipPath.inverted,v.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,v,s),this.includeDefaultValues||(v=this._removeDefaultValues(v)),v},toDatalessObject:function(s){return this.toObject(s)},_removeDefaultValues:function(s){var p=i.util.getKlass(s.type).prototype,v=p.stateProperties;return v.forEach(function(_){_==="left"||_==="top"||(s[_]===p[_]&&delete s[_],Array.isArray(s[_])&&Array.isArray(p[_])&&s[_].length===0&&p[_].length===0&&delete s[_])}),s},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var s=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(s.scaleX),scaleY:Math.abs(s.scaleY)}},getTotalObjectScaling:function(){var s=this.getObjectScaling(),p=s.scaleX,v=s.scaleY;if(this.canvas){var _=this.canvas.getZoom(),C=this.canvas.getRetinaScaling();p*=_*C,v*=_*C}return{scaleX:p,scaleY:v}},getObjectOpacity:function(){var s=this.opacity;return this.group&&(s*=this.group.getObjectOpacity()),s},_set:function(s,p){var v=s==="scaleX"||s==="scaleY",_=this[s]!==p,C=!1;return v&&(p=this._constrainScale(p)),s==="scaleX"&&p<0?(this.flipX=!this.flipX,p*=-1):s==="scaleY"&&p<0?(this.flipY=!this.flipY,p*=-1):s==="shadow"&&p&&!(p instanceof i.Shadow)?p=new i.Shadow(p):s==="dirty"&&this.group&&this.group.set("dirty",p),this[s]=p,_&&(C=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(s)>-1?(this.dirty=!0,C&&this.group.set("dirty",!0)):C&&this.stateProperties.indexOf(s)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(s){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(s.save(),this._setupCompositeOperation(s),this.drawSelectionBackground(s),this.transform(s),this._setOpacity(s),this._setShadow(s,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(s)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(s),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),s.restore())},renderCache:function(s){s=s||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,s.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(s,p){if(s.save(),p.inverted?s.globalCompositeOperation="destination-out":s.globalCompositeOperation="destination-in",p.absolutePositioned){var v=i.util.invertTransform(this.calcTransformMatrix());s.transform(v[0],v[1],v[2],v[3],v[4],v[5])}p.transform(s),s.scale(1/p.zoomX,1/p.zoomY),s.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),s.restore()},drawObject:function(s,p){var v=this.fill,_=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(s)):this._renderBackground(s),this._render(s),this._drawClipPath(s,this.clipPath),this.fill=v,this.stroke=_},_drawClipPath:function(s,p){!p||(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(s,p))},drawCacheOnCanvas:function(s){s.scale(1/this.zoomX,1/this.zoomY),s.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(s){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!s&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!s){var p=this.cacheWidth/this.zoomX,v=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-v/2,p,v)}return!0}return!1},_renderBackground:function(s){if(!!this.backgroundColor){var p=this._getNonTransformedDimensions();s.fillStyle=this.backgroundColor,s.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(s)}},_setOpacity:function(s){this.group&&!this.group._transformDone?s.globalAlpha=this.getObjectOpacity():s.globalAlpha*=this.opacity},_setStrokeStyles:function(s,p){var v=p.stroke;v&&(s.lineWidth=p.strokeWidth,s.lineCap=p.strokeLineCap,s.lineDashOffset=p.strokeDashOffset,s.lineJoin=p.strokeLineJoin,s.miterLimit=p.strokeMiterLimit,v.toLive?v.gradientUnits==="percentage"||v.gradientTransform||v.patternTransform?this._applyPatternForTransformedGradient(s,v):(s.strokeStyle=v.toLive(s,this),this._applyPatternGradientTransform(s,v)):s.strokeStyle=p.stroke)},_setFillStyles:function(s,p){var v=p.fill;v&&(v.toLive?(s.fillStyle=v.toLive(s,this),this._applyPatternGradientTransform(s,p.fill)):s.fillStyle=v)},_setClippingProperties:function(s){s.globalAlpha=1,s.strokeStyle="transparent",s.fillStyle="#000000"},_setLineDash:function(s,p){!p||p.length===0||(1&p.length&&p.push.apply(p,p),s.setLineDash(p))},_renderControls:function(s,p){var v=this.getViewportTransform(),_=this.calcTransformMatrix(),C,S,w;p=p||{},S=typeof p.hasBorders!="undefined"?p.hasBorders:this.hasBorders,w=typeof p.hasControls!="undefined"?p.hasControls:this.hasControls,_=i.util.multiplyTransformMatrices(v,_),C=i.util.qrDecompose(_),s.save(),s.translate(C.translateX,C.translateY),s.lineWidth=1*this.borderScaleFactor,this.group||(s.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(C.angle-=180),s.rotate(a(this.group?C.angle:this.angle)),p.forActiveSelection||this.group?S&&this.drawBordersInGroup(s,C,p):S&&this.drawBorders(s,p),w&&this.drawControls(s,p),s.restore()},_setShadow:function(s){if(!!this.shadow){var p=this.shadow,v=this.canvas,_,C=v&&v.viewportTransform[0]||1,S=v&&v.viewportTransform[3]||1;p.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),v&&v._isRetinaScaling()&&(C*=i.devicePixelRatio,S*=i.devicePixelRatio),s.shadowColor=p.color,s.shadowBlur=p.blur*i.browserShadowBlurConstant*(C+S)*(_.scaleX+_.scaleY)/4,s.shadowOffsetX=p.offsetX*C*_.scaleX,s.shadowOffsetY=p.offsetY*S*_.scaleY}},_removeShadow:function(s){!this.shadow||(s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0)},_applyPatternGradientTransform:function(s,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var v=p.gradientTransform||p.patternTransform,_=-this.width/2+p.offsetX||0,C=-this.height/2+p.offsetY||0;return p.gradientUnits==="percentage"?s.transform(this.width,0,0,this.height,_,C):s.transform(1,0,0,1,_,C),v&&s.transform(v[0],v[1],v[2],v[3],v[4],v[5]),{offsetX:_,offsetY:C}},_renderPaintInOrder:function(s){this.paintFirst==="stroke"?(this._renderStroke(s),this._renderFill(s)):(this._renderFill(s),this._renderStroke(s))},_render:function(){},_renderFill:function(s){!this.fill||(s.save(),this._setFillStyles(s,this),this.fillRule==="evenodd"?s.fill("evenodd"):s.fill(),s.restore())},_renderStroke:function(s){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();s.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&s.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(s,this.strokeDashArray),this._setStrokeStyles(s,this),s.stroke(),s.restore()}},_applyPatternForTransformedGradient:function(s,p){var v=this._limitCacheSize(this._getCacheCanvasDimensions()),_=i.util.createCanvasElement(),C,S=this.canvas.getRetinaScaling(),w=v.x/this.scaleX/S,E=v.y/this.scaleY/S;_.width=w,_.height=E,C=_.getContext("2d"),C.beginPath(),C.moveTo(0,0),C.lineTo(w,0),C.lineTo(w,E),C.lineTo(0,E),C.closePath(),C.translate(w/2,E/2),C.scale(v.zoomX/this.scaleX/S,v.zoomY/this.scaleY/S),this._applyPatternGradientTransform(C,p),C.fillStyle=p.toLive(s),C.fill(),s.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),s.scale(S*this.scaleX/v.zoomX,S*this.scaleY/v.zoomY),s.strokeStyle=C.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var s=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",s.scaleX),this.set("scaleY",s.scaleY),this.angle=s.angle,this.skewX=s.skewX,this.skewY=0}},_removeTransformMatrix:function(s){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=i.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,s&&(this.scaleX*=s.scaleX,this.scaleY*=s.scaleY,this.cropX=s.cropX,this.cropY=s.cropY,p.x+=s.offsetLeft,p.y+=s.offsetTop,this.width=s.width,this.height=s.height),this.setPositionByOrigin(p,"center","center")},clone:function(s,p){var v=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(v,s):i.Object._fromObject("Object",v,s)},cloneAsImage:function(s,p){var v=this.toCanvasElement(p);return s&&s(new i.Image(v)),this},toCanvasElement:function(s){s||(s={});var p=i.util,v=p.saveObjectTransform(this),_=this.group,C=this.shadow,S=Math.abs,w=(s.multiplier||1)*(s.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,s.withoutTransform&&p.resetObjectTransform(this),s.withoutShadow&&(this.shadow=null);var E=i.util.createCanvasElement(),O=this.getBoundingRect(!0,!0),R=this.shadow,F,X={x:0,y:0},G,$,Q;R&&(G=R.blur,R.nonScaling?F={scaleX:1,scaleY:1}:F=this.getObjectScaling(),X.x=2*Math.round(S(R.offsetX)+G)*S(F.scaleX),X.y=2*Math.round(S(R.offsetY)+G)*S(F.scaleY)),$=O.width+X.x,Q=O.height+X.y,E.width=Math.ceil($),E.height=Math.ceil(Q);var K=new i.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});s.format==="jpeg"&&(K.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(K.width/2,K.height/2),"center","center");var te=this.canvas;K.add(this);var re=K.toCanvasElement(w||1,s);return this.shadow=C,this.set("canvas",te),_&&(this.group=_),this.set(v).setCoords(),K._objects=[],K.dispose(),K=null,re},toDataURL:function(s){return s||(s={}),i.util.toDataURL(this.toCanvasElement(s),s.format||"png",s.quality||1)},isType:function(s){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===s},complexity:function(){return 1},toJSON:function(s){return this.toObject(s)},rotate:function(s){var p=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",s),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(s,p){p=p||this.canvas.getPointer(s);var v=new i.Point(p.x,p.y),_=this._getLeftTopCoords();return this.angle&&(v=i.util.rotatePoint(v,_,a(-this.angle))),{x:v.x-_.x,y:v.y-_.y}},_setupCompositeOperation:function(s){this.globalCompositeOperation&&(s.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),h(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(s,p,v,_){var C=i[s];p=d(p,!0),i.util.enlivenPatterns([p.fill,p.stroke],function(S){typeof S[0]!="undefined"&&(p.fill=S[0]),typeof S[1]!="undefined"&&(p.stroke=S[1]),i.util.enlivenObjectEnlivables(p,p,function(){var w=_?new C(p[_],p):new C(p);v&&v(w)})})},i.Object.__uid=0)}(t),function(){var c=e.util.degreesToRadians,i={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(d,l,u,a,f){var g=d.x,s=d.y,p,v,_;return typeof l=="string"?l=i[l]:l-=.5,typeof a=="string"?a=i[a]:a-=.5,p=a-l,typeof u=="string"?u=h[u]:u-=.5,typeof f=="string"?f=h[f]:f-=.5,v=f-u,(p||v)&&(_=this._getTransformedDimensions(),g=d.x+p*_.x,s=d.y+v*_.y),new e.Point(g,s)},translateToCenterPoint:function(d,l,u){var a=this.translateToGivenOrigin(d,l,u,"center","center");return this.angle?e.util.rotatePoint(a,d,c(this.angle)):a},translateToOriginPoint:function(d,l,u){var a=this.translateToGivenOrigin(d,"center","center",l,u);return this.angle?e.util.rotatePoint(a,d,c(this.angle)):a},getCenterPoint:function(){var d=new e.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,l){var u=this.getCenterPoint();return this.translateToOriginPoint(u,d,l)},toLocalPoint:function(d,l,u){var a=this.getCenterPoint(),f,g;return typeof l!="undefined"&&typeof u!="undefined"?f=this.translateToGivenOrigin(a,"center","center",l,u):f=new e.Point(this.left,this.top),g=new e.Point(d.x,d.y),this.angle&&(g=e.util.rotatePoint(g,a,-c(this.angle))),g.subtractEquals(f)},setPositionByOrigin:function(d,l,u){var a=this.translateToCenterPoint(d,l,u),f=this.translateToOriginPoint(a,this.originX,this.originY);this.set("left",f.x),this.set("top",f.y)},adjustPosition:function(d){var l=c(this.angle),u=this.getScaledWidth(),a=e.util.cos(l)*u,f=e.util.sin(l)*u,g,s;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof d=="string"?s=i[d]:s=d-.5,this.left+=a*(s-g),this.top+=f*(s-g),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function c(u){return[new e.Point(u.tl.x,u.tl.y),new e.Point(u.tr.x,u.tr.y),new e.Point(u.br.x,u.br.y),new e.Point(u.bl.x,u.bl.y)]}var i=e.util,h=i.degreesToRadians,d=i.multiplyTransformMatrices,l=i.transformPoint;i.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,a){return a?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,a){return c(this._getCoords(u,a))},intersectsWithRect:function(u,a,f,g){var s=this.getCoords(f,g),p=e.Intersection.intersectPolygonRectangle(s,u,a);return p.status==="Intersection"},intersectsWithObject:function(u,a,f){var g=e.Intersection.intersectPolygonPolygon(this.getCoords(a,f),u.getCoords(a,f));return g.status==="Intersection"||u.isContainedWithinObject(this,a,f)||this.isContainedWithinObject(u,a,f)},isContainedWithinObject:function(u,a,f){for(var g=this.getCoords(a,f),s=a?u.aCoords:u.lineCoords,p=0,v=u._getImageLines(s);p<4;p++)if(!u.containsPoint(g[p],v))return!1;return!0},isContainedWithinRect:function(u,a,f,g){var s=this.getBoundingRect(f,g);return s.left>=u.x&&s.left+s.width<=a.x&&s.top>=u.y&&s.top+s.height<=a.y},containsPoint:function(u,p,f,g){var s=this._getCoords(f,g),p=p||this._getImageLines(s),v=this._findCrossPoints(u,p);return v!==0&&v%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br,g=this.getCoords(!0,u);return g.some(function(s){return s.x<=f.x&&s.x>=a.x&&s.y<=f.y&&s.y>=a.y})||this.intersectsWithRect(a,f,!0,u)?!0:this._containsCenterOfCanvas(a,f,u)},_containsCenterOfCanvas:function(u,a,f){var g={x:(u.x+a.x)/2,y:(u.y+a.y)/2};return!!this.containsPoint(g,null,!0,f)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var a=this.canvas.vptCoords.tl,f=this.canvas.vptCoords.br;if(this.intersectsWithRect(a,f,!0,u))return!0;var g=this.getCoords(!0,u).every(function(s){return(s.x>=f.x||s.x<=a.x)&&(s.y>=f.y||s.y<=a.y)});return g&&this._containsCenterOfCanvas(a,f,u)},_getImageLines:function(u){var a={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return a},_findCrossPoints:function(u,a){var f,g,s,p,v,_=0,C;for(var S in a)if(C=a[S],!(C.o.y<u.y&&C.d.y<u.y)&&!(C.o.y>=u.y&&C.d.y>=u.y)&&(C.o.x===C.d.x&&C.o.x>=u.x?v=C.o.x:(f=0,g=(C.d.y-C.o.y)/(C.d.x-C.o.x),s=u.y-f*u.x,p=C.o.y-g*C.o.x,v=-(s-p)/(f-g)),v>=u.x&&(_+=1),_===2))break;return _},getBoundingRect:function(u,a){var f=this.getCoords(u,a);return i.makeBoundingBoxFromPoints(f)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,a){var f=this.getBoundingRect(a).width/this.getScaledWidth();return this.scale(u/this.width/f)},scaleToHeight:function(u,a){var f=this.getBoundingRect(a).height/this.getScaledHeight();return this.scale(u/this.height/f)},calcLineCoords:function(){var u=this.getViewportTransform(),a=this.padding,f=h(this.angle),g=i.cos(f),s=i.sin(f),p=g*a,v=s*a,_=p+v,C=p-v,S=this.calcACoords(),w={tl:l(S.tl,u),tr:l(S.tr,u),bl:l(S.bl,u),br:l(S.br,u)};return a&&(w.tl.x-=C,w.tl.y-=_,w.tr.x+=_,w.tr.y-=C,w.bl.x-=_,w.bl.y+=C,w.br.x+=C,w.br.y+=_),w},calcOCoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=this.getViewportTransform(),g=d(f,a),s=d(g,u),s=d(s,[1/f[0],0,0,1/f[3],0,0]),p=this._calculateCurrentDimensions(),v={};return this.forEachControl(function(_,C,S){v[C]=_.positionHandler(p,s,S)}),v},calcACoords:function(){var u=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),f=d(a,u),g=this._getTransformedDimensions(),s=g.x/2,p=g.y/2;return{tl:l({x:-s,y:-p},f),tr:l({x:s,y:-p},f),bl:l({x:-s,y:p},f),br:l({x:s,y:p},f)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var a="_",f="";return!u&&this.group&&(f=this.group.transformMatrixKey(u)+a),f+this.top+a+this.left+a+this.scaleX+a+this.scaleY+a+this.skewX+a+this.skewY+a+this.angle+a+this.originX+a+this.originY+a+this.width+a+this.height+a+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var a=this.calcOwnMatrix();if(u||!this.group)return a;var f=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===f?g.value:(this.group&&(a=d(this.group.calcTransformMatrix(!1),a)),g.key=f,g.value=a,a)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),a=this.ownMatrixCache||(this.ownMatrixCache={});if(a.key===u)return a.value;var f=this._calcTranslateMatrix(),g={angle:this.angle,translateX:f[4],translateY:f[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return a.key=u,a.value=i.composeMatrix(g),a.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,a=this.width+u,f=this.height+u;return{x:a,y:f}},_getTransformedDimensions:function(u,a){typeof u=="undefined"&&(u=this.skewX),typeof a=="undefined"&&(a=this.skewY);var f,g,s,p=u===0&&a===0;if(this.strokeUniform?(g=this.width,s=this.height):(f=this._getNonTransformedDimensions(),g=f.x,s=f.y),p)return this._finalizeDimensions(g*this.scaleX,s*this.scaleY);var v=i.sizeAfterTransform(g,s,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:a});return this._finalizeDimensions(v.x,v.y)},_finalizeDimensions:function(u,a){return this.strokeUniform?{x:u+this.strokeWidth,y:a+this.strokeWidth}:{x:u,y:a}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),a=this._getTransformedDimensions(),f=l(a,u,!0);return f.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(c){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,c):this.canvas&&this.canvas.sendBackwards(this,c),this},bringForward:function(c){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,c):this.canvas&&this.canvas.bringForward(this,c),this},moveTo:function(c){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,c):this.canvas&&this.canvas.moveTo(this,c),this}}),function(){function c(h,d){if(d){if(d.toLive)return h+": url(#SVGID_"+d.id+"); ";var l=new e.Color(d),u=h+": "+l.toRgb()+"; ",a=l.getAlpha();return a!==1&&(u+=h+"-opacity: "+a.toString()+"; "),u}else return h+": none; "}var i=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(h){var d=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",f=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",s=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity!="undefined"?this.opacity:"1",v=this.visible?"":" visibility: hidden;",_=h?"":this.getSvgFilter(),C=c("fill",this.fill),S=c("stroke",this.stroke);return[S,"stroke-width: ",l,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",f,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",s,"; ",C,"fill-rule: ",d,"; ","opacity: ",p,";",_,v].join("")},getSvgSpanStyles:function(h,d){var l="; ",a=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+l:"",u=h.strokeWidth?"stroke-width: "+h.strokeWidth+l:"",a=a,f=h.fontSize?"font-size: "+h.fontSize+"px"+l:"",g=h.fontStyle?"font-style: "+h.fontStyle+l:"",s=h.fontWeight?"font-weight: "+h.fontWeight+l:"",p=h.fill?c("fill",h.fill):"",v=h.stroke?c("stroke",h.stroke):"",_=this.getSvgTextDecoration(h),C=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return _&&(_="text-decoration: "+_+l),[v,u,a,f,g,s,_,p,C,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(d){return h[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,d){var l=h?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+e.util.matrixToSVG(l);return u+(d||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var d=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,d),'" y="',i(-this.height/2,d),'" width="',i(this.width,d),'" height="',i(this.height,d),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,d){d=d||{};var l=d.reviver,u=d.additionalTransform||"",a=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),f=h.indexOf("COMMON_PARTS");return h[f]=a,l?l(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,d){d=d||{};var l=d.noStyle,u=d.reviver,a=l?"":'style="'+this.getSvgStyles()+'" ',f=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,s=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=g&&g.absolutePositioned,v=this.stroke,_=this.fill,C=this.shadow,S,w=[],E,O=h.indexOf("COMMON_PARTS"),R=d.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+e.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(u)+`</clipPath>
`),p&&w.push("<g ",f,this.getSvgCommons(),` >
`),w.push("<g ",this.getSvgTransform(!1),p?"":f+this.getSvgCommons(),` >
`),S=[a,s,l?"":this.addPaintOrder()," ",R?'transform="'+R+'" ':""].join(""),h[O]=S,_&&_.toLive&&w.push(_.toSVG(this)),v&&v.toLive&&w.push(v.toSVG(this)),C&&w.push(C.toSVG(this)),g&&w.push(E),w.push(h.join("")),w.push(`</g>
`),p&&w.push(`</g>
`),u?u(w.join("")):w.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var c=e.util.object.extend,i="stateProperties";function h(l,u,a){var f={},g=!0;a.forEach(function(s){f[s]=l[s]}),c(l[u],f,g)}function d(l,u,a){if(l===u)return!0;if(Array.isArray(l)){if(!Array.isArray(u)||l.length!==u.length)return!1;for(var f=0,g=l.length;f<g;f++)if(!d(l[f],u[f]))return!1;return!0}else if(l&&typeof l=="object"){var s=Object.keys(l),p;if(!u||typeof u!="object"||!a&&s.length!==Object.keys(u).length)return!1;for(var f=0,g=s.length;f<g;f++)if(p=s[f],!(p==="canvas"||p==="group")&&!d(l[p],u[p]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(l){l=l||i;var u="_"+l;return Object.keys(this[u]).length<this[l].length?!0:!d(this[u],this,!0)},saveState:function(l){var u=l&&l.propertySet||i,a="_"+u;return this[a]?(h(this,a,this[u]),l&&l.stateProperties&&h(this,a,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var u=l.propertySet||i;return l.propertySet=u,this["_"+u]={},this.saveState(l),this}})}(),function(){var c=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(i,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=i.x,l=i.y,u,a,f=Object.keys(this.oCoords),g=f.length-1,s;for(this.__corner=0;g>=0;g--)if(s=f[g],!!this.isControlVisible(s)&&(a=this._getImageLines(h?this.oCoords[s].touchCorner:this.oCoords[s].corner),u=this._findCrossPoints({x:d,y:l},a),u!==0&&u%2===1))return this.__corner=s,s;return!1},forEachControl:function(i){for(var h in this.controls)i(this.controls[h],h,this)},_setCornerCoords:function(){var i=this.oCoords;for(var h in i){var d=this.controls[h];i[h].corner=d.calcCornerCoords(this.angle,this.cornerSize,i[h].x,i[h].y,!1),i[h].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,i[h].x,i[h].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var h=this.getCenterPoint(),d=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return i.translate(h.x,h.y),i.scale(1/l[0],1/l[3]),i.rotate(c(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-d.x/2,-d.y/2,d.x,d.y),i.restore(),this},drawBorders:function(i,h){h=h||{};var d=this._calculateCurrentDimensions(),l=this.borderScaleFactor,u=d.x+l,a=d.y+l,f=typeof h.hasControls!="undefined"?h.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(i,h.borderDashArray||this.borderDashArray),i.strokeRect(-u/2,-a/2,u,a),f&&(i.beginPath(),this.forEachControl(function(s,p,v){s.withConnection&&s.getVisibility(v,p)&&(g=!0,i.moveTo(s.x*u,s.y*a),i.lineTo(s.x*u+s.offsetX,s.y*a+s.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,h,d){d=d||{};var l=e.util.sizeAfterTransform(this.width,this.height,h),u=this.strokeWidth,a=this.strokeUniform,f=this.borderScaleFactor,g=l.x+u*(a?this.canvas.getZoom():h.scaleX)+f,s=l.y+u*(a?this.canvas.getZoom():h.scaleY)+f;return i.save(),this._setLineDash(i,d.borderDashArray||this.borderDashArray),i.strokeStyle=d.borderColor||this.borderColor,i.strokeRect(-g/2,-s/2,g,s),i.restore(),this},drawControls:function(i,h){h=h||{},i.save();var d=this.canvas.getRetinaScaling(),l,u;return i.setTransform(d,0,0,d,0,0),i.strokeStyle=i.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(a,f,g){u=g.oCoords[f],a.getVisibility(g,f)&&(l&&(u=e.util.transformPoint(u,l)),a.render(i,u.x,u.y,h,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=h,this},setControlsVisibility:function(i){i||(i={});for(var h in i)this.setControlVisible(h,i[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(c,i){i=i||{};var h=function(){},d=i.onComplete||h,l=i.onChange||h,u=this;return e.util.animate({target:this,startValue:c.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(a){c.set("left",a),u.requestRenderAll(),l()},onComplete:function(){c.setCoords(),d()}})},fxCenterObjectV:function(c,i){i=i||{};var h=function(){},d=i.onComplete||h,l=i.onChange||h,u=this;return e.util.animate({target:this,startValue:c.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(a){c.set("top",a),u.requestRenderAll(),l()},onComplete:function(){c.setCoords(),d()}})},fxRemove:function(c,i){i=i||{};var h=function(){},d=i.onComplete||h,l=i.onChange||h,u=this;return e.util.animate({target:this,startValue:c.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){c.set("opacity",a),u.requestRenderAll(),l()},onComplete:function(){u.remove(c),d()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var c=[],i,h,d=[];for(i in arguments[0])c.push(i);for(var l=0,u=c.length;l<u;l++)i=c[l],h=l!==u-1,d.push(this._animate(i,arguments[0][i],arguments[1],h));return d}else return this._animate.apply(this,arguments)},_animate:function(c,i,h,d){var l=this,u;i=i.toString(),h?h=e.util.object.clone(h):h={},~c.indexOf(".")&&(u=c.split("."));var a=l.colorProperties.indexOf(c)>-1||u&&l.colorProperties.indexOf(u[1])>-1,f=u?this.get(u[0])[u[1]]:this.get(c);"from"in h||(h.from=f),a||(~i.indexOf("=")?i=f+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:h.from,endValue:i,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(s,p,v){return h.abort.call(l,s,p,v)},onChange:function(s,p,v){u?l[u[0]][u[1]]=s:l.set(c,s),!d&&h.onChange&&h.onChange(s,p,v)},onComplete:function(s,p,v){d||(l.setCoords(),h.onComplete&&h.onComplete(s,p,v))}};return a?e.util.animateColor(g.startValue,g.endValue,g.duration,g):e.util.animate(g)}}),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(a,f){a||(a=[0,0,0,0]),this.callSuper("initialize",f),this.set("x1",a[0]),this.set("y1",a[1]),this.set("x2",a[2]),this.set("y2",a[3]),this._setWidthHeight(f)},_setWidthHeight:function(a){a||(a={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in a?a.left:this._getLeftToOriginX(),this.top="top"in a?a.top:this._getTopToOriginY()},_set:function(a,f){return this.callSuper("_set",a,f),typeof l[a]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(a){a.beginPath();var f=this.calcLinePoints();a.moveTo(f.x1,f.y1),a.lineTo(f.x2,f.y2),a.lineWidth=this.strokeWidth;var g=a.strokeStyle;a.strokeStyle=this.stroke||a.fillStyle,this.stroke&&this._renderStroke(a),a.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(a){return h(this.callSuper("toObject",a),this.calcLinePoints())},_getNonTransformedDimensions:function(){var a=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(a.y-=this.strokeWidth),this.height===0&&(a.x-=this.strokeWidth)),a},calcLinePoints:function(){var a=this.x1<=this.x2?-1:1,f=this.y1<=this.y2?-1:1,g=a*this.width*.5,s=f*this.height*.5,p=a*this.width*-.5,v=f*this.height*-.5;return{x1:g,x2:p,y1:s,y2:v}},_toSVG:function(){var a=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(a,f,g){g=g||{};var s=i.parseAttributes(a,i.Line.ATTRIBUTE_NAMES),p=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];f(new i.Line(p,h(s,g)))},i.Line.fromObject=function(a,f){function g(p){delete p.points,f&&f(p)}var s=d(a,!0);s.points=[a.x1,a.y1,a.x2,a.y2],i.Object._fromObject("Line",s,g,"points")};function u(a,f){var g=a.origin,s=a.axis1,p=a.axis2,v=a.dimension,_=f.nearest,C=f.center,S=f.farthest;return function(){switch(this.get(g)){case _:return Math.min(this.get(s),this.get(p));case C:return Math.min(this.get(s),this.get(p))+.5*this.get(v);case S:return Math.max(this.get(s),this.get(p))}}}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,u){return this.callSuper("_set",l,u),l==="radius"&&this.setRadius(u),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,u=0,a=0,f=(this.endAngle-this.startAngle)%360;if(f===0)l=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+a+'" ','r="',this.radius,`" />
`];else{var g=h(this.startAngle),s=h(this.endAngle),p=this.radius,v=i.util.cos(g)*p,_=i.util.sin(g)*p,C=i.util.cos(s)*p,S=i.util.sin(s)*p,w=f>180?"1":"0";l=['<path d="M '+v+" "+_," A "+p+" "+p," 0 ",+w+" 1"," "+C+" "+S,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,h(this.startAngle),h(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(l,u){var a=i.parseAttributes(l,i.Circle.ATTRIBUTE_NAMES);if(!d(a))throw new Error("value of `r` attribute is required and can not be negative");a.left=(a.left||0)-a.radius,a.top=(a.top||0)-a.radius,u(new i.Circle(a))};function d(l){return"radius"in l&&l.radius>=0}i.Circle.fromObject=function(l,u){i.Object._fromObject("Circle",l,u)}}(t),function(c){var i=c.fabric||(c.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(h){var d=this.width/2,l=this.height/2;h.beginPath(),h.moveTo(-d,l),h.lineTo(0,-l),h.lineTo(d,l),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,d=this.height/2,l=[-h+" "+d,"0 "+-d,h+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),i.Triangle.fromObject=function(h,d){return i.Object._fromObject("Triangle",h,d)}}(t),function(c){var i=c.fabric||(c.fabric={}),h=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,l){switch(this.callSuper("_set",d,l),d){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,h,!1),d.restore(),this._renderPaintInOrder(d)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(d,l){var u=i.parseAttributes(d,i.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,l(new i.Ellipse(u))},i.Ellipse.fromObject=function(d,l){i.Object._fromObject("Ellipse",d,l)}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var l=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,a=this.width,f=this.height,g=-this.width/2,s=-this.height/2,p=l!==0||u!==0,v=1-.5522847498;d.beginPath(),d.moveTo(g+l,s),d.lineTo(g+a-l,s),p&&d.bezierCurveTo(g+a-v*l,s,g+a,s+v*u,g+a,s+u),d.lineTo(g+a,s+f-u),p&&d.bezierCurveTo(g+a,s+f-v*u,g+a-v*l,s+f,g+a-l,s+f),d.lineTo(g+l,s+f),p&&d.bezierCurveTo(g+v*l,s+f,g,s+f-v*u,g,s+f-u),d.lineTo(g,s+u),p&&d.bezierCurveTo(g,s+v*u,g+v*l,s,g+l,s),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(d,l,u){if(!d)return l(null);u=u||{};var a=i.parseAttributes(d,i.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var f=new i.Rect(h(u?i.util.object.clone(u):{},a));f.visible=f.visible&&f.width>0&&f.height>0,l(f)},i.Rect.fromObject=function(d,l){return i.Object._fromObject("Rect",d,l)}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.util.array.min,l=i.util.array.max,u=i.util.toFixed,a=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(f,g){g=g||{},this.points=f||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(f){var g=this._calcDimensions(f),s,p=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-p,this.height=g.height-p,f.fromSVG||(s=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+p/2,y:g.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof f.left=="undefined"&&(this.left=f.fromSVG?g.left:s.x),typeof f.top=="undefined"&&(this.top=f.fromSVG?g.top:s.y),this.pathOffset={x:g.left+this.width/2+p/2,y:g.top+this.height/2+p/2}},_calcDimensions:function(){var f=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=d(f,"x")||0,s=d(f,"y")||0,p=l(f,"x")||0,v=l(f,"y")||0,_=p-g,C=v-s;return{left:g,top:s,width:_,height:C}},toObject:function(f){return h(this.callSuper("toObject",f),{points:this.points.concat()})},_toSVG:function(){for(var f=[],g=this.pathOffset.x,s=this.pathOffset.y,p=i.Object.NUM_FRACTION_DIGITS,v=0,_=this.points.length;v<_;v++)f.push(u(this.points[v].x-g,p),",",u(this.points[v].y-s,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',f.join(""),`" />
`]},commonRender:function(f){var g,s=this.points.length,p=this.pathOffset.x,v=this.pathOffset.y;if(!s||isNaN(this.points[s-1].y))return!1;f.beginPath(),f.moveTo(this.points[0].x-p,this.points[0].y-v);for(var _=0;_<s;_++)g=this.points[_],f.lineTo(g.x-p,g.y-v);return!0},_render:function(f){!this.commonRender(f)||this._renderPaintInOrder(f)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(f){return function(g,s,p){if(!g)return s(null);p||(p={});var v=i.parsePointsAttribute(g.getAttribute("points")),_=i.parseAttributes(g,i[f].ATTRIBUTE_NAMES);_.fromSVG=!0,s(new i[f](v,h(_,p)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(f,g){return i.Object._fromObject("Polyline",f,g,"points")}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return h(this.points,this)},_render:function(d){!this.commonRender(d)||(d.closePath(),this._renderPaintInOrder(d))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(d,l){i.Object._fromObject("Polygon",d,l,"points")}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,d=i.util.array.max,l=i.util.object.extend,u=i.util.object.clone,a=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(f,g){g=u(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(f||[],g)},_setPath:function(f,g){this.path=i.util.makePathSimpler(Array.isArray(f)?f:i.util.parsePath(f)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(f){var g,s=0,p=0,v=0,_=0,C=0,S=0,w=-this.pathOffset.x,E=-this.pathOffset.y;f.beginPath();for(var O=0,R=this.path.length;O<R;++O)switch(g=this.path[O],g[0]){case"L":v=g[1],_=g[2],f.lineTo(v+w,_+E);break;case"M":v=g[1],_=g[2],s=v,p=_,f.moveTo(v+w,_+E);break;case"C":v=g[5],_=g[6],C=g[3],S=g[4],f.bezierCurveTo(g[1]+w,g[2]+E,C+w,S+E,v+w,_+E);break;case"Q":f.quadraticCurveTo(g[1]+w,g[2]+E,g[3]+w,g[4]+E),v=g[3],_=g[4],C=g[1],S=g[2];break;case"z":case"Z":v=s,_=p,f.closePath();break}},_render:function(f){this._renderPathCommands(f),this._renderPaintInOrder(f)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(f){return l(this.callSuper("toObject",f),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(f){var g=this.toObject(["sourcePath"].concat(f));return g.sourcePath&&delete g.path,g},_toSVG:function(){var f=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',f,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var f=i.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,f)+", "+a(-this.pathOffset.y,f)+")"},toClipPathSVG:function(f){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:g})},toSVG:function(f){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var f=[],g=[],s,p=0,v=0,_=0,C=0,S,w=0,E=this.path.length;w<E;++w){switch(s=this.path[w],s[0]){case"L":_=s[1],C=s[2],S=[];break;case"M":_=s[1],C=s[2],p=_,v=C,S=[];break;case"C":S=i.util.getBoundsOfCurve(_,C,s[1],s[2],s[3],s[4],s[5],s[6]),_=s[5],C=s[6];break;case"Q":S=i.util.getBoundsOfCurve(_,C,s[1],s[2],s[1],s[2],s[3],s[4]),_=s[3],C=s[4];break;case"z":case"Z":_=p,C=v;break}S.forEach(function(Q){f.push(Q.x),g.push(Q.y)}),f.push(_),g.push(C)}var O=h(f)||0,R=h(g)||0,F=d(f)||0,X=d(g)||0,G=F-O,$=X-R;return{left:O,top:R,width:G,height:$}}}),i.Path.fromObject=function(f,g){if(typeof f.sourcePath=="string"){var s=f.sourcePath;i.loadSVGFromURL(s,function(p){var v=p[0];v.setOptions(f),g&&g(v)})}else i.Object._fromObject("Path",f,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(f,g,s){var p=i.parseAttributes(f,i.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,g(new i.Path(p.d,l(p,s)))}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.array.min,d=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,u,a){u=u||{},this._objects=[],a&&this.callSuper("initialize",u),this._objects=l||[];for(var f=this._objects.length;f--;)this._objects[f].group=this;if(a)this._updateObjectsACoords();else{var g=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,u=this._objects.length;u--;)this._objects[u].setCoords(l)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),a=this._objects.length;a--;)this._updateObjectCoords(this._objects[a],u)},_updateObjectCoords:function(l,u){var a=l.left,f=l.top,g=!0;l.set({left:a-u.x,top:f-u.y}),l.group=this,l.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var u=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),l&&(u&&i.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,u){var a=this._objects.length;if(this.useSetOnGroup)for(;a--;)this._objects[a].setOnGroup(l,u);if(l==="canvas")for(;a--;)this._objects[a]._set(l,u);i.Object.prototype._set.call(this,l,u)},toObject:function(l){var u=this.includeDefaultValues,a=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var s=g.includeDefaultValues;g.includeDefaultValues=u;var p=g.toObject(l);return g.includeDefaultValues=s,p}),f=i.Object.prototype.toObject.call(this,l);return f.objects=a,f},toDatalessObject:function(l){var u,a=this.sourcePath;if(a)u=a;else{var f=this.includeDefaultValues;u=this._objects.map(function(s){var p=s.includeDefaultValues;s.includeDefaultValues=f;var v=s.toDatalessObject(l);return s.includeDefaultValues=p,v})}var g=i.Object.prototype.toDatalessObject.call(this,l);return g.objects=u,g},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=i.Object.prototype.shouldCache.call(this);if(l){for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,u=this._objects.length;l<u;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var u=0,a=this._objects.length;u<a;u++)this._objects[u].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var u=0,a=this._objects.length;u<a;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var f=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-g/2,f,g)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(u){i.util.addTransformToObject(u,l),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var l=this._objects,u=this.canvas;this._objects=[];var a=this.toObject();delete a.objects;var f=new i.ActiveSelection([]);return f.set(a),f.type="activeSelection",u.remove(this),l.forEach(function(g){g.group=f,g.dirty=!0,u.add(g)}),f.canvas=u,f._objects=l,u._activeObject=f,f.setCoords(),f}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(u){u.setCoords(l)}),this},_calcBounds:function(l){for(var u=[],a=[],f,g,s,p=["tr","br","bl","tl"],v=0,_=this._objects.length,C,S=p.length;v<_;++v){for(f=this._objects[v],s=f.calcACoords(),C=0;C<S;C++)g=p[C],u.push(s[g].x),a.push(s[g].y);f.aCoords=s}this._getBounds(u,a,l)},_getBounds:function(l,u,a){var f=new i.Point(h(l),h(u)),g=new i.Point(d(l),d(u)),s=f.y||0,p=f.x||0,v=g.x-f.x||0,_=g.y-f.y||0;this.width=v,this.height=_,a||this.setPositionByOrigin({x:p,y:s},"left","top")},_toSVG:function(l){for(var u=["<g ","COMMON_PARTS",` >
`],a=0,f=this._objects.length;a<f;a++)u.push("		",this._objects[a].toSVG(l));return u.push(`</g>
`),u},getSvgStyles:function(){var l=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),u].join("")},toClipPathSVG:function(l){for(var u=[],a=0,f=this._objects.length;a<f;a++)u.push("	",this._objects[a].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(u,{reviver:l})}}),i.Group.fromObject=function(l,u){var a=l.objects,f=i.util.object.clone(l,!0);if(delete f.objects,typeof a=="string"){i.loadSVGFromURL(a,function(g){var s=i.util.groupSVGElements(g,l,a);s.set(f),u&&u(s)});return}i.util.enlivenObjects(a,function(g){var s=i.util.object.clone(l,!0);delete s.objects,i.util.enlivenObjectEnlivables(l,s,function(){u&&u(new i.Group(g,s,!0))})})})}(t),function(c){var i=c.fabric||(c.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(h,d){d=d||{},this._objects=h||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var d=i.Object.prototype.toObject.call(this),l=new i.Group([]);if(delete d.type,l.set(d),h.forEach(function(a){a.canvas.remove(a),a.group=l}),l._objects=h,!this.canvas)return l;var u=this.canvas;return u.add(l),u._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,d,l){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,d),l=l||{},typeof l.hasControls=="undefined"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var u=0,a=this._objects.length;u<a;u++)this._objects[u]._renderControls(h,l);h.restore()}}),i.ActiveSelection.fromObject=function(h,d){i.util.enlivenObjects(h.objects,function(l){delete h.objects,d&&d(new i.ActiveSelection(l,h,!0))})})}(t),function(c){var i=e.util.object.extend;if(c.fabric||(c.fabric={}),c.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,d){d||(d={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",d),this._initElement(h,d)},getElement:function(){return this._element||{}},setElement:function(h,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var d=e.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(h)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){e.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,l=this.height/2;h.beginPath(),h.moveTo(-d,-l),h.lineTo(d,-l),h.lineTo(d,l),h.lineTo(-d,l),h.lineTo(-d,-l),h.closePath()}},toObject:function(h){var d=[];this.filters.forEach(function(u){u&&d.push(u.toObject())});var l=i(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],d=[],l,u=this._element,a=-this.width/2,f=-this.height/2,g="",s="";if(!u)return[];if(this.hasCrop()){var p=e.Object.__uid++;h.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+a+'" y="'+f+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',a-this.cropX,'" y="',f-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,s,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var v=this.fill;this.fill=null,l=["	<rect ",'x="',a,'" y="',f,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=v}return this.paintFirst!=="fill"?h=h.concat(l,d):h=h.concat(d,l),h},getSrc:function(h){var d=h?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(h,d,l){return e.util.loadImage(h,function(u,a){this.setElement(u,l),this._setWidthHeight(),d&&d(this,a)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,d=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),u=l.scaleX,a=l.scaleY,f=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||u>d&&a>d){this._element=f,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=a;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var g=e.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=f.width,v=f.height;g.width=p,g.height=v,this._element=g,this._lastScaleX=h.scaleX=u,this._lastScaleY=h.scaleY=a,e.filterBackend.applyFilters([h],f,p,v,this._element,s),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(f){return f&&!f.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,l=d.naturalWidth||d.width,u=d.naturalHeight||d.height;if(this._element===this._originalElement){var a=e.util.createCanvasElement();a.width=l,a.height=u,this._element=a,this._filteredEl=a}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,u),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(h,this._originalElement,l,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){e.util.setImageSmoothing(h,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var d=this._element;if(!!d){var l=this._filterScalingX,u=this._filterScalingY,a=this.width,f=this.height,g=Math.min,s=Math.max,p=s(this.cropX,0),v=s(this.cropY,0),_=d.naturalWidth||d.width,C=d.naturalHeight||d.height,S=p*l,w=v*u,E=g(a*l,_-S),O=g(f*u,C-w),R=-a/2,F=-f/2,X=g(a,_/l-p),G=g(f,C/u-v);d&&h.drawImage(d,S,w,E,O,R,F,X,G)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,d){this.setElement(e.util.getById(h),d),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,d){h&&h.length?e.util.enlivenObjects(h,function(l){d&&d(l)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(h){h||(h={});var d=this.getElement();this.width=h.width||d.naturalWidth||d.width||0,this.height=h.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var h=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,l=this._element.height,u=1,a=1,f=0,g=0,s=0,p=0,v,_=this.width,C=this.height,S={width:_,height:C};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(u=a=e.util.findScaleToFit(this._element,S),v=(_-d*u)/2,h.alignX==="Min"&&(f=-v),h.alignX==="Max"&&(f=v),v=(C-l*a)/2,h.alignY==="Min"&&(g=-v),h.alignY==="Max"&&(g=v)),h.meetOrSlice==="slice"&&(u=a=e.util.findScaleToCover(this._element,S),v=d-_/u,h.alignX==="Mid"&&(s=v/2),h.alignX==="Max"&&(s=v),v=l-C/a,h.alignY==="Mid"&&(p=v/2),h.alignY==="Max"&&(p=v),d=_/u,l=C/a)):(u=_/d,a=C/l),{width:d,height:l,scaleX:u,scaleY:a,offsetLeft:f,offsetTop:g,cropX:s,cropY:p}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(h,d){var l=e.util.object.clone(h);e.util.loadImage(l.src,function(u,a){if(a){d&&d(null,!0);return}e.Image.prototype._initFilters.call(l,l.filters,function(f){l.filters=f||[],e.Image.prototype._initFilters.call(l,[l.resizeFilter],function(g){l.resizeFilter=g[0],e.util.enlivenObjectEnlivables(l,l,function(){var s=new e.Image(u,l);d(s,!1)})})})},null,l.crossOrigin)},e.Image.fromURL=function(h,d,l){e.util.loadImage(h,function(u,a){d&&d(new e.Image(u,l),a)},null,l&&l.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(h,d,l){var u=e.parseAttributes(h,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(u["xlink:href"],d,i(l?e.util.object.clone(l):{},u))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var c=this.angle%360;return c>0?Math.round((c-1)/90)*90:Math.round(c/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(c){c=c||{};var i=function(){},h=c.onComplete||i,d=c.onChange||i,l=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){l.rotate(u),d()},onComplete:function(){l.setCoords(),h()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(c){return c.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(c){return c.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function c(h,d){var l="precision "+d+` float;
void main(){}`,u=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(u,l),h.compileShader(u),!!h.getShaderParameter(u,h.COMPILE_STATUS)}e.isWebglSupported=function(h){if(e.isLikelyNode)return!1;h=h||e.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),l=d.getContext("webgl")||d.getContext("experimental-webgl"),u=!1;if(l){e.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),u=e.maxTextureSize>=h;for(var a=["highp","mediump","lowp"],f=0;f<3;f++)if(c(l,a[f])){e.webGlPrecision=a[f];break}}return this.isSupported=u,u},e.WebglFilterBackend=i;function i(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(h,d){this.dispose(),this.createWebGLCanvas(h,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,d)},chooseFastestCopyGLTo2DMethod:function(h,d){var l=typeof window.performance!="undefined",u;try{new ImageData(1,1),u=!0}catch{u=!1}var a=typeof ArrayBuffer!="undefined",f=typeof Uint8ClampedArray!="undefined";if(!!(l&&u&&a&&f)){var g=e.util.createCanvasElement(),s=new ArrayBuffer(h*d*4);if(e.forceGLPutImageData){this.imageBuffer=s,this.copyGLTo2D=y;return}var p={imageBuffer:s,destinationWidth:h,destinationHeight:d,targetCanvas:g},v,_,C;g.width=h,g.height=d,v=window.performance.now(),m.call(p,this.gl,p),_=window.performance.now()-v,v=window.performance.now(),y.call(p,this.gl,p),C=window.performance.now()-v,_>C?(this.imageBuffer=s,this.copyGLTo2D=y):this.copyGLTo2D=m}},createWebGLCanvas:function(h,d){var l=e.util.createCanvasElement();l.width=h,l.height=d;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},a=l.getContext("webgl",u);a||(a=l.getContext("experimental-webgl",u)),a&&(a.clearColor(0,0,0,0),this.canvas=l,this.gl=a)},applyFilters:function(h,d,l,u,a,f){var g=this.gl,s;f&&(s=this.getCachedTexture(f,d));var p={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:l,sourceHeight:u,destinationWidth:l,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,l,u,!s&&d),targetTexture:this.createTexture(g,l,u),originalTexture:s||this.createTexture(g,l,u,!s&&d),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:a},v=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,v),h.forEach(function(_){_&&_.applyTo(p)}),o(p),this.copyGLTo2D(g,p),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(p.sourceTexture),g.deleteTexture(p.targetTexture),g.deleteFramebuffer(v),a.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,d,l,u){var a=h.createTexture();return h.bindTexture(h.TEXTURE_2D,a),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),u?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,u):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,d,l,0,h.RGBA,h.UNSIGNED_BYTE,null),a},getCachedTexture:function(h,d){if(this.textureCache[h])return this.textureCache[h];var l=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[h]=l,l},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:m,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,d={renderer:"",vendor:""};if(!h)return d;var l=h.getExtension("WEBGL_debug_renderer_info");if(l){var u=h.getParameter(l.UNMASKED_RENDERER_WEBGL),a=h.getParameter(l.UNMASKED_VENDOR_WEBGL);u&&(d.renderer=u.toLowerCase()),a&&(d.vendor=a.toLowerCase())}return this.gpuInfo=d,d}}}();function o(c){var i=c.targetCanvas,h=i.width,d=i.height,l=c.destinationWidth,u=c.destinationHeight;(h!==l||d!==u)&&(i.width=l,i.height=u)}function m(c,i){var h=c.canvas,d=i.targetCanvas,l=d.getContext("2d");l.translate(0,d.height),l.scale(1,-1);var u=h.height-d.height;l.drawImage(h,0,u,d.width,d.height,0,0,d.width,d.height)}function y(c,i){var h=i.targetCanvas,d=h.getContext("2d"),l=i.destinationWidth,u=i.destinationHeight,a=l*u*4,f=new Uint8Array(this.imageBuffer,0,a),g=new Uint8ClampedArray(this.imageBuffer,0,a);c.readPixels(0,0,l,u,c.RGBA,c.UNSIGNED_BYTE,f);var s=new ImageData(g,l,u);d.putImageData(s,0,0)}(function(){var c=function(){};e.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:c,dispose:c,clearWebGLCaches:c,resources:{},applyFilters:function(h,d,l,u,a){var f=a.getContext("2d");f.drawImage(d,0,0,l,u);var g=f.getImageData(0,0,l,u),s=f.getImageData(0,0,l,u),p={sourceWidth:l,sourceHeight:u,imageData:g,originalEl:d,originalImageData:s,canvasEl:a,ctx:f,filterBackend:this};return h.forEach(function(v){v.applyTo(p)}),(p.imageData.width!==l||p.imageData.height!==u)&&(a.width=p.imageData.width,a.height=p.imageData.height),f.putImageData(p.imageData,0,0),p}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(c){c&&this.setOptions(c)},setOptions:function(c){for(var i in c)this[i]=c[i]},createProgram:function(c,i,h){i=i||this.fragmentSource,h=h||this.vertexSource,e.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var d=c.createShader(c.VERTEX_SHADER);if(c.shaderSource(d,h),c.compileShader(d),!c.getShaderParameter(d,c.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+c.getShaderInfoLog(d));var l=c.createShader(c.FRAGMENT_SHADER);if(c.shaderSource(l,i),c.compileShader(l),!c.getShaderParameter(l,c.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+c.getShaderInfoLog(l));var u=c.createProgram();if(c.attachShader(u,d),c.attachShader(u,l),c.linkProgram(u),!c.getProgramParameter(u,c.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+c.getProgramInfoLog(u));var a=this.getAttributeLocations(c,u),f=this.getUniformLocations(c,u)||{};return f.uStepW=c.getUniformLocation(u,"uStepW"),f.uStepH=c.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:a,uniformLocations:f}},getAttributeLocations:function(c,i){return{aPosition:c.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(c,i,h){var d=i.aPosition,l=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,l),c.enableVertexAttribArray(d),c.vertexAttribPointer(d,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,h,c.STATIC_DRAW)},_setupFrameBuffer:function(c){var i=c.context,h,d;c.passes>1?(h=c.destinationWidth,d=c.destinationHeight,(c.sourceWidth!==h||c.sourceHeight!==d)&&(i.deleteTexture(c.targetTexture),c.targetTexture=c.filterBackend.createTexture(i,h,d)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(c){c.passes--,c.pass++;var i=c.targetTexture;c.targetTexture=c.sourceTexture,c.sourceTexture=i},isNeutralState:function(){var c=this.mainParameter,i=e.Image.filters[this.type].prototype;if(c)if(Array.isArray(i[c])){for(var h=i[c].length;h--;)if(this[c][h]!==i[c][h])return!1;return!0}else return i[c]===this[c];else return!1},applyTo:function(c){c.webgl?(this._setupFrameBuffer(c),this.applyToWebGL(c),this._swapTextures(c)):this.applyTo2d(c)},retrieveShader:function(c){return c.programCache.hasOwnProperty(this.type)||(c.programCache[this.type]=this.createProgram(c.context)),c.programCache[this.type]},applyToWebGL:function(c){var i=c.context,h=this.retrieveShader(c);c.pass===0&&c.originalTexture?i.bindTexture(i.TEXTURE_2D,c.originalTexture):i.bindTexture(i.TEXTURE_2D,c.sourceTexture),i.useProgram(h.program),this.sendAttributeData(i,h.attributeLocations,c.aPosition),i.uniform1f(h.uniformLocations.uStepW,1/c.sourceWidth),i.uniform1f(h.uniformLocations.uStepH,1/c.sourceHeight),this.sendUniformData(i,h.uniformLocations),i.viewport(0,0,c.destinationWidth,c.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(c,i,h){c.activeTexture(h),c.bindTexture(c.TEXTURE_2D,i),c.activeTexture(c.TEXTURE0)},unbindAdditionalTexture:function(c,i){c.activeTexture(i),c.bindTexture(c.TEXTURE_2D,null),c.activeTexture(c.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(c){this[this.mainParameter]=c},sendUniformData:function(){},createHelpLayer:function(c){if(!c.helpLayer){var i=document.createElement("canvas");i.width=c.sourceWidth,i.height=c.sourceHeight,c.helpLayer=i}},toObject:function(){var c={type:this.type},i=this.mainParameter;return i&&(c[i]=this[i]),c},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(c,i){var h=new e.Image.filters[c.type](c);return i&&i(h),h},function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.ColorMatrix=d(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var u=l.imageData,a=u.data,f=a.length,g=this.matrix,s,p,v,_,C,S=this.colorsOnly;for(C=0;C<f;C+=4)s=a[C],p=a[C+1],v=a[C+2],S?(a[C]=s*g[0]+p*g[1]+v*g[2]+g[4]*255,a[C+1]=s*g[5]+p*g[6]+v*g[7]+g[9]*255,a[C+2]=s*g[10]+p*g[11]+v*g[12]+g[14]*255):(_=a[C+3],a[C]=s*g[0]+p*g[1]+v*g[2]+_*g[3]+g[4]*255,a[C+1]=s*g[5]+p*g[6]+v*g[7]+_*g[8]+g[9]*255,a[C+2]=s*g[10]+p*g[11]+v*g[12]+_*g[13]+g[14]*255,a[C+3]=s*g[15]+p*g[16]+v*g[17]+_*g[18]+g[19]*255)},getUniformLocations:function(l,u){return{uColorMatrix:l.getUniformLocation(u,"uColorMatrix"),uConstants:l.getUniformLocation(u,"uConstants")}},sendUniformData:function(l,u){var a=this.matrix,f=[a[0],a[1],a[2],a[3],a[5],a[6],a[7],a[8],a[10],a[11],a[12],a[13],a[15],a[16],a[17],a[18]],g=[a[4],a[9],a[14],a[19]];l.uniformMatrix4fv(u.uColorMatrix,!1,f),l.uniform4fv(u.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Brightness=d(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var u=l.imageData,a=u.data,f,g=a.length,s=Math.round(this.brightness*255);for(f=0;f<g;f+=4)a[f]=a[f]+s,a[f+1]=a[f+1]+s,a[f+2]=a[f+2]+s}},getUniformLocations:function(l,u){return{uBrightness:l.getUniformLocation(u,"uBrightness")}},sendUniformData:function(l,u){l.uniform1f(u.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.Image.filters,l=i.util.createClass;d.Convolute=l(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var a=Math.sqrt(this.matrix.length),f=this.type+"_"+a+"_"+(this.opaque?1:0),g=this.fragmentSource[f];return u.programCache.hasOwnProperty(f)||(u.programCache[f]=this.createProgram(u.context,g)),u.programCache[f]},applyTo2d:function(u){var a=u.imageData,f=a.data,g=this.matrix,s=Math.round(Math.sqrt(g.length)),p=Math.floor(s/2),v=a.width,_=a.height,C=u.ctx.createImageData(v,_),S=C.data,w=this.opaque?1:0,E,O,R,F,X,G,$,Q,K,te,re,ne,T;for(re=0;re<_;re++)for(te=0;te<v;te++){for(X=(re*v+te)*4,E=0,O=0,R=0,F=0,T=0;T<s;T++)for(ne=0;ne<s;ne++)$=re+T-p,G=te+ne-p,!($<0||$>=_||G<0||G>=v)&&(Q=($*v+G)*4,K=g[T*s+ne],E+=f[Q]*K,O+=f[Q+1]*K,R+=f[Q+2]*K,w||(F+=f[Q+3]*K));S[X]=E,S[X+1]=O,S[X+2]=R,w?S[X+3]=f[X+3]:S[X+3]=F}u.imageData=C},getUniformLocations:function(u,a){return{uMatrix:u.getUniformLocation(a,"uMatrix"),uOpaque:u.getUniformLocation(a,"uOpaque"),uHalfSize:u.getUniformLocation(a,"uHalfSize"),uSize:u.getUniformLocation(a,"uSize")}},sendUniformData:function(u,a){u.uniform1fv(a.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Grayscale=d(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var u=l.imageData,a=u.data,f,g=a.length,s,p=this.mode;for(f=0;f<g;f+=4)p==="average"?s=(a[f]+a[f+1]+a[f+2])/3:p==="lightness"?s=(Math.min(a[f],a[f+1],a[f+2])+Math.max(a[f],a[f+1],a[f+2]))/2:p==="luminosity"&&(s=.21*a[f]+.72*a[f+1]+.07*a[f+2]),a[f]=s,a[f+1]=s,a[f+2]=s},retrieveShader:function(l){var u=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(u)){var a=this.fragmentSource[this.mode];l.programCache[u]=this.createProgram(l.context,a)}return l.programCache[u]},getUniformLocations:function(l,u){return{uMode:l.getUniformLocation(u,"uMode")}},sendUniformData:function(l,u){var a=1;l.uniform1i(u.uMode,a)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Invert=d(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var u=l.imageData,a=u.data,f,g=a.length;for(f=0;f<g;f+=4)a[f]=255-a[f],a[f+1]=255-a[f+1],a[f+2]=255-a[f+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,u){return{uInvert:l.getUniformLocation(u,"uInvert")}},sendUniformData:function(l,u){l.uniform1i(u.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.Image.filters,l=i.util.createClass;d.Noise=l(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var a=u.imageData,f=a.data,g,s=f.length,p=this.noise,v;for(g=0,s=f.length;g<s;g+=4)v=(.5-Math.random())*p,f[g]+=v,f[g+1]+=v,f[g+2]+=v}},getUniformLocations:function(u,a){return{uNoise:u.getUniformLocation(a,"uNoise"),uSeed:u.getUniformLocation(a,"uSeed")}},sendUniformData:function(u,a){u.uniform1f(a.uNoise,this.noise/255),u.uniform1f(a.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Pixelate=d(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var u=l.imageData,a=u.data,f=u.height,g=u.width,s,p,v,_,C,S,w,E,O,R,F;for(p=0;p<f;p+=this.blocksize)for(v=0;v<g;v+=this.blocksize)for(s=p*4*g+v*4,_=a[s],C=a[s+1],S=a[s+2],w=a[s+3],R=Math.min(p+this.blocksize,f),F=Math.min(v+this.blocksize,g),E=p;E<R;E++)for(O=v;O<F;O++)s=E*4*g+O*4,a[s]=_,a[s+1]=C,a[s+2]=S,a[s+3]=w},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,u){return{uBlocksize:l.getUniformLocation(u,"uBlocksize"),uStepW:l.getUniformLocation(u,"uStepW"),uStepH:l.getUniformLocation(u,"uStepH")}},sendUniformData:function(l,u){l.uniform1f(u.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.extend,d=i.Image.filters,l=i.util.createClass;d.RemoveColor=l(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var a=u.imageData,f=a.data,g,s=this.distance*255,p,v,_,C=new i.Color(this.color).getSource(),S=[C[0]-s,C[1]-s,C[2]-s],w=[C[0]+s,C[1]+s,C[2]+s];for(g=0;g<f.length;g+=4)p=f[g],v=f[g+1],_=f[g+2],p>S[0]&&v>S[1]&&_>S[2]&&p<w[0]&&v<w[1]&&_<w[2]&&(f[g+3]=0)},getUniformLocations:function(u,a){return{uLow:u.getUniformLocation(a,"uLow"),uHigh:u.getUniformLocation(a,"uHigh")}},sendUniformData:function(u,a){var f=new i.Color(this.color).getSource(),g=parseFloat(this.distance),s=[0+f[0]/255-g,0+f[1]/255-g,0+f[2]/255-g,1],p=[f[0]/255+g,f[1]/255+g,f[2]/255+g,1];u.uniform4fv(a.uLow,s),u.uniform4fv(a.uHigh,p)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in l)h[u]=d(h.ColorMatrix,{type:u,matrix:l[u],mainParameter:!1,colorsOnly:!0}),i.Image.filters[u].fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendColor=d(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,a;return l.programCache.hasOwnProperty(u)||(a=this.buildSource(this.mode),l.programCache[u]=this.createProgram(l.context,a)),l.programCache[u]},applyTo2d:function(l){var u=l.imageData,a=u.data,f=a.length,g,s,p,v,_,C,S,w=1-this.alpha;S=new i.Color(this.color).getSource(),g=S[0]*this.alpha,s=S[1]*this.alpha,p=S[2]*this.alpha;for(var E=0;E<f;E+=4)switch(v=a[E],_=a[E+1],C=a[E+2],this.mode){case"multiply":a[E]=v*g/255,a[E+1]=_*s/255,a[E+2]=C*p/255;break;case"screen":a[E]=255-(255-v)*(255-g)/255,a[E+1]=255-(255-_)*(255-s)/255,a[E+2]=255-(255-C)*(255-p)/255;break;case"add":a[E]=v+g,a[E+1]=_+s,a[E+2]=C+p;break;case"diff":case"difference":a[E]=Math.abs(v-g),a[E+1]=Math.abs(_-s),a[E+2]=Math.abs(C-p);break;case"subtract":a[E]=v-g,a[E+1]=_-s,a[E+2]=C-p;break;case"darken":a[E]=Math.min(v,g),a[E+1]=Math.min(_,s),a[E+2]=Math.min(C,p);break;case"lighten":a[E]=Math.max(v,g),a[E+1]=Math.max(_,s),a[E+2]=Math.max(C,p);break;case"overlay":a[E]=g<128?2*v*g/255:255-2*(255-v)*(255-g)/255,a[E+1]=s<128?2*_*s/255:255-2*(255-_)*(255-s)/255,a[E+2]=p<128?2*C*p/255:255-2*(255-C)*(255-p)/255;break;case"exclusion":a[E]=g+v-2*g*v/255,a[E+1]=s+_-2*s*_/255,a[E+2]=p+C-2*p*C/255;break;case"tint":a[E]=g+v*w,a[E+1]=s+_*w,a[E+2]=p+C*w}},getUniformLocations:function(l,u){return{uColor:l.getUniformLocation(u,"uColor")}},sendUniformData:function(l,u){var a=new i.Color(this.color).getSource();a[0]=this.alpha*a[0]/255,a[1]=this.alpha*a[1]/255,a[2]=this.alpha*a[2]/255,a[3]=this.alpha,l.uniform4fv(u.uColor,a)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric,h=i.Image.filters,d=i.util.createClass;h.BlendImage=d(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,a=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,a)),l.programCache[u]},applyToWebGL:function(l){var u=l.context,a=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(u,a,u.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(l,u){return l.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var l=this.image,u=l._element.width,a=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/u,-l.top/a,1]},applyTo2d:function(l){var u=l.imageData,a=l.filterBackend.resources,f=u.data,g=f.length,s=u.width,p=u.height,v,_,C,S,w,E,O,R,F,X,G=this.image,$;a.blendImage||(a.blendImage=i.util.createCanvasElement()),F=a.blendImage,X=F.getContext("2d"),F.width!==s||F.height!==p?(F.width=s,F.height=p):X.clearRect(0,0,s,p),X.setTransform(G.scaleX,0,0,G.scaleY,G.left,G.top),X.drawImage(G._element,0,0,s,p),$=X.getImageData(0,0,s,p).data;for(var Q=0;Q<g;Q+=4)switch(w=f[Q],E=f[Q+1],O=f[Q+2],R=f[Q+3],v=$[Q],_=$[Q+1],C=$[Q+2],S=$[Q+3],this.mode){case"multiply":f[Q]=w*v/255,f[Q+1]=E*_/255,f[Q+2]=O*C/255,f[Q+3]=R*S/255;break;case"mask":f[Q+3]=S;break}},getUniformLocations:function(l,u){return{uTransformMatrix:l.getUniformLocation(u,"uTransformMatrix"),uImage:l.getUniformLocation(u,"uImage")}},sendUniformData:function(l,u){var a=this.calculateMatrix();l.uniform1i(u.uImage,1),l.uniformMatrix3fv(u.uTransformMatrix,!1,a)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(l,u){i.Image.fromObject(l.image,function(a){var f=i.util.object.clone(l);f.image=a,u(new i.Image.filters.BlendImage(f))})}}(t),function(c){var i=c.fabric||(c.fabric={}),h=Math.pow,d=Math.floor,l=Math.sqrt,u=Math.abs,a=Math.round,f=Math.sin,g=Math.ceil,s=i.Image.filters,p=i.util.createClass;s.Resize=p(s.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(v,_){return{uDelta:v.getUniformLocation(_,"uDelta"),uTaps:v.getUniformLocation(_,"uTaps")}},sendUniformData:function(v,_){v.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),v.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(v){var _=this.getFilterWindow(),C=this.type+"_"+_;if(!v.programCache.hasOwnProperty(C)){var S=this.generateShader(_);v.programCache[C]=this.createProgram(v.context,S)}return v.programCache[C]},getFilterWindow:function(){var v=this.tempScale;return Math.ceil(this.lanczosLobes/v)},getTaps:function(){for(var v=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,C=this.getFilterWindow(),S=new Array(C),w=1;w<=C;w++)S[w-1]=v(w*_);return S},generateShader:function(S){for(var _=new Array(S),C=this.fragmentSourceTOP,S,w=1;w<=S;w++)_[w-1]=w+".0 * uDelta";return C+="uniform float uTaps["+S+`];
`,C+=`void main() {
`,C+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,C+=`  float sum = 1.0;
`,_.forEach(function(E,O){C+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+O+`];
`,C+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+O+`];
`,C+="  sum += 2.0 * uTaps["+O+`];
`}),C+=`  gl_FragColor = color / sum;
`,C+="}",C},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(v){v.webgl?(v.passes++,this.width=v.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=v.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),v.destinationWidth=this.dW,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceWidth=v.destinationWidth,this.height=v.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),v.destinationHeight=this.dH,this._setupFrameBuffer(v),this.applyToWebGL(v),this._swapTextures(v),v.sourceHeight=v.destinationHeight):this.applyTo2d(v)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(v){return function(_){if(_>=v||_<=-v)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var C=_/v;return f(_)/_*f(C)/C}},applyTo2d:function(v){var _=v.imageData,C=this.scaleX,S=this.scaleY;this.rcpScaleX=1/C,this.rcpScaleY=1/S;var w=_.width,E=_.height,O=a(w*C),R=a(E*S),F;this.resizeType==="sliceHack"?F=this.sliceByTwo(v,w,E,O,R):this.resizeType==="hermite"?F=this.hermiteFastResize(v,w,E,O,R):this.resizeType==="bilinear"?F=this.bilinearFiltering(v,w,E,O,R):this.resizeType==="lanczos"&&(F=this.lanczosResize(v,w,E,O,R)),v.imageData=F},sliceByTwo:function(v,_,C,S,w){var E=v.imageData,O=.5,R=!1,F=!1,X=_*O,G=C*O,$=i.filterBackend.resources,Q,K,te=0,re=0,ne=_,T=0;for($.sliceByTwo||($.sliceByTwo=document.createElement("canvas")),Q=$.sliceByTwo,(Q.width<_*1.5||Q.height<C)&&(Q.width=_*1.5,Q.height=C),K=Q.getContext("2d"),K.clearRect(0,0,_*1.5,C),K.putImageData(E,0,0),S=d(S),w=d(w);!R||!F;)_=X,C=G,S<d(X*O)?X=d(X*O):(X=S,R=!0),w<d(G*O)?G=d(G*O):(G=w,F=!0),K.drawImage(Q,te,re,_,C,ne,T,X,G),te=ne,re=T,T+=G;return K.getImageData(te,re,S,w)},lanczosResize:function(v,_,C,S,w){function E(b){var k,L,P,x,A,M,U,j,V,q,J;for(T.x=(b+.5)*G,D.x=d(T.x),k=0;k<w;k++){for(T.y=(k+.5)*$,D.y=d(T.y),A=0,M=0,U=0,j=0,V=0,L=D.x-te;L<=D.x+te;L++)if(!(L<0||L>=_)){q=d(1e3*u(L-T.x)),ne[q]||(ne[q]={});for(var N=D.y-re;N<=D.y+re;N++)N<0||N>=C||(J=d(1e3*u(N-T.y)),ne[q][J]||(ne[q][J]=X(l(h(q*Q,2)+h(J*K,2))/1e3)),P=ne[q][J],P>0&&(x=(N*_+L)*4,A+=P,M+=P*O[x],U+=P*O[x+1],j+=P*O[x+2],V+=P*O[x+3]))}x=(k*S+b)*4,F[x]=M/A,F[x+1]=U/A,F[x+2]=j/A,F[x+3]=V/A}return++b<S?E(b):R}var O=v.imageData.data,R=v.ctx.createImageData(S,w),F=R.data,X=this.lanczosCreate(this.lanczosLobes),G=this.rcpScaleX,$=this.rcpScaleY,Q=2/this.rcpScaleX,K=2/this.rcpScaleY,te=g(G*this.lanczosLobes/2),re=g($*this.lanczosLobes/2),ne={},T={},D={};return E(0)},bilinearFiltering:function(v,_,C,S,w){var E,O,R,F,X,G,$,Q,K,te,re,ne,T=0,D,b=this.rcpScaleX,k=this.rcpScaleY,L=4*(_-1),P=v.imageData,x=P.data,A=v.ctx.createImageData(S,w),M=A.data;for($=0;$<w;$++)for(Q=0;Q<S;Q++)for(X=d(b*Q),G=d(k*$),K=b*Q-X,te=k*$-G,D=4*(G*_+X),re=0;re<4;re++)E=x[D+re],O=x[D+4+re],R=x[D+L+re],F=x[D+L+4+re],ne=E*(1-K)*(1-te)+O*K*(1-te)+R*te*(1-K)+F*K*te,M[T++]=ne;return A},hermiteFastResize:function(v,_,C,S,w){for(var E=this.rcpScaleX,O=this.rcpScaleY,R=g(E/2),F=g(O/2),X=v.imageData,G=X.data,$=v.ctx.createImageData(S,w),Q=$.data,K=0;K<w;K++)for(var te=0;te<S;te++){for(var re=(te+K*S)*4,ne=0,T=0,D=0,b=0,k=0,L=0,P=0,x=(K+.5)*O,A=d(K*O);A<(K+1)*O;A++)for(var M=u(x-(A+.5))/F,U=(te+.5)*E,j=M*M,V=d(te*E);V<(te+1)*E;V++){var q=u(U-(V+.5))/R,J=l(j+q*q);J>1&&J<-1||(ne=2*J*J*J-3*J*J+1,ne>0&&(q=4*(V+A*_),P+=ne*G[q+3],D+=ne,G[q+3]<255&&(ne=ne*G[q+3]/250),b+=ne*G[q],k+=ne*G[q+1],L+=ne*G[q+2],T+=ne))}Q[re]=b/T,Q[re+1]=k/T,Q[re+2]=L/T,Q[re+3]=P/D}return $},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Contrast=d(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var u=l.imageData,a,g,f=u.data,g=f.length,s=Math.floor(this.contrast*255),p=259*(s+255)/(255*(259-s));for(a=0;a<g;a+=4)f[a]=p*(f[a]-128)+128,f[a+1]=p*(f[a+1]-128)+128,f[a+2]=p*(f[a+2]-128)+128}},getUniformLocations:function(l,u){return{uContrast:l.getUniformLocation(u,"uContrast")}},sendUniformData:function(l,u){l.uniform1f(u.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Saturation=d(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var u=l.imageData,a=u.data,f=a.length,g=-this.saturation,s,p;for(s=0;s<f;s+=4)p=Math.max(a[s],a[s+1],a[s+2]),a[s]+=p!==a[s]?(p-a[s])*g:0,a[s+1]+=p!==a[s+1]?(p-a[s+1])*g:0,a[s+2]+=p!==a[s+2]?(p-a[s+2])*g:0}},getUniformLocations:function(l,u){return{uSaturation:l.getUniformLocation(u,"uSaturation")}},sendUniformData:function(l,u){l.uniform1f(u.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Vibrance=d(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var u=l.imageData,a=u.data,f=a.length,g=-this.vibrance,s,p,v,_;for(s=0;s<f;s+=4)p=Math.max(a[s],a[s+1],a[s+2]),v=(a[s]+a[s+1]+a[s+2])/3,_=Math.abs(p-v)*2/255*g,a[s]+=p!==a[s]?(p-a[s])*_:0,a[s+1]+=p!==a[s+1]?(p-a[s+1])*_:0,a[s+2]+=p!==a[s+2]?(p-a[s+2])*_:0}},getUniformLocations:function(l,u){return{uVibrance:l.getUniformLocation(u,"uVibrance")}},sendUniformData:function(l,u){l.uniform1f(u.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Blur=d(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var u=l.filterBackend.resources,a,f,g=l.imageData.width,s=l.imageData.height;u.blurLayer1||(u.blurLayer1=i.util.createCanvasElement(),u.blurLayer2=i.util.createCanvasElement()),a=u.blurLayer1,f=u.blurLayer2,(a.width!==g||a.height!==s)&&(f.width=a.width=g,f.height=a.height=s);var p=a.getContext("2d"),v=f.getContext("2d"),_=15,C,S,w,E,O=this.blur*.06*.5;for(p.putImageData(l.imageData,0,0),v.clearRect(0,0,g,s),E=-_;E<=_;E++)C=(Math.random()-.5)/4,S=E/_,w=O*S*g+C,v.globalAlpha=1-Math.abs(S),v.drawImage(a,w,C),p.drawImage(f,0,0),v.globalAlpha=1,v.clearRect(0,0,f.width,f.height);for(E=-_;E<=_;E++)C=(Math.random()-.5)/4,S=E/_,w=O*S*s+C,v.globalAlpha=1-Math.abs(S),v.drawImage(a,C,w),p.drawImage(f,0,0),v.globalAlpha=1,v.clearRect(0,0,f.width,f.height);l.ctx.drawImage(a,0,0);var R=l.ctx.getImageData(0,0,a.width,a.height);return p.globalAlpha=1,p.clearRect(0,0,a.width,a.height),R},getUniformLocations:function(l,u){return{delta:l.getUniformLocation(u,"uDelta")}},sendUniformData:function(l,u){var a=this.chooseRightDelta();l.uniform2fv(u.delta,a)},chooseRightDelta:function(){var l=1,u=[0,0],a;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),a=l*this.blur*.12,this.horizontal?u[0]=a:u[1]=a,u}}),h.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Gamma=d(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var u=l.imageData,a=u.data,f=this.gamma,g=a.length,s=1/f[0],p=1/f[1],v=1/f[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,g=256;_<g;_++)this.rVals[_]=Math.pow(_/255,s)*255,this.gVals[_]=Math.pow(_/255,p)*255,this.bVals[_]=Math.pow(_/255,v)*255;for(_=0,g=a.length;_<g;_+=4)a[_]=this.rVals[a[_]],a[_+1]=this.gVals[a[_+1]],a[_+2]=this.bVals[a[_+2]]},getUniformLocations:function(l,u){return{uGamma:l.getUniformLocation(u,"uGamma")}},sendUniformData:function(l,u){l.uniform3fv(u.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.Composed=d(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(l)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(l,u){var a=l.subFilters||[],f=a.map(function(s){return new i.Image.filters[s.type](s)}),g=new i.Image.filters.Composed({subFilters:f});return u&&u(g),g}}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.Image.filters,d=i.util.createClass;h.HueRotation=d(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,u=i.util.cos(l),a=i.util.sin(l),f=1/3,g=Math.sqrt(f)*a,s=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+s/3,this.matrix[1]=f*s-g,this.matrix[2]=f*s+g,this.matrix[5]=f*s+g,this.matrix[6]=u+f*s,this.matrix[7]=f*s-g,this.matrix[10]=f*s-g,this.matrix[11]=f*s+g,this.matrix[12]=u+f*s},isNeutralState:function(l){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,l)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(t),function(c){var i=c.fabric||(c.fabric={}),h=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(d),cacheProperties:i.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,u){this.styles=u?u.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=i.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,u,a,f,g,s,p,v=0,_=this._textLines.length;v<_;v++)if(!(this.textAlign!=="justify"&&(v===_-1||this.isEndOfWrapping(v)))&&(f=0,g=this._textLines[v],u=this.getLineWidth(v),u<this.width&&(p=this.textLines[v].match(this._reSpacesAndTabs)))){a=p.length,l=(this.width-u)/a;for(var C=0,S=g.length;C<=S;C++)s=this.__charBounds[v][C],this._reSpaceAndTab.test(g[C])?(s.width+=l,s.kernedWidth+=l,s.left+=f,f+=l):s.left+=f}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return l.width+=u*l.zoomX,l.height+=u*l.zoomY,l},_render:function(l){var u=this.path;u&&!u.isNotVisible()&&u._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,u,a){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(u,a)},calcTextWidth:function(){for(var l=this.getLineWidth(0),u=1,a=this._textLines.length;u<a;u++){var f=this.getLineWidth(u);f>l&&(l=f)}return l},_renderTextLine:function(l,u,a,f,g,s){this._renderChars(l,u,a,f,g,s)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,a,f=l.fillStyle,g,s,p=this._getLeftOffset(),v=this._getTopOffset(),_=0,C=0,S,w,E=this.path,O,R=0,F=this._textLines.length;R<F;R++){if(u=this.getHeightOfLine(R),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",R)){v+=u;continue}g=this._textLines[R],a=this._getLineLeftOffset(R),C=0,_=0,s=this.getValueOfPropertyAt(R,0,"textBackgroundColor");for(var X=0,G=g.length;X<G;X++)S=this.__charBounds[R][X],w=this.getValueOfPropertyAt(R,X,"textBackgroundColor"),E?(l.save(),l.translate(S.renderLeft,S.renderTop),l.rotate(S.angle),l.fillStyle=w,w&&l.fillRect(-S.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),S.width,u/this.lineHeight),l.restore()):w!==s?(O=p+a+_,this.direction==="rtl"&&(O=this.width-O-C),l.fillStyle=s,s&&l.fillRect(O,v,C,u/this.lineHeight),_=S.left,C=S.width,s=w):C+=S.kernedWidth;w&&!E&&(O=p+a+_,this.direction==="rtl"&&(O=this.width-O-C),l.fillStyle=w,l.fillRect(O,v,C,u/this.lineHeight)),v+=u}l.fillStyle=f,this._removeShadow(l)}},getFontCache:function(l){var u=l.fontFamily.toLowerCase();i.charWidthsCache[u]||(i.charWidthsCache[u]={});var a=i.charWidthsCache[u],f=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return a[f]||(a[f]={}),a[f]},_measureChar:function(l,u,a,f){var g=this.getFontCache(u),s=this._getFontDeclaration(u),p=this._getFontDeclaration(f),v=a+l,_=s===p,C,S,w,E=u.fontSize/this.CACHE_FONT_SIZE,O;if(a&&g[a]!==void 0&&(w=g[a]),g[l]!==void 0&&(O=C=g[l]),_&&g[v]!==void 0&&(S=g[v],O=S-w),C===void 0||w===void 0||S===void 0){var R=this.getMeasuringContext();this._setTextStyles(R,u,!0)}return C===void 0&&(O=C=R.measureText(l).width,g[l]=C),w===void 0&&_&&a&&(w=R.measureText(a).width,g[a]=w),_&&S===void 0&&(S=R.measureText(v).width,g[v]=S,O=S-w),{width:C*E,kernedWidth:O*E}},getHeightOfChar:function(l,u){return this.getValueOfPropertyAt(l,u,"fontSize")},measureLine:function(l){var u=this._measureLine(l);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(l){var u=0,a,f,g=this._textLines[l],s,p,v=0,_=new Array(g.length),C=0,S,w,E=this.path,O=this.pathSide==="right";for(this.__charBounds[l]=_,a=0;a<g.length;a++)f=g[a],p=this._getGraphemeBox(f,l,a,s),_[a]=p,u+=p.kernedWidth,s=f;if(_[a]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(w=E.segmentsInfo[E.segmentsInfo.length-1].length,S=i.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":C=O?w-u:0;break;case"center":C=(w-u)/2;break;case"right":C=O?0:w-u;break}for(C+=this.pathStartOffset*(O?-1:1),a=O?g.length-1:0;O?a>=0:a<g.length;O?a--:a++)p=_[a],C>w?C%=w:C<0&&(C+=w),this._setGraphemeOnPath(C,p,S),C+=p.kernedWidth}return{width:u,numOfSpaces:v}},_setGraphemeOnPath:function(l,u,a){var f=l+u.kernedWidth/2,g=this.path,s=i.util.getPointOnPath(g.path,f,g.segmentsInfo);u.renderLeft=s.x-a.x,u.renderTop=s.y-a.y,u.angle=s.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,u,a,f,g){var s=this.getCompleteStyleDeclaration(u,a),p=f?this.getCompleteStyleDeclaration(u,a-1):{},v=this._measureChar(l,s,f,p),_=v.kernedWidth,C=v.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),C+=S,_+=S);var w={width:C,left:0,height:s.fontSize,kernedWidth:_,deltaY:s.deltaY};if(a>0&&!g){var E=this.__charBounds[u][a-1];w.left=E.left+E.width+v.kernedWidth-v.width}return w},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var u=this._textLines[l],a=this.getHeightOfChar(l,0),f=1,g=u.length;f<g;f++)a=Math.max(this.getHeightOfChar(l,f),a);return this.__lineHeights[l]=a*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,u=0,a=0,f=this._textLines.length;a<f;a++)l=this.getHeightOfLine(a),u+=a===f-1?l/this.lineHeight:l;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,u){l.save();for(var a=0,f=this._getLeftOffset(),g=this._getTopOffset(),s=0,p=this._textLines.length;s<p;s++){var v=this.getHeightOfLine(s),_=v/this.lineHeight,C=this._getLineLeftOffset(s);this._renderTextLine(u,l,this._textLines[s],f+C,g+a+_,s),a+=v}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,u,a,f,g,s){var p=this.getHeightOfLine(s),v=this.textAlign.indexOf("justify")!==-1,_,C,S="",w,E=0,O,R=this.path,F=!v&&this.charSpacing===0&&this.isEmptyStyles(s)&&!R,X=this.direction==="ltr",G=this.direction==="ltr"?1:-1,$,Q=u.canvas.getAttribute("dir");if(u.save(),Q!==this.direction&&(u.canvas.setAttribute("dir",X?"ltr":"rtl"),u.direction=X?"ltr":"rtl",u.textAlign=X?"left":"right"),g-=p*this._fontSizeFraction/this.lineHeight,F){this._renderChar(l,u,s,0,a.join(""),f,g,p),u.restore();return}for(var K=0,te=a.length-1;K<=te;K++)O=K===te||this.charSpacing||R,S+=a[K],w=this.__charBounds[s][K],E===0?(f+=G*(w.kernedWidth-w.width),E+=w.width):E+=w.kernedWidth,v&&!O&&this._reSpaceAndTab.test(a[K])&&(O=!0),O||(_=_||this.getCompleteStyleDeclaration(s,K),C=this.getCompleteStyleDeclaration(s,K+1),O=this._hasStyleChanged(_,C)),O&&(R?(u.save(),u.translate(w.renderLeft,w.renderTop),u.rotate(w.angle),this._renderChar(l,u,s,K,S,-E/2,0,p),u.restore()):($=f,this._renderChar(l,u,s,K,S,$,g,p)),S="",_=C,f+=G*E,E=0);u.restore()},_applyPatternGradientTransformText:function(l){var u=i.util.createCanvasElement(),a,f=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=f,u.height=g,a=u.getContext("2d"),a.beginPath(),a.moveTo(0,0),a.lineTo(f,0),a.lineTo(f,g),a.lineTo(0,g),a.closePath(),a.translate(f/2,g/2),a.fillStyle=l.toLive(a),this._applyPatternGradientTransform(a,l),a.fill(),a.createPattern(u,"no-repeat")},handleFiller:function(l,u,a){var f,g;return a.toLive?a.gradientUnits==="percentage"||a.gradientTransform||a.patternTransform?(f=-this.width/2,g=-this.height/2,l.translate(f,g),l[u]=this._applyPatternGradientTransformText(a),{offsetX:f,offsetY:g}):(l[u]=a.toLive(l,this),this._applyPatternGradientTransform(l,a)):(l[u]=a,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,u){return l.lineWidth=u.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",u.stroke)},_setFillStyles:function(l,u){return this.handleFiller(l,"fillStyle",u.fill)},_renderChar:function(l,u,a,f,g,s,p){var v=this._getStyleDeclaration(a,f),_=this.getCompleteStyleDeclaration(a,f),C=l==="fillText"&&_.fill,S=l==="strokeText"&&_.stroke&&_.strokeWidth,w,E;!S&&!C||(u.save(),C&&(w=this._setFillStyles(u,_)),S&&(E=this._setStrokeStyles(u,_)),u.font=this._getFontDeclaration(_),v&&v.textBackgroundColor&&this._removeShadow(u),v&&v.deltaY&&(p+=v.deltaY),C&&u.fillText(g,s-w.offsetX,p-w.offsetY),S&&u.strokeText(g,s-E.offsetX,p-E.offsetY),u.restore())},setSuperscript:function(l,u){return this._setScript(l,u,this.superscript)},setSubscript:function(l,u){return this._setScript(l,u,this.subscript)},_setScript:function(l,u,a){var f=this.get2DCursorLocation(l,!0),g=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"fontSize"),s=this.getValueOfPropertyAt(f.lineIndex,f.charIndex,"deltaY"),p={fontSize:g*a.size,deltaY:s+g*a.baseline};return this.setSelectionStyles(p,l,u),this},_hasStyleChanged:function(l,u){return l.fill!==u.fill||l.stroke!==u.stroke||l.strokeWidth!==u.strokeWidth||l.fontSize!==u.fontSize||l.fontFamily!==u.fontFamily||l.fontWeight!==u.fontWeight||l.fontStyle!==u.fontStyle||l.deltaY!==u.deltaY},_hasStyleChangedForSvg:function(l,u){return this._hasStyleChanged(l,u)||l.overline!==u.overline||l.underline!==u.underline||l.linethrough!==u.linethrough},_getLineLeftOffset:function(l){var u=this.getLineWidth(l),a=this.width-u,f=this.textAlign,g=this.direction,p,s=0,p=this.isEndOfWrapping(l);return f==="justify"||f==="justify-center"&&!p||f==="justify-right"&&!p||f==="justify-left"&&!p?0:(f==="center"&&(s=a/2),f==="right"&&(s=a),f==="justify-center"&&(s=a/2),f==="justify-right"&&(s=a),g==="rtl"&&(s-=a),s)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var u=this.measureLine(l),a=u.width;return this.__lineWidths[l]=a,a},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,u,a){var f=this._getStyleDeclaration(l,u);return f&&typeof f[a]!="undefined"?f[a]:this[a]},_renderTextDecoration:function(l,u){if(!(!this[u]&&!this.styleHas(u))){for(var a,f,g,s,p,v,_,C,S=this._getLeftOffset(),w=this._getTopOffset(),E,O,R,F,X,G,$,Q,K=this.path,te=this._getWidthOfCharSpacing(),re=this.offsets[u],ne=0,T=this._textLines.length;ne<T;ne++){if(a=this.getHeightOfLine(ne),!this[u]&&!this.styleHas(u,ne)){w+=a;continue}_=this._textLines[ne],G=a/this.lineHeight,s=this._getLineLeftOffset(ne),O=0,R=0,C=this.getValueOfPropertyAt(ne,0,u),Q=this.getValueOfPropertyAt(ne,0,"fill"),E=w+G*(1-this._fontSizeFraction),f=this.getHeightOfChar(ne,0),p=this.getValueOfPropertyAt(ne,0,"deltaY");for(var D=0,b=_.length;D<b;D++)if(F=this.__charBounds[ne][D],X=this.getValueOfPropertyAt(ne,D,u),$=this.getValueOfPropertyAt(ne,D,"fill"),g=this.getHeightOfChar(ne,D),v=this.getValueOfPropertyAt(ne,D,"deltaY"),K&&X&&$)l.save(),l.fillStyle=Q,l.translate(F.renderLeft,F.renderTop),l.rotate(F.angle),l.fillRect(-F.kernedWidth/2,re*g+v,F.kernedWidth,this.fontSize/15),l.restore();else if((X!==C||$!==Q||g!==f||v!==p)&&R>0){var k=S+s+O;this.direction==="rtl"&&(k=this.width-k-R),C&&Q&&(l.fillStyle=Q,l.fillRect(k,E+re*f+p,R,this.fontSize/15)),O=F.left,R=F.width,C=X,Q=$,f=g,p=v}else R+=F.kernedWidth;var k=S+s+O;this.direction==="rtl"&&(k=this.width-k-R),l.fillStyle=$,X&&$&&l.fillRect(k,E+re*f+p,R-te,this.fontSize/15),w+=a}this._removeShadow(l)}},_getFontDeclaration:function(l,u){var a=l||this,f=this.fontFamily,g=i.Text.genericFonts.indexOf(f.toLowerCase())>-1,s=f===void 0||f.indexOf("'")>-1||f.indexOf(",")>-1||f.indexOf('"')>-1||g?a.fontFamily:'"'+a.fontFamily+'"';return[i.isLikelyNode?a.fontWeight:a.fontStyle,i.isLikelyNode?a.fontStyle:a.fontWeight,u?this.CACHE_FONT_SIZE+"px":a.fontSize+"px",s].join(" ")},render:function(l){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l))},_splitTextIntoLines:function(l){for(var u=l.split(this._reNewline),a=new Array(u.length),f=[`
`],g=[],s=0;s<u.length;s++)a[s]=i.util.string.graphemeSplit(u[s]),g=g.concat(a[s],f);return g.pop(),{_unwrappedLines:a,lines:u,graphemeText:g,graphemeLines:a}},toObject:function(l){var u=d.concat(l),a=this.callSuper("toObject",u);return a.styles=h(this.styles,!0),a.path&&(a.path=this.path.toObject()),a},set:function(l,u){this.callSuper("set",l,u);var a=!1,f=!1;if(typeof l=="object")for(var g in l)g==="path"&&this.setPathInfo(),a=a||this._dimensionAffectingProps.indexOf(g)!==-1,f=f||g==="path";else a=this._dimensionAffectingProps.indexOf(l)!==-1,f=l==="path";return f&&this.setPathInfo(),a&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(l,u,a){if(!l)return u(null);var f=i.parseAttributes(l,i.Text.ATTRIBUTE_NAMES),g=f.textAnchor||"left";if(a=i.util.object.extend(a?h(a):{},f),a.top=a.top||0,a.left=a.left||0,f.textDecoration){var s=f.textDecoration;s.indexOf("underline")!==-1&&(a.underline=!0),s.indexOf("overline")!==-1&&(a.overline=!0),s.indexOf("line-through")!==-1&&(a.linethrough=!0),delete a.textDecoration}"dx"in f&&(a.left+=f.dx),"dy"in f&&(a.top+=f.dy),"fontSize"in a||(a.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in l?p=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(p=l.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var v=a.strokeWidth;a.strokeWidth=0;var _=new i.Text(p,a),C=_.getScaledHeight()/_.height,S=(_.height+_.strokeWidth)*_.lineHeight-_.height,w=S*C,E=_.getScaledHeight()+w,O=0;g==="center"&&(O=_.getScaledWidth()/2),g==="right"&&(O=_.getScaledWidth()),_.set({left:_.left-O,top:_.top-(E-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof v!="undefined"?v:1}),u(_)},i.Text.fromObject=function(l,u){var a=h(l),f=l.path;return delete a.path,i.Object._fromObject("Text",a,function(g){f?i.Object._fromObject("Path",f,function(s){g.set("path",s),u(g)},"path"):u(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(c){if(!this.styles||typeof c!="undefined"&&!this.styles[c])return!0;var i=typeof c=="undefined"?this.styles:{line:this.styles[c]};for(var h in i)for(var d in i[h])for(var l in i[h][d])return!1;return!0},styleHas:function(c,i){if(!this.styles||!c||c===""||typeof i!="undefined"&&!this.styles[i])return!1;var h=typeof i=="undefined"?this.styles:{0:this.styles[i]};for(var d in h)for(var l in h[d])if(typeof h[d][l][c]!="undefined")return!0;return!1},cleanStyle:function(c){if(!this.styles||!c||c==="")return!1;var i=this.styles,h=0,d,l,u=!0,a=0,f;for(var g in i){d=0;for(var s in i[g]){var f=i[g][s],p=f.hasOwnProperty(c);h++,p?(l?f[c]!==l&&(u=!1):l=f[c],f[c]===this[c]&&delete f[c]):u=!1,Object.keys(f).length!==0?d++:delete i[g][s]}d===0&&delete i[g]}for(var v=0;v<this._textLines.length;v++)a+=this._textLines[v].length;u&&h===a&&(this[c]=l,this.removeStyle(c))},removeStyle:function(c){if(!(!this.styles||!c||c==="")){var i=this.styles,h,d,l;for(d in i){h=i[d];for(l in h)delete h[l][c],Object.keys(h[l]).length===0&&delete h[l];Object.keys(h).length===0&&delete i[d]}}},_extendStyles:function(c,i){var h=this.get2DCursorLocation(c);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),i)},get2DCursorLocation:function(c,i){typeof c=="undefined"&&(c=this.selectionStart);for(var h=i?this._unwrappedTextLines:this._textLines,d=h.length,l=0;l<d;l++){if(c<=h[l].length)return{lineIndex:l,charIndex:c};c-=h[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:h[l-1].length<c?h[l-1].length:c}},getSelectionStyles:function(c,i,h){typeof c=="undefined"&&(c=this.selectionStart||0),typeof i=="undefined"&&(i=this.selectionEnd||c);for(var d=[],l=c;l<i;l++)d.push(this.getStyleAtPosition(l,h));return d},getStyleAtPosition:function(c,i){var h=this.get2DCursorLocation(c),d=i?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return d||{}},setSelectionStyles:function(c,i,h){typeof i=="undefined"&&(i=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||i);for(var d=i;d<h;d++)this._extendStyles(d,c);return this._forceClearCache=!0,this},_getStyleDeclaration:function(c,i){var h=this.styles&&this.styles[c];return h?h[i]:null},getCompleteStyleDeclaration:function(c,i){for(var h=this._getStyleDeclaration(c,i)||{},d={},l,u=0;u<this._styleProperties.length;u++)l=this._styleProperties[u],d[l]=typeof h[l]=="undefined"?this[l]:h[l];return d},_setStyleDeclaration:function(c,i,h){this.styles[c][i]=h},_deleteStyleDeclaration:function(c,i){delete this.styles[c][i]},_getLineStyle:function(c){return!!this.styles[c]},_setLineStyle:function(c){this.styles[c]={}},_deleteLineStyle:function(c){delete this.styles[c]}})}(),function(){function c(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,h){this.callSuper("initialize",i,h),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,h){this[i]!==h&&(this._fireSelectionChanged(),this[i]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,d=this.canvas.viewportTransform;h.save(),h.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(h),this._clearTextArea(h),i||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,h):this.renderSelection(i,h),h.restore()}},_clearTextArea:function(i){var h=this.width+4,d=this.height+4;i.clearRect(-h/2,-d/2,h,d)},_getCursorBoundaries:function(i){typeof i=="undefined"&&(i=this.selectionStart);var h=this._getLeftOffset(),d=this._getTopOffset(),l=this._getCursorBoundariesOffsets(i);return{left:h,top:d,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,d,l,u=0,a=0,f,g=this.get2DCursorLocation(i);l=g.charIndex,d=g.lineIndex;for(var s=0;s<d;s++)u+=this.getHeightOfLine(s);h=this._getLineLeftOffset(d);var p=this.__charBounds[d][l];return p&&(a=p.left),this.charSpacing!==0&&l===this._textLines[d].length&&(a-=this._getWidthOfCharSpacing()),f={top:u,left:h+(a>0?a:0)},this.direction==="rtl"&&(f.left*=-1),this.cursorOffsetCache=f,this.cursorOffsetCache},renderCursor:function(i,h){var d=this.get2DCursorLocation(),l=d.lineIndex,u=d.charIndex>0?d.charIndex-1:0,a=this.getValueOfPropertyAt(l,u,"fontSize"),f=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/f,s=i.topOffset,p=this.getValueOfPropertyAt(l,u,"deltaY");s+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,u,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(i.left+i.leftOffset-g/2,s+i.top+p,g,a)},renderSelection:function(i,h){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,a=this.get2DCursorLocation(d),f=this.get2DCursorLocation(l),g=a.lineIndex,s=f.lineIndex,p=a.charIndex<0?0:a.charIndex,v=f.charIndex<0?0:f.charIndex,_=g;_<=s;_++){var C=this._getLineLeftOffset(_)||0,S=this.getHeightOfLine(_),w=0,E=0,O=0;if(_===g&&(E=this.__charBounds[g][p].left),_>=g&&_<s)O=u&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===s)if(v===0)O=this.__charBounds[s][v].left;else{var R=this._getWidthOfCharSpacing();O=this.__charBounds[s][v-1].left+this.__charBounds[s][v-1].width-R}w=S,(this.lineHeight<1||_===s&&this.lineHeight>1)&&(S/=this.lineHeight);var F=i.left+C+E,X=O-E,G=S,$=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",G=1,$=S):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(F=this.width-F-X),h.fillRect(F,i.top+i.topOffset+$,X,G),i.topOffset+=w}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),h=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:h}}}),e.IText.fromObject=function(i,h){if(c(i),i.styles)for(var d in i.styles)for(var l in i.styles[d])c(i.styles[d][l]);e.Object._fromObject("IText",i,h,"text")}}(),function(){var c=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var h=i.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,i._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var h=i.canvas;h&&(h._iTextInstances=h._iTextInstances||[],e.util.removeFromArray(h._iTextInstances,i),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,i._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,h,d,l){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",h,{duration:d,onComplete:function(){u.isAborted||i[l]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var h=this,d=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},d)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var h=0,d=i-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d--;for(;/\S/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findWordBoundaryRight:function(i){var h=0,d=i;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)h++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},findLineBoundaryLeft:function(i){for(var h=0,d=i-1;!/\n/.test(this._text[d])&&d>-1;)h++,d--;return i-h},findLineBoundaryRight:function(i){for(var h=0,d=i;!/\n/.test(this._text[d])&&d<this._text.length;)h++,d++;return i+h},searchWordBoundary:function(i,h){for(var d=this._text,l=this._reSpace.test(d[i])?i-1:i,u=d[l],a=e.reNonWord;!a.test(u)&&l>0&&l<d.length;)l+=h,u=d[l];return a.test(u)&&(l+=h===1?0:1),l},selectWord:function(i){i=i||this.selectionStart;var h=this.searchWordBoundary(i,-1),d=this.searchWordBoundary(i,1);this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var h=this.findLineBoundaryLeft(i),d=this.findLineBoundaryRight(i);return this.selectionStart=h,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){var h=this.getSelectionStartFromPointer(i.e),d=this.selectionStart,l=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||d===l)&&(d===h||l===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,h,d){var l=d.slice(0,i),u=e.util.string.graphemeSplit(l).length;if(i===h)return{selectionStart:u,selectionEnd:u};var a=d.slice(i,h),f=e.util.string.graphemeSplit(a).length;return{selectionStart:u,selectionEnd:u+f}},fromGraphemeToStringSelection:function(i,h,d){var l=d.slice(0,i),u=l.join("").length;if(i===h)return{selectionStart:u,selectionEnd:u};var a=d.slice(i,h),f=a.join("").length;return{selectionStart:u,selectionEnd:u+f}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(i),d=this.get2DCursorLocation(i),l=d.lineIndex,u=d.charIndex,a=this.getValueOfPropertyAt(l,u,"fontSize")*this.lineHeight,f=h.leftOffset,g=this.calcTransformMatrix(),s={x:h.left+f,y:h.top+h.topOffset+a},p=this.canvas.getRetinaScaling(),v=this.canvas.upperCanvasEl,_=v.width/p,C=v.height/p,S=_-a,w=C-a,E=v.clientWidth/_,O=v.clientHeight/C;return s=e.util.transformPoint(s,g),s=e.util.transformPoint(s,this.canvas.viewportTransform),s.x*=E,s.y*=O,s.x<0&&(s.x=0),s.x>S&&(s.x=S),s.y<0&&(s.y=0),s.y>w&&(s.y=w),s.x+=this.canvas._offset.left,s.y+=this.canvas._offset.top,{left:s.x+"px",top:s.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,h){var d=this.get2DCursorLocation(i,!0),l=this.get2DCursorLocation(h,!0),u=d.lineIndex,a=d.charIndex,f=l.lineIndex,g=l.charIndex,s,p;if(u!==f){if(this.styles[u])for(s=a;s<this._unwrappedTextLines[u].length;s++)delete this.styles[u][s];if(this.styles[f])for(s=g;s<this._unwrappedTextLines[f].length;s++)p=this.styles[f][s],p&&(this.styles[u]||(this.styles[u]={}),this.styles[u][a+s-g]=p);for(s=u+1;s<=f;s++)delete this.styles[s];this.shiftLineStyles(f,u-f)}else if(this.styles[u]){p=this.styles[u];var v=g-a,_,C;for(s=a;s<g;s++)delete p[s];for(C in this.styles[u])_=parseInt(C,10),_>=g&&(p[_-v]=p[C],delete p[C])}},shiftLineStyles:function(i,h){var d=c(this.styles);for(var l in this.styles){var u=parseInt(l,10);u>i&&(this.styles[u+h]=d[u],d[u-h]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,h,d,l){var u,a={},f=!1,g=this._unwrappedTextLines[i].length===h;d||(d=1),this.shiftLineStyles(i,d),this.styles[i]&&(u=this.styles[i][h===0?h:h-1]);for(var s in this.styles[i]){var p=parseInt(s,10);p>=h&&(f=!0,a[p-h]=this.styles[i][s],g&&h===0||delete this.styles[i][s])}var v=!1;for(f&&!g&&(this.styles[i+d]=a,v=!0),v&&d--;d>0;)l&&l[d-1]?this.styles[i+d]={0:c(l[d-1])}:u?this.styles[i+d]={0:c(u)}:delete this.styles[i+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(i,h,d,l){this.styles||(this.styles={});var u=this.styles[i],a=u?c(u):{};d||(d=1);for(var f in a){var g=parseInt(f,10);g>=h&&(u[g+d]=a[g],a[g-d]||delete u[g])}if(this._forceClearCache=!0,l){for(;d--;)!Object.keys(l[d]).length||(this.styles[i]||(this.styles[i]={}),this.styles[i][h+d]=c(l[d]));return}if(!!u)for(var s=u[h?h-1:1];s&&d--;)this.styles[i][h+d]=c(s)},insertNewStyleBlock:function(i,h,d){for(var l=this.get2DCursorLocation(h,!0),u=[0],a=0,f=0;f<i.length;f++)i[f]===`
`?(a++,u[a]=0):u[a]++;u[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,u[0],d),d=d&&d.slice(u[0]+1)),a&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+u[0],a);for(var f=1;f<a;f++)u[f]>0?this.insertCharStyleObject(l.lineIndex+f,0,u[f],d):d&&this.styles[l.lineIndex+f]&&d[0]&&(this.styles[l.lineIndex+f][0]=d[0]),d=d&&d.slice(u[f]+1);u[f]>0&&this.insertCharStyleObject(l.lineIndex+f,0,u[f],d)},setSelectionStartEndWithShift:function(i,h,d){d<=i?(h===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=d):d>i&&d<h?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(h===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=d)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(c){if(!!this.canvas){this.__newClickTime=+new Date;var i=c.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",c),this._stopEvent(c.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(c){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===c.x&&this.__lastPointer.y===c.y},_stopEvent:function(c){c.preventDefault&&c.preventDefault(),c.stopPropagation&&c.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(c){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(c.e))},tripleClickHandler:function(c){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(c.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(c.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(c){!this.canvas||!this.editable||c.e.button&&c.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(c){if(this.__isMousedown=!1,!(!this.editable||this.group||c.transform&&c.transform.actionPerformed||c.e.button&&c.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(c.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(c){var i=this.getSelectionStartFromPointer(c),h=this.selectionStart,d=this.selectionEnd;c.shiftKey?this.setSelectionStartEndWithShift(h,d,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(c){for(var i=this.getLocalPointer(c),h=0,d=0,l=0,u=0,a=0,f,g,s=0,p=this._textLines.length;s<p&&l<=i.y;s++)l+=this.getHeightOfLine(s)*this.scaleY,a=s,s>0&&(u+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));f=this._getLineLeftOffset(a),d=f*this.scaleX,g=this._textLines[a],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+d);for(var v=0,_=g.length;v<_&&(h=d,d+=this.__charBounds[a][v].kernedWidth*this.scaleX,d<=i.x);v++)u++;return this._getNewSelectionStartFromOffset(i,h,d,u,_)},_getNewSelectionStartFromOffset:function(c,i,h,d,l){var u=c.x-i,a=h-c.x,f=a>u||a<0?0:1,g=d+f;return this.flipX&&(g=l-g),g>this._text.length&&(g=this._text.length),g}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var c=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+c.top+"; left: "+c.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+c.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(c){if(!!this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(c.keyCode in i)this[i[c.keyCode]](c);else if(c.keyCode in this.ctrlKeysMapDown&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapDown[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),c.keyCode>=33&&c.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(c){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(c.keyCode in this.ctrlKeysMapUp&&(c.ctrlKey||c.metaKey))this[this.ctrlKeysMapUp[c.keyCode]](c);else return;c.stopImmediatePropagation(),c.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(c){var i=this.fromPaste;if(this.fromPaste=!1,c&&c.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,l=h.length,u,a,f=l-d,g=this.selectionStart,s=this.selectionEnd,p=g!==s,v,_,C;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),w=g>S.selectionStart;p?(u=this._text.slice(g,s),f+=s-g):l<d&&(w?u=this._text.slice(s+f,s):u=this._text.slice(g,g-f)),a=h.slice(S.selectionEnd-f,S.selectionEnd),u&&u.length&&(a.length&&(v=this.getSelectionStyles(g,g+1,!1),v=a.map(function(){return v[0]})),p?(_=g,C=s):w?(_=s-u.length,C=s):(_=s,C=s+u.length),this.removeStyleFromTo(_,C)),a.length&&(i&&a.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(v=e.copiedTextStyle),this.insertNewStyleBlock(a,g,v)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(c){this.compositionStart=c.target.selectionStart,this.compositionEnd=c.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(c){return c&&c.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(c,i){var h=this._getLineLeftOffset(c),d;return i>0&&(d=this.__charBounds[c][i-1],h+=d.left+d.width),h},getDownCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),d=this.get2DCursorLocation(h),l=d.lineIndex;if(l===this._textLines.length-1||c.metaKey||c.keyCode===34)return this._text.length-h;var u=d.charIndex,a=this._getWidthBeforeCursor(l,u),f=this._getIndexOnLine(l+1,a),g=this._textLines[l].slice(u);return g.length+f+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(c,i){return c.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(c,i){var h=this._getSelectionForOffset(c,i),d=this.get2DCursorLocation(h),l=d.lineIndex;if(l===0||c.metaKey||c.keyCode===33)return-h;var u=d.charIndex,a=this._getWidthBeforeCursor(l,u),f=this._getIndexOnLine(l-1,a),g=this._textLines[l].slice(0,u),s=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+f-g.length+(1-s)},_getIndexOnLine:function(c,i){for(var h=this._textLines[c],d=this._getLineLeftOffset(c),l=d,u=0,a,f,g=0,s=h.length;g<s;g++)if(a=this.__charBounds[c][g].width,l+=a,l>i){f=!0;var p=l-a,v=l,_=Math.abs(p-i),C=Math.abs(v-i);u=C<_?g:g-1;break}return f||(u=h.length-1),u},moveCursorDown:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",c)},moveCursorUp:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",c)},_moveCursorUpOrDown:function(c,i){var h="get"+c+"CursorOffset",d=this[h](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(c){var i=this._selectionDirection==="left"?this.selectionStart+c:this.selectionEnd+c;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),c!==0},moveCursorWithoutShift:function(c){return c<0?(this.selectionStart+=c,this.selectionEnd=this.selectionStart):(this.selectionEnd+=c,this.selectionStart=this.selectionEnd),c!==0},moveCursorLeft:function(c){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",c)},_move:function(c,i,h){var d;if(c.altKey)d=this["findWordBoundary"+h](this[i]);else if(c.metaKey||c.keyCode===35||c.keyCode===36)d=this["findLineBoundary"+h](this[i]);else return this[i]+=h==="Left"?-1:1,!0;if(typeof d!==void 0&&this[i]!==d)return this[i]=d,!0},_moveLeft:function(c,i){return this._move(c,i,"Left")},_moveRight:function(c,i){return this._move(c,i,"Right")},moveCursorLeftWithoutShift:function(c){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(c,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(c){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(c,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(c,"selectionStart")},moveCursorRight:function(c){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",c)},_moveCursorLeftOrRight:function(c,i){var h="moveCursor"+c+"With";this._currentCursorOpacity=1,i.shiftKey?h+="Shift":h+="outShift",this[h](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(c){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(c,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(c,"selectionEnd")},moveCursorRightWithoutShift:function(c){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(c,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(c,i){typeof i=="undefined"&&(i=c+1),this.removeStyleFromTo(c,i),this._text.splice(c,i-c),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(c,i,h,d){typeof d=="undefined"&&(d=h),d>h&&this.removeStyleFromTo(h,d);var l=e.util.string.graphemeSplit(c);this.insertNewStyleBlock(l,h,i),this._text=[].concat(this._text.slice(0,h),l,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var c=e.util.toFixed,i=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var d=!0,l=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,d){var l=[],u=[],a=h,f;this._setSVGBg(u);for(var g=0,s=this._textLines.length;g<s;g++)f=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(u,g,d+f,a),this._setSVGTextLineText(l,g,d+f,a),a+=this.getHeightOfLine(g);return{textSpans:l,textBgRects:u}},_createTextCharSpan:function(h,d,l,u){var a=h!==h.trim()||h.match(i),f=this.getSvgSpanStyles(d,a),g=f?'style="'+f+'"':"",s=d.deltaY,p="",v=e.Object.NUM_FRACTION_DIGITS;return s&&(p=' dy="'+c(s,v)+'" '),['<tspan x="',c(l,v),'" y="',c(u,v),'" ',p,g,">",e.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,d,l,u){var a=this.getHeightOfLine(d),f=this.textAlign.indexOf("justify")!==-1,g,s,p="",v,_,C=0,S=this._textLines[d],w;u+=a*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,O=S.length-1;E<=O;E++)w=E===O||this.charSpacing,p+=S[E],v=this.__charBounds[d][E],C===0?(l+=v.kernedWidth-v.width,C+=v.width):C+=v.kernedWidth,f&&!w&&this._reSpaceAndTab.test(S[E])&&(w=!0),w||(g=g||this.getCompleteStyleDeclaration(d,E),s=this.getCompleteStyleDeclaration(d,E+1),w=this._hasStyleChangedForSvg(g,s)),w&&(_=this._getStyleDeclaration(d,E)||{},h.push(this._createTextCharSpan(p,_,l,u)),p="",g=s,l+=C,C=0)},_pushTextBgRect:function(h,d,l,u,a,f){var g=e.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(d),' x="',c(l,g),'" y="',c(u,g),'" width="',c(a,g),'" height="',c(f,g),`"></rect>
`)},_setSVGTextLineBg:function(h,d,l,u){for(var a=this._textLines[d],f=this.getHeightOfLine(d)/this.lineHeight,g=0,s=0,p,v,_=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),C=0,S=a.length;C<S;C++)p=this.__charBounds[d][C],v=this.getValueOfPropertyAt(d,C,"textBackgroundColor"),v!==_?(_&&this._pushTextBgRect(h,_,l+s,u,g,f),s=p.left,g=p.width,_=v):g+=p.kernedWidth;v&&this._pushTextBgRect(h,v,l+s,u,g,f)},_getFillAttributes:function(h){var d=h&&typeof h=="string"?new e.Color(h):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+h+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var d=0,l=0,u=0;u<h;u++)d+=this.getHeightOfLine(u);return l=this.getHeightOfLine(u),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var d=e.Object.prototype.getSvgStyles.call(this,h);return d+" white-space: pre;"}})}(),function(c){var i=c.fabric||(c.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var d=0,l=0,u=0,a={},f=0;f<h.graphemeLines.length;f++)h.graphemeText[u]===`
`&&f>0?(l=0,u++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[u])&&f>0&&(l++,u++),a[f]={line:d,offset:l},u+=h.graphemeLines[f].length,l+=h.graphemeLines[f].length;return a},styleHas:function(h,d){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[d];l&&(d=l.line)}return i.Text.prototype.styleHas.call(this,h,d)},isEmptyStyles:function(h){if(!this.styles)return!0;var d=0,l=h+1,u,a,f=!1,g=this._styleMap[h],s=this._styleMap[h+1];g&&(h=g.line,d=g.offset),s&&(l=s.line,f=l===h,u=s.offset),a=typeof h=="undefined"?this.styles:{line:this.styles[h]};for(var p in a)for(var v in a[p])if(v>=d&&(!f||v<u))for(var _ in a[p][v])return!1;return!0},_getStyleDeclaration:function(h,d){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[h];if(!l)return null;h=l.line,d=l.offset+d}return this.callSuper("_getStyleDeclaration",h,d)},_setStyleDeclaration:function(h,d,l){var u=this._styleMap[h];h=u.line,d=u.offset+d,this.styles[h][d]=l},_deleteStyleDeclaration:function(h,d){var l=this._styleMap[h];h=l.line,d=l.offset+d,delete this.styles[h][d]},_getLineStyle:function(h){var d=this._styleMap[h];return!!this.styles[d.line]},_setLineStyle:function(h){var d=this._styleMap[h];this.styles[d.line]={}},_wrapText:function(h,d){var l=[],u;for(this.isWrapping=!0,u=0;u<h.length;u++)l=l.concat(this._wrapLine(h[u],u,d));return this.isWrapping=!1,l},_measureWord:function(h,d,l){var u=0,a,f=!0;l=l||0;for(var g=0,s=h.length;g<s;g++){var p=this._getGraphemeBox(h[g],d,g+l,a,f);u+=p.kernedWidth,a=h[g]}return u},_wrapLine:function(h,d,l,F){var a=0,f=this.splitByGrapheme,g=[],s=[],p=f?i.util.string.graphemeSplit(h):h.split(this._wordJoiners),v="",_=0,C=f?"":" ",S=0,w=0,E=0,O=!0,R=this._getWidthOfCharSpacing(),F=F||0;p.length===0&&p.push([]),l-=F;for(var X=0;X<p.length;X++)v=f?p[X]:i.util.string.graphemeSplit(p[X]),S=this._measureWord(v,d,_),_+=v.length,a+=w+S-R,a>l&&!O?(g.push(s),s=[],a=S,O=!0):a+=R,!O&&!f&&s.push(C),s=s.concat(v),w=f?0:this._measureWord([C],d,_),_++,O=!1,S>E&&(E=S);return X&&g.push(s),E+F>this.dynamicMinWidth&&(this.dynamicMinWidth=E-R+F),g},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var d=i.Text.prototype._splitTextIntoLines.call(this,h),l=this._wrapText(d.lines,this.width),u=new Array(l.length),a=0;a<l.length;a++)u[a]=l[a].join("");return d.lines=u,d.graphemeLines=l,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var d in this._styleMap)this._textLines[d]&&(h[this._styleMap[d].line]=1);for(var d in this.styles)h[d]||delete this.styles[d]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),i.Textbox.fromObject=function(h,d){return i.Object._fromObject("Textbox",h,d,"text")}}(t),function(){var c=e.controlsUtils,i=c.scaleSkewCursorStyleHandler,h=c.scaleCursorStyleHandler,d=c.scalingEqually,l=c.scalingYOrSkewingX,u=c.scalingXOrSkewingY,a=c.scaleOrSkewActionName,f=e.Object.prototype.controls;if(f.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),f.mr=new e.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:u,getActionName:a}),f.mb=new e.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:l,getActionName:a}),f.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:l,getActionName:a}),f.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),f.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:d}),f.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:d}),f.br=new e.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:d}),f.mtr=new e.Control({x:0,y:-.5,actionHandler:c.rotationWithSnapping,cursorStyleHandler:c.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var g=e.Textbox.prototype.controls={};g.mtr=f.mtr,g.tr=f.tr,g.br=f.br,g.tl=f.tl,g.bl=f.bl,g.mt=f.mt,g.mb=f.mb,g.mr=new e.Control({x:.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new e.Control({x:-.5,y:0,actionHandler:c.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Um);function zm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vm(t,e,n){return e&&lc(t.prototype,e),n&&lc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Vi=function(){function t(){zm(this,t)}return Vm(t,null,[{key:"isNavKeyPress",value:function(n){var r=n.keyCode;return r=ue.getBrowser().safari&&t.SAFARI_KEYS[r]||r,r>=33&&r<=40||r===t.KEYS.RETURN||r===t.KEYS.TAB||r===t.KEYS.ESC}},{key:"isSpecialKey",value:function(n){var r=n.keyCode;return r===9||r===13||r===27||r===16||r===17||r>=18&&r<=20||ue.getBrowser().opera&&!n.shiftKey&&(r===8||r>=33&&r<=35||r>=36&&r<=39||r>=44&&r<=45)}},{key:"getKey",value:function(n){var r=n.keyCode||n.charCode;return ue.getBrowser().safari&&t.SAFARI_KEYS[r]||r}},{key:"getCharCode",value:function(n){return n.charCode||n.keyCode||n.which}},{key:"onKeyPress",value:function(n,r,o){if(!o){var m=t.DEFAULT_MASKS[r]?t.DEFAULT_MASKS[r]:r,y=ue.getBrowser();if(!(n.ctrlKey||n.altKey)){var c=this.getKey(n);if(!(y.mozilla&&(this.isNavKeyPress(n)||c===t.KEYS.BACKSPACE||c===t.KEYS.DELETE&&n.charCode===0))){var i=this.getCharCode(n),h=String.fromCharCode(i);y.mozilla&&(this.isSpecialKey(n)||!h)||m.test(h)||n.preventDefault()}}}}},{key:"validate",value:function(n,r){var o=n.target.value,m=!0;return o&&!r.test(o)&&(m=!1),m}}]),t}();vl(Vi,"DEFAULT_MASKS",{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i});vl(Vi,"KEYS",{TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46});vl(Vi,"SAFARI_KEYS",{63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35});function Xm(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ym(t,e,n){return e&&uc(t.prototype,e),n&&uc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ra(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oa(t,e){return oa=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},oa(t,e)}function Gm(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oa(t,e)}function sa(t){return sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sa(t)}function $m(t,e){if(e&&(sa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ra(t)}function to(t){return to=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},to(t)}function kh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cc(Object(n),!0).forEach(function(r){kh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qm(t){var e=Qm();return function(){var r=to(t),o;if(e){var m=to(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return $m(this,o)}}function Qm(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Ph=function(t){Gm(n,t);var e=qm(n);function n(r){var o;return Xm(this,n),o=e.call(this,r),o.onInput=o.onInput.bind(ra(o)),o.onKeyPress=o.onKeyPress.bind(ra(o)),o.elementRef=ae.exports.createRef(o.props.forwardRef),o}return Ym(n,[{key:"isFilled",value:function(){return this.props.value!=null&&this.props.value.toString().length>0||this.props.defaultValue!=null&&this.props.defaultValue.toString().length>0||this.elementRef&&this.elementRef.current&&this.elementRef.current.value!=null&&this.elementRef.current.value.toString().length>0}},{key:"onKeyPress",value:function(o){this.props.onKeyPress&&this.props.onKeyPress(o),this.props.keyfilter&&Vi.onKeyPress(o,this.props.keyfilter,this.props.validateOnly)}},{key:"onInput",value:function(o){var m=!0;this.props.keyfilter&&this.props.validateOnly&&(m=Vi.validate(o,this.props.keyfilter)),this.props.onInput&&this.props.onInput(o,m),this.props.onChange||(o.target.value.length>0?ue.addClass(o.target,"p-filled"):ue.removeClass(o.target,"p-filled"))}},{key:"updateForwardRef",value:function(){var o=this.props.forwardRef;o&&(typeof o=="function"?o(this.elementRef.current):o.current=this.elementRef.current)}},{key:"componentDidMount",value:function(){this.updateForwardRef(),this.props.tooltip&&this.renderTooltip()}},{key:"componentDidUpdate",value:function(o){(o.tooltip!==this.props.tooltip||o.tooltipOptions!==this.props.tooltipOptions)&&(this.tooltip?this.tooltip.update(Km({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip())}},{key:"componentWillUnmount",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}},{key:"renderTooltip",value:function(){this.tooltip=bh({target:this.elementRef.current,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"render",value:function(){var o=Le("p-inputtext p-component",{"p-disabled":this.props.disabled,"p-filled":this.isFilled()},this.props.className),m=So.findDiffKeys(this.props,n.defaultProps);return he("input",Ji($t({ref:this.elementRef},m),{className:o,onInput:this.onInput,onKeyPress:this.onKeyPress}))}}]),n}(ae.exports.Component);kh(Ph,"defaultProps",{keyfilter:null,validateOnly:!1,tooltip:null,tooltipOptions:null,onInput:null,onKeyPress:null,forwardRef:null});var Zm=Me.forwardRef(function(t,e){return he(Ph,$t({forwardRef:e},t))});function aa(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jm(t){if(Array.isArray(t))return aa(t)}function ev(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tv(t,e){if(!!t){if(typeof t=="string")return aa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aa(t,e)}}function nv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iv(t){return Jm(t)||ev(t)||tv(t)||nv()}function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ov(t,e,n){return e&&fc(t.prototype,e),n&&fc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function la(t,e){return la=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},la(t,e)}function sv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&la(t,e)}function ua(t){return ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(t)}function av(t,e){if(e&&(ua(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(t)}function no(t){return no=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},no(t)}function Dh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,r)}return n}function es(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hc(Object(n),!0).forEach(function(r){Dh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t){var e=uv();return function(){var r=no(t),o;if(e){var m=no(this).constructor;o=Reflect.construct(r,arguments,m)}else o=r.apply(this,arguments);return av(this,o)}}function uv(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var cv=function(t){sv(n,t);var e=lv(n);function n(r){var o;return rv(this,n),o=e.call(this,r),o.state={focused:!1},o.constructParser(),o.onInput=o.onInput.bind(Oe(o)),o.onInputKeyDown=o.onInputKeyDown.bind(Oe(o)),o.onInputKeyPress=o.onInputKeyPress.bind(Oe(o)),o.onInputClick=o.onInputClick.bind(Oe(o)),o.onInputBlur=o.onInputBlur.bind(Oe(o)),o.onInputFocus=o.onInputFocus.bind(Oe(o)),o.onPaste=o.onPaste.bind(Oe(o)),o.onUpButtonMouseLeave=o.onUpButtonMouseLeave.bind(Oe(o)),o.onUpButtonMouseDown=o.onUpButtonMouseDown.bind(Oe(o)),o.onUpButtonMouseUp=o.onUpButtonMouseUp.bind(Oe(o)),o.onUpButtonKeyDown=o.onUpButtonKeyDown.bind(Oe(o)),o.onUpButtonKeyUp=o.onUpButtonKeyUp.bind(Oe(o)),o.onDownButtonMouseLeave=o.onDownButtonMouseLeave.bind(Oe(o)),o.onDownButtonMouseDown=o.onDownButtonMouseDown.bind(Oe(o)),o.onDownButtonMouseUp=o.onDownButtonMouseUp.bind(Oe(o)),o.onDownButtonKeyDown=o.onDownButtonKeyDown.bind(Oe(o)),o.onDownButtonKeyUp=o.onDownButtonKeyUp.bind(Oe(o)),o.inputRef=ae.exports.createRef(o.props.inputRef),o}return ov(n,[{key:"getOptions",value:function(){return{localeMatcher:this.props.localeMatcher,style:this.props.mode,currency:this.props.currency,currencyDisplay:this.props.currencyDisplay,useGrouping:this.props.useGrouping,minimumFractionDigits:this.props.minFractionDigits,maximumFractionDigits:this.props.maxFractionDigits}}},{key:"constructParser",value:function(){this.numberFormat=new Intl.NumberFormat(this.props.locale,this.getOptions());var o=iv(new Intl.NumberFormat(this.props.locale,{useGrouping:!1}).format(9876543210)).reverse(),m=new Map(o.map(function(y,c){return[y,c]}));this._numeral=new RegExp("[".concat(o.join(""),"]"),"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=function(y){return m.get(y)}}},{key:"escapeRegExp",value:function(o){return o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},{key:"getDecimalExpression",value:function(){var o=new Intl.NumberFormat(this.props.locale,es(es({},this.getOptions()),{},{useGrouping:!1}));return new RegExp("[".concat(o.format(1.1).replace(this._currency,"").trim().replace(this._numeral,""),"]"),"g")}},{key:"getGroupingExpression",value:function(){var o=new Intl.NumberFormat(this.props.locale,{useGrouping:!0});return this.groupChar=o.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp("[".concat(this.groupChar,"]"),"g")}},{key:"getMinusSignExpression",value:function(){var o=new Intl.NumberFormat(this.props.locale,{useGrouping:!1});return new RegExp("[".concat(o.format(-1).trim().replace(this._numeral,""),"]"),"g")}},{key:"getCurrencyExpression",value:function(){if(this.props.currency){var o=new Intl.NumberFormat(this.props.locale,{style:"currency",currency:this.props.currency,currencyDisplay:this.props.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp("[".concat(o.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,""),"]"),"g")}return new RegExp("[]","g")}},{key:"getPrefixExpression",value:function(){if(this.props.prefix)this.prefixChar=this.props.prefix;else{var o=new Intl.NumberFormat(this.props.locale,{style:this.props.mode,currency:this.props.currency,currencyDisplay:this.props.currencyDisplay});this.prefixChar=o.format(1).split("1")[0]}return new RegExp("".concat(this.escapeRegExp(this.prefixChar||"")),"g")}},{key:"getSuffixExpression",value:function(){if(this.props.suffix)this.suffixChar=this.props.suffix;else{var o=new Intl.NumberFormat(this.props.locale,{style:this.props.mode,currency:this.props.currency,currencyDisplay:this.props.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=o.format(1).split("1")[1]}return new RegExp("".concat(this.escapeRegExp(this.suffixChar||"")),"g")}},{key:"formatValue",value:function(o){if(o!=null){if(o==="-")return o;if(this.props.format){var m=new Intl.NumberFormat(this.props.locale,this.getOptions()),y=m.format(o);return this.props.prefix&&(y=this.props.prefix+y),this.props.suffix&&(y=y+this.props.suffix),y}return o.toString()}return""}},{key:"parseValue",value:function(o){var m=o.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(m){if(m==="-")return m;var y=+m;return isNaN(y)?null:y}return null}},{key:"repeat",value:function(o,m,y){var c=this,i=m||500;this.clearTimer(),this.timer=setTimeout(function(){c.repeat(o,40,y)},i),this.spin(o,y)}},{key:"spin",value:function(o,m){if(this.inputRef&&this.inputRef.current){var y=this.props.step*m,c=this.parseValue(this.inputRef.current.value)||0,i=this.validateValue(c+y);this.updateInput(i,null,"spin"),this.updateModel(o,i),this.handleOnChange(o,c,i)}}},{key:"onUpButtonMouseDown",value:function(o){!this.props.disabled&&!this.props.readOnly&&(this.inputRef.current.focus(),this.repeat(o,null,1),o.preventDefault())}},{key:"onUpButtonMouseUp",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onUpButtonMouseLeave",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onUpButtonKeyUp",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onUpButtonKeyDown",value:function(o){!this.props.disabled&&!this.props.readOnly&&(o.keyCode===32||o.keyCode===13)&&this.repeat(o,null,1)}},{key:"onDownButtonMouseDown",value:function(o){!this.props.disabled&&!this.props.readOnly&&(this.inputRef.current.focus(),this.repeat(o,null,-1),o.preventDefault())}},{key:"onDownButtonMouseUp",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onDownButtonMouseLeave",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onDownButtonKeyUp",value:function(){!this.props.disabled&&!this.props.readOnly&&this.clearTimer()}},{key:"onDownButtonKeyDown",value:function(o){!this.props.disabled&&!this.props.readOnly&&(o.keyCode===32||o.keyCode===13)&&this.repeat(o,null,-1)}},{key:"onInput",value:function(o){this.props.disabled||this.props.readOnly||(this.isSpecialChar&&(o.target.value=this.lastValue),this.isSpecialChar=!1)}},{key:"onInputKeyDown",value:function(o){if(!(this.props.disabled||this.props.readOnly)){if(this.lastValue=o.target.value,o.shiftKey||o.altKey){this.isSpecialChar=!0;return}var m=o.target.selectionStart,y=o.target.selectionEnd,c=o.target.value,i=null;switch(o.altKey&&o.preventDefault(),o.which){case 38:this.spin(o,1),o.preventDefault();break;case 40:this.spin(o,-1),o.preventDefault();break;case 37:this.isNumeralChar(c.charAt(m-1))||o.preventDefault();break;case 39:this.isNumeralChar(c.charAt(m))||o.preventDefault();break;case 13:i=this.validateValue(this.parseValue(c)),this.inputRef.current.value=this.formatValue(i),this.inputRef.current.setAttribute("aria-valuenow",i),this.updateModel(o,i);break;case 8:if(o.preventDefault(),m===y){var h=c.charAt(m-1),d=this.getDecimalCharIndexes(c),l=d.decimalCharIndex,u=d.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(h)){var a=this.getDecimalLength(c);if(this._group.test(h))this._group.lastIndex=0,i=c.slice(0,m-2)+c.slice(m-1);else if(this._decimal.test(h))this._decimal.lastIndex=0,a?this.inputRef.current.setSelectionRange(m-1,m-1):i=c.slice(0,m-1)+c.slice(m);else if(l>0&&m>l){var f=this.isDecimalMode()&&(this.props.minFractionDigits||0)<a?"":"0";i=c.slice(0,m-1)+f+c.slice(m)}else u===1?(i=c.slice(0,m-1)+"0"+c.slice(m),i=this.parseValue(i)>0?i:""):i=c.slice(0,m-1)+c.slice(m)}this.updateValue(o,i,null,"delete-single")}else i=this.deleteRange(c,m,y),this.updateValue(o,i,null,"delete-range");break;case 46:if(o.preventDefault(),m===y){var g=c.charAt(m),s=this.getDecimalCharIndexes(c),p=s.decimalCharIndex,v=s.decimalCharIndexWithoutPrefix;if(this.isNumeralChar(g)){var _=this.getDecimalLength(c);if(this._group.test(g))this._group.lastIndex=0,i=c.slice(0,m)+c.slice(m+2);else if(this._decimal.test(g))this._decimal.lastIndex=0,_?this.$refs.input.$el.setSelectionRange(m+1,m+1):i=c.slice(0,m)+c.slice(m+1);else if(p>0&&m>p){var C=this.isDecimalMode()&&(this.props.minFractionDigits||0)<_?"":"0";i=c.slice(0,m)+C+c.slice(m+1)}else v===1?(i=c.slice(0,m)+"0"+c.slice(m+1),i=this.parseValue(i)>0?i:""):i=c.slice(0,m)+c.slice(m+1)}this.updateValue(o,i,null,"delete-back-single")}else i=this.deleteRange(c,m,y),this.updateValue(o,i,null,"delete-range");break}this.props.onKeyDown&&this.props.onKeyDown(o)}}},{key:"onInputKeyPress",value:function(o){if(!(this.props.disabled||this.props.readOnly)){var m=o.which||o.keyCode;m!==13&&o.preventDefault();var y=String.fromCharCode(m),c=this.isDecimalSign(y),i=this.isMinusSign(y);(48<=m&&m<=57||i||c)&&this.insert(o,y,{isDecimalSign:c,isMinusSign:i})}}},{key:"onPaste",value:function(o){if(o.preventDefault(),!(this.props.disabled||this.props.readOnly)){var m=(o.clipboardData||window.clipboardData).getData("Text");if(m){var y=this.parseValue(m);y!=null&&this.insert(o,y.toString())}}}},{key:"allowMinusSign",value:function(){return this.props.min===null||this.props.min<0}},{key:"isMinusSign",value:function(o){return this._minusSign.test(o)||o==="-"?(this._minusSign.lastIndex=0,!0):!1}},{key:"isDecimalSign",value:function(o){return this._decimal.test(o)?(this._decimal.lastIndex=0,!0):!1}},{key:"isDecimalMode",value:function(){return this.props.mode==="decimal"}},{key:"getDecimalCharIndexes",value:function(o){var m=o.search(this._decimal);this._decimal.lastIndex=0;var y=o.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,""),c=y.search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:m,decimalCharIndexWithoutPrefix:c}}},{key:"getCharIndexes",value:function(o){var m=o.search(this._decimal);this._decimal.lastIndex=0;var y=o.search(this._minusSign);this._minusSign.lastIndex=0;var c=o.search(this._suffix);this._suffix.lastIndex=0;var i=o.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:m,minusCharIndex:y,suffixCharIndex:c,currencyCharIndex:i}}},{key:"insert",value:function(o,m){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},c=m.search(this._minusSign);if(this._minusSign.lastIndex=0,!(!this.allowMinusSign()&&c!==-1)){var i=this.inputRef.current.selectionStart,h=this.inputRef.current.selectionEnd,d=this.inputRef.current.value.trim(),l=this.getCharIndexes(d),u=l.decimalCharIndex,a=l.minusCharIndex,f=l.suffixCharIndex,g=l.currencyCharIndex,s;if(y.isMinusSign)i===0&&(s=d,(a===-1||h!==0)&&(s=this.insertText(d,m,0,h)),this.updateValue(o,s,m,"insert"));else if(y.isDecimalSign)u>0&&i===u?this.updateValue(o,d,m,"insert"):u>i&&u<h?(s=this.insertText(d,m,i,h),this.updateValue(o,s,m,"insert")):u===-1&&this.props.maxFractionDigits&&(s=this.insertText(d,m,i,h),this.updateValue(o,s,m,"insert"));else{var p=this.numberFormat.resolvedOptions().maximumFractionDigits,v=i!==h?"range-insert":"insert";if(u>0&&i>u){if(i+m.length-(u+1)<=p){var _=g>=i?g-1:f>=i?f:d.length;s=d.slice(0,i)+m+d.slice(i+m.length,_)+d.slice(_),this.updateValue(o,s,m,v)}}else s=this.insertText(d,m,i,h),this.updateValue(o,s,m,v)}}}},{key:"insertText",value:function(o,m,y,c){var i=m==="."?m:m.split(".");if(i.length===2){var h=o.slice(y,c).search(this._decimal);return this._decimal.lastIndex=0,h>0?o.slice(0,y)+this.formatValue(m)+o.slice(c):o||this.formatValue(m)}else return c-y===o.length?this.formatValue(m):y===0?m+o.slice(c):c===o.length?o.slice(0,y)+m:o.slice(0,y)+m+o.slice(c)}},{key:"deleteRange",value:function(o,m,y){var c;return y-m===o.length?c="":m===0?c=o.slice(y):y===o.length?c=o.slice(0,m):c=o.slice(0,m)+o.slice(y),c}},{key:"initCursor",value:function(){var o=this.inputRef.current.selectionStart,m=this.inputRef.current.value,y=m.length,c=null,i=(this.prefixChar||"").length;m=m.replace(this._prefix,""),o=o-i;var h=m.charAt(o);if(this.isNumeralChar(h))return o+i;for(var d=o-1;d>=0;)if(h=m.charAt(d),this.isNumeralChar(h)){c=d+i;break}else d--;if(c!==null)this.inputRef.current.setSelectionRange(c+1,c+1);else{for(d=o;d<y;)if(h=m.charAt(d),this.isNumeralChar(h)){c=d+i;break}else d++;c!==null&&this.inputRef.current.setSelectionRange(c,c)}return c||0}},{key:"onInputClick",value:function(){this.initCursor()}},{key:"isNumeralChar",value:function(o){return o.length===1&&(this._numeral.test(o)||this._decimal.test(o)||this._group.test(o)||this._minusSign.test(o))?(this.resetRegex(),!0):!1}},{key:"resetRegex",value:function(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}},{key:"updateValue",value:function(o,m,y,c){var i=this.inputRef.current.value,h=null;m!=null&&(h=this.parseValue(m),h=this.evaluateEmpty(h),this.updateInput(h,y,c,m),this.handleOnChange(o,i,h))}},{key:"evaluateEmpty",value:function(o){return!o&&!this.props.allowEmpty?this.props.min||0:o}},{key:"handleOnChange",value:function(o,m,y){this.props.onChange&&this.isValueChanged(m,y)&&this.props.onChange({originalEvent:o,value:y})}},{key:"isValueChanged",value:function(o,m){if(m===null&&o!==null)return!0;if(m!=null){var y=typeof o=="string"?this.parseValue(o):o;return m!==y}return!1}},{key:"validateValue",value:function(o){return o==="-"||o==null?null:this.props.min!==null&&o<this.props.min?this.props.min:this.props.max!==null&&o>this.props.max?this.props.max:o}},{key:"updateInput",value:function(o,m,y,c){m=m||"";var i=this.inputRef.current,h=i.value,d=this.formatValue(o),l=h.length;if(d!==c&&(d=this.concatValues(d,c)),l===0){i.value=d,i.setSelectionRange(0,0);var u=this.initCursor(),a=u+m.length;i.setSelectionRange(a,a)}else{var f=i.selectionStart,g=i.selectionEnd;i.value=d;var s=d.length;if(y==="range-insert"){var p=this.parseValue((h||"").slice(0,f)),v=p!==null?p.toString():"",_=v.split("").join("(".concat(this.groupChar,")?")),C=new RegExp(_,"g");C.test(d);var S=m.split("").join("(".concat(this.groupChar,")?")),w=new RegExp(S,"g");w.test(d.slice(C.lastIndex)),g=C.lastIndex+w.lastIndex,i.setSelectionRange(g,g)}else if(s===l)y==="insert"||y==="delete-back-single"?i.setSelectionRange(g+1,g+1):y==="delete-single"?i.setSelectionRange(g-1,g-1):(y==="delete-range"||y==="spin")&&i.setSelectionRange(g,g);else if(y==="delete-back-single"){var E=h.charAt(g-1),O=h.charAt(g),R=l-s,F=this._group.test(O);F&&R===1?g+=1:!F&&this.isNumeralChar(E)&&(g+=-1*R+1),this._group.lastIndex=0,i.setSelectionRange(g,g)}else if(h==="-"&&y==="insert"){i.setSelectionRange(0,0);var X=this.initCursor(),G=X+m.length+1;i.setSelectionRange(G,G)}else g=g+(s-l),i.setSelectionRange(g,g)}i.setAttribute("aria-valuenow",o)}},{key:"updateInputValue",value:function(o){o=this.evaluateEmpty(o);var m=this.inputRef.current,y=m.value,c=this.formattedValue(o);y!==c&&(m.value=c,m.setAttribute("aria-valuenow",o))}},{key:"formattedValue",value:function(o){var m=this.evaluateEmpty(o);return this.formatValue(m)}},{key:"concatValues",value:function(o,m){if(o&&m){var y=m.search(this._decimal);return this._decimal.lastIndex=0,y!==-1?o.split(this._decimal)[0]+m.slice(y):o}return o}},{key:"getDecimalLength",value:function(o){if(o){var m=o.split(this._decimal);if(m.length===2)return m[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}},{key:"updateModel",value:function(o,m){this.props.onValueChange&&this.props.onValueChange({originalEvent:o,value:m,stopPropagation:function(){},preventDefault:function(){},target:{name:this.props.name,id:this.props.id,value:m}})}},{key:"onInputFocus",value:function(o){var m=this;o.persist(),this.setState({focused:!0},function(){m.props.onFocus&&m.props.onFocus(o)})}},{key:"onInputBlur",value:function(o){var m=this;o.persist(),this.setState({focused:!1},function(){var y=m.inputRef.current.value;if(m.isValueChanged(y,m.props.value)){var c=m.validateValue(m.parseValue(y));m.updateInputValue(c),m.updateModel(o,c)}m.props.onBlur&&m.props.onBlur(o)})}},{key:"clearTimer",value:function(){this.timer&&clearInterval(this.timer)}},{key:"isStacked",value:function(){return this.props.showButtons&&this.props.buttonLayout==="stacked"}},{key:"isHorizontal",value:function(){return this.props.showButtons&&this.props.buttonLayout==="horizontal"}},{key:"isVertical",value:function(){return this.props.showButtons&&this.props.buttonLayout==="vertical"}},{key:"getInputMode",value:function(){return this.props.inputMode||(this.props.mode==="decimal"&&!this.props.minFractionDigits?"numeric":"decimal")}},{key:"getFormatter",value:function(){return this.numberFormat}},{key:"updateInputRef",value:function(){var o=this.props.inputRef;o&&(typeof o=="function"?o(this.inputRef.current):o.current=this.inputRef.current)}},{key:"componentDidMount",value:function(){this.updateInputRef(),this.props.tooltip&&this.renderTooltip();var o=this.validateValue(this.props.value);this.props.value!==null&&this.props.value!==o&&this.updateModel(null,o)}},{key:"componentDidUpdate",value:function(o){(o.tooltip!==this.props.tooltip||o.tooltipOptions!==this.props.tooltipOptions)&&(this.tooltip?this.tooltip.update(es({content:this.props.tooltip},this.props.tooltipOptions||{})):this.renderTooltip());var m=this.isOptionChanged(o);if(m&&this.constructParser(),o.value!==this.props.value||m){var y=this.validateValue(this.props.value);this.updateInputValue(y),this.props.value!==null&&this.props.value!==y&&this.updateModel(null,y)}}},{key:"isOptionChanged",value:function(o){var m=this,y=["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","suffix","prefix"];return y.some(function(c){return o[c]!==m.props[c]})}},{key:"componentWillUnmount",value:function(){this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)}},{key:"renderTooltip",value:function(){this.tooltip=bh({target:this.element,content:this.props.tooltip,options:this.props.tooltipOptions})}},{key:"renderInputElement",value:function(){var o=Le("p-inputnumber-input",this.props.inputClassName),m=this.formattedValue(this.props.value);return he(Zm,{ref:this.inputRef,id:this.props.inputId,style:this.props.inputStyle,role:"spinbutton",className:o,defaultValue:m,type:this.props.type,size:this.props.size,tabIndex:this.props.tabIndex,inputMode:this.getInputMode(),maxLength:this.props.maxLength,disabled:this.props.disabled,required:this.props.required,pattern:this.props.pattern,placeholder:this.props.placeholder,readOnly:this.props.readOnly,name:this.props.name,autoFocus:this.props.autoFocus,onKeyDown:this.onInputKeyDown,onKeyPress:this.onInputKeyPress,onInput:this.onInput,onClick:this.onInputClick,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onPaste:this.onPaste,min:this.props.min,max:this.props.max,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,"aria-labelledby":this.props.ariaLabelledBy})}},{key:"renderUpButton",value:function(){var o=Le("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":this.props.disabled},this.props.incrementButtonClassName),m=Le("p-button-icon",this.props.incrementButtonIcon);return Ze("button",{type:"button",className:o,onMouseLeave:this.onUpButtonMouseLeave,onMouseDown:this.onUpButtonMouseDown,onMouseUp:this.onUpButtonMouseUp,onKeyDown:this.onUpButtonKeyDown,onKeyUp:this.onUpButtonKeyUp,disabled:this.props.disabled,tabIndex:-1,children:[he("span",{className:m}),he(Kr,{})]})}},{key:"renderDownButton",value:function(){var o=Le("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":this.props.disabled},this.props.decrementButtonClassName),m=Le("p-button-icon",this.props.decrementButtonIcon);return Ze("button",{type:"button",className:o,onMouseLeave:this.onDownButtonMouseLeave,onMouseDown:this.onDownButtonMouseDown,onMouseUp:this.onDownButtonMouseUp,onKeyDown:this.onDownButtonKeyDown,onKeyUp:this.onDownButtonKeyUp,disabled:this.props.disabled,tabIndex:-1,children:[he("span",{className:m}),he(Kr,{})]})}},{key:"renderButtonGroup",value:function(){var o=this.props.showButtons&&this.renderUpButton(),m=this.props.showButtons&&this.renderDownButton();return this.isStacked()?Ze("span",{className:"p-inputnumber-button-group",children:[o,m]}):Ze(hh,{children:[o,m]})}},{key:"render",value:function(){var o=this,m=Le("p-inputnumber p-component p-inputwrapper",this.props.className,{"p-inputwrapper-filled":this.props.value!=null&&this.props.value.toString().length>0,"p-inputwrapper-focus":this.state.focused,"p-inputnumber-buttons-stacked":this.isStacked(),"p-inputnumber-buttons-horizontal":this.isHorizontal(),"p-inputnumber-buttons-vertical":this.isVertical()}),y=this.renderInputElement(),c=this.renderButtonGroup();return Ze("span",{ref:function(h){return o.element=h},id:this.props.id,className:m,style:this.props.style,children:[y,c]})}}]),n}(ae.exports.Component);Dh(cv,"defaultProps",{value:null,inputRef:null,format:!0,showButtons:!1,buttonLayout:"stacked",incrementButtonClassName:null,decrementButtonClassName:null,incrementButtonIcon:"pi pi-angle-up",decrementButtonIcon:"pi pi-angle-down",locale:void 0,localeMatcher:void 0,mode:"decimal",suffix:null,prefix:null,currency:void 0,currencyDisplay:void 0,useGrouping:!0,minFractionDigits:void 0,maxFractionDigits:void 0,id:null,name:null,type:"text",allowEmpty:!0,step:1,min:null,max:null,disabled:!1,required:!1,tabIndex:null,pattern:null,inputMode:null,placeholder:null,readOnly:!1,size:null,style:null,className:null,inputId:null,autoFocus:!1,inputStyle:null,inputClassName:null,tooltip:null,tooltipOptions:null,ariaLabelledBy:null,onValueChange:null,onChange:null,onBlur:null,onFocus:null,onKeyDown:null});export{Lm as C,gv as H,cv as I,hv as O,Bt as R,Oh as T,he as a,Dm as b,dv as c,Xp as d,mv as e,Um as f,Ze as j,ae as r,pv as u,Sg as v};
