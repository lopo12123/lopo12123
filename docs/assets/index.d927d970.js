var C=Object.defineProperty;var b=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var y=(e,t,r)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))L.call(t,r)&&y(e,r,t[r]);if(b)for(var r of b(t))N.call(t,r)&&y(e,r,t[r]);return e};var w=(e,t,r)=>(y(e,typeof t!="symbol"?t+"":t,r),r);import{u as R,r as a,j as d,a as n,C as k,T as I,v as j,b as O,O as P,R as H,H as _,c as A,d as f,e as B}from"./vendor.41642f7a.js";const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}};D();const S=e=>[{path:"tool",label:"tool",icon:"pi pi-box",items:[{path:"flow-chart",label:"Flow Chart",icon:"pi pi-sitemap",command(){e==null||e("tool/flow-chart")}}]},{path:"spa-demo",label:"spa demo",icon:"pi pi-database",items:[{path:"vite-react-ts",label:"vite-react-ts",icon:"pi pi-book",command(){e==null||e("spa-demo/vite-react-ts")}},{path:"vite-vue-ts",label:"vite-vue-ts",icon:"pi pi-book",command(){e==null||e("spa-demo/vite-vue-ts")}}]}];class z{constructor(){w(this,"ref",null)}bind(t){this.ref=t}info(t,r,s=3e3){var o;(o=this.ref)==null||o.show({severity:"info",summary:r,detail:t,life:s})}success(t,r,s=3e3){var o;(o=this.ref)==null||o.show({severity:"success",summary:r,detail:t,life:s})}warn(t,r,s=3e3){var o;(o=this.ref)==null||o.show({severity:"warn",summary:r,detail:t,life:s})}error(t,r,s=3e3){var o;(o=this.ref)==null||o.show({severity:"error",summary:r,detail:t,life:s})}clear(){var t;(t=this.ref)==null||t.clear()}replyCancel(){this.info("Think twice before you press your mouse!")}}const F=new z,x=()=>F;function W(){const e=R(),t=x(),r=a.exports.useRef(null),[s,o]=a.exports.useState(!1),[i,c]=a.exports.useState(!1),u=[{label:"What do you want?",disabled:!0},{label:"Home",icon:"pi pi-home",command(){e("/")}},...S(e),{label:"star",icon:"pi pi-star",command:()=>{window.open("https://github.com/lopo12123/lopo12123","_blank")}},{label:"some issues",icon:"pi pi-envelope",command(){const p=document.createElement("a"),l='"Issues of flow chart"';p.href=`mailto:lopo@zju.edu.cn?subject=${l}`,p.click()}},{label:"Noting",icon:"pi pi-power-off",command(){t.replyCancel()}}];return d("div",{children:[n("div",{className:"drag-controller",onContextMenu:p=>{var l;(l=r.current)==null||l.show(p)},children:n("div",{id:"navigate-menu","data-pr-tooltip":"you can drag me anywhere.",style:{position:"relative",width:i?"80px":"40px",height:"40px",marginLeft:i?"0":"20px",border:"dashed 1px #777777",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",transition:"ease 1s",overflow:"hidden"},onMouseEnter:()=>{s||c(!0)},onMouseLeave:()=>{s||c(!1)},children:i?d("span",{style:{color:"#777777",fontFamily:"Curlz MT",fontSize:"16px",fontWeight:"bold",lineHeight:"16px",whiteSpace:"nowrap"},children:["Right-Click ",n("br",{}),"Show Menu"]}):n("span",{className:"custom-rgb",style:{opacity:"0.5"},children:n("i",{className:"pi pi-cog pi-spin",style:{fontSize:"24px"}})})})}),n(k,{ref:r,model:u,onShow:()=>{o(!0)},onHide:()=>{o(!1),c(!1)}}),n(I,{target:"#navigate-menu",mouseTrack:!0,mouseTrackTop:20,position:"bottom"})]})}const E=e=>{const t=e.currentTarget,r=t.dataset.dragTarget,o=(e.path||e.composedPath&&e.composedPath()).find(l=>!!l.dataset.dragId&&l.dataset.dragId===r);if(!t||!r||!o)return;const i=e.clientX-o.offsetLeft,c=e.clientY-o.offsetTop,u=l=>{const h=l.clientX-i,m=l.clientY-c;h>0&&h<window.innerWidth-t.offsetWidth-10&&(o.style.left=h+"px"),m>0&&m<window.innerHeight-t.offsetHeight-10&&(o.style.top=m+"px")},p=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",p)},X=({innerEl:e,initPos:t})=>{const r=a.exports.useRef(null),s=j();return a.exports.useLayoutEffect(()=>{var i;const o=(i=r.current)==null?void 0:i.getElementsByClassName("drag-controller")[0];if(!o)throw new Error("No controller for this draggable element.");return o.dataset.dragTarget=s,o.style.cursor="grab",o.style.userSelect="none",o.addEventListener("mousedown",E),()=>{o.removeEventListener("mousedown",E)}},[s]),n("div",{ref:r,"data-drag-id":s,style:v({position:"absolute",zIndex:"10000",width:"fit-content",height:"fit-content"},t),children:e})};function Y(){const e=a.exports.useRef(null);return a.exports.useEffect(()=>(x().bind(e.current),()=>{x().bind(null)}),[]),d("div",{className:"App custom-cursor",style:{position:"relative",width:"100%",height:"100%"},children:[n(O,{ref:e}),n(X,{initPos:{right:"50px",top:"50px"},innerEl:n(W,{})},"navigation-menu"),n(P,{})]})}const M=e=>{var t;return d("div",{style:{position:"relative",width:"fit-content",height:"30px",lineHeight:"30px"},children:[n("span",{className:"custom-rgb",children:n("i",{className:"pi pi-sync pi-spin"})}),n("span",{className:"custom-blink",style:{marginLeft:"10px",fontFamily:"consolas"},children:(t=e.text)!=null?t:"loading"})]})};function g(e){return d("div",{style:{position:"relative",width:"fit-content",height:"fit-content",margin:"20px",border:"solid 1px #cccccc"},children:[d("span",{children:["mid layer ",e.level]})," ",n("br",{}),e.innerEl]})}function $(){const e=a.exports.useContext(T);return d("div",{style:{position:"relative",width:"fit-content",height:"fit-content",margin:"20px",padding:"20px",border:"solid 1px #cccccc"},children:["data from top: ",e]})}const T=a.exports.createContext(null),q=()=>{const[e,t]=a.exports.useState(1);return d("div",{children:[n("br",{})," ",n("br",{}),n("button",{onClick:()=>{t(e+1)},children:"do add"}),n("br",{})," ",n("br",{}),n(T.Provider,{value:e,children:n(g,{level:1,innerEl:n(g,{level:2,innerEl:n(g,{level:3,innerEl:n($,{})},"layer3")},"layer2")},"layer1")},"ctx-test")]})},K="/lopo12123/packages/{SPA_NAME}/adaptor.js";H.render(n(a.exports.StrictMode,{children:n(_,{children:n(a.exports.Suspense,{fallback:n("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:n(M,{})}),children:n(A,{children:d(f,{path:"/",element:n(Y,{}),children:[n(f,{path:"",element:n(q,{})}),S().map((e,t)=>{var r;return n(f,{path:e.path,children:(r=e.items)==null?void 0:r.map((s,o)=>n(f,{path:s.path,element:n(B,{entryPath:K.replace("{SPA_NAME}",s.path),loadingDisplay:n(M,{})},s.path)},`spa-${o}`))},`group-${t}`)})]})})})})}),document.getElementById("root"));
